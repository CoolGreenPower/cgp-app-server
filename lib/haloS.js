/* (C) 2021 Halo Automation Systems LLC; This software is proprietary and is NOT to be distributed or shared in any way.*/"use strict";var v={};if(typeof require!=="undefined"){var util=require("util");v.w="node.js";}else{v.w="other";var require=function(a){if(a.search(".js")!=-1){var cS=(window[a.slice(0,-3)]);}else{cS=window[a];}return cS;};}v.x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";v.y="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";v.z=function(a){v.window=a;v.A=[];function b(c){c.stopPropagation();if(v.A.length>0){var d=v.A.shift();d();}}a.addEventListener("message",b,true);};v.B=function(a,b,c){if(!(c===undefined||c===null)){return c;}else if((a===undefined)||(a===null)){return b;}else{return a;}};v.C=function(a){var b=a.split(/([@,\.])+/);var name=b[0][0].toUpperCase()+b[0].slice(1)+" "+b[2][0].toUpperCase()+b[2].slice(1);return name;};v.D=function(a,b,c){if(c==null){c=a.length;if(b.length!==c){return false;}}if((b.length<c)||(a.length<c)){return false;}for(var cI=0;cI<c;cI++){if(a[cI]!==b[cI]){return false;}}return true;};v.E=function(a,b){if(a==null){a=new Date();}var c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var d=c[a.getMonth()]+" "+a.getDate()+", "+a.getFullYear()+" "+v.F(a.getHours(),2)+":"+v.F(a.getMinutes(),2);if(b){if(b.G){d=a.getFullYear()+"-"+v.F(a.getMonth()+1,2)+"-"+v.F(a.getDate(),2);}else{d=c[a.getMonth()]+" "+a.getDate()+", "+a.getFullYear();}d+=" "+v.F(a.getHours(),2)+":"+v.F(a.getMinutes(),2);if(b.H){d+=":"+v.F(a.getSeconds(),2);}if(b.I){var e=a.getTimezoneOffset();var f=Math.floor(e/60)*100+e%60;if(f<0){f*=-1;f=v.F(f,4);f="+"+f;}else{f=v.F(f,4);f="-"+f;}d+=" "+f;}else if(b.J){d+=" "+a.toString().match(/\(([^)]+)\)$/g)[0].match(/[A-Z]/g).join("");}}return d;};v.K=function(){var now=new Date();return -(now.getTimezoneOffset()/60);};v.L=function(a){if((typeof Buffer!=="undefined")&&(Buffer["isBuffer"](a))){return Array.prototype.slice.call(a,0);}else{return a.concat();}};v.M=function(a,b,c,d){if(b==null){b=a.length;}if(a.splice){a.splice(b,c);var e=a.splice(b,a.length-b);for(var cI=0;cI<d.length;cI++){a.push(d[cI]);}for(var cI=0;cI<e.length;cI++){a.push(e[cI]);}return a;}else if((typeof Buffer!=="undefined")&&(Buffer["isBuffer"](a))){var f=Buffer["alloc"](a.length-c+d.length);a["copy"](f,0,0,b);if(Buffer["isBuffer"](d)){d["copy"](f,b);}else{for(var cI=0;cI<d.length;cI++){f[b+cI]=d[cI];}}a["copy"](f,b+d.length,b+c);return f;}else{throw new Error("Invalid input to common.powerSplice");}};v.setTimeout=function(a,b){if(v.w=="node.js"){return setTimeout(a,b);}else{try{return window.setTimeout(a,b);}catch(c){}}};v.N=function(a){return new Promise(function(b,c){v.setTimeout(b,a);});};v.nextTick=function(a){if(v.w=="node.js"){setImmediate(a);}else{v.A.push(a);v.window.postMessage("","*");}};v.O=function(){return new Promise(function(a,b){v.nextTick(a);});};v.clearTimeout=function(a){if(v.w=="node.js"){clearTimeout(a);}else{v.window.clearTimeout(a);}};v.P=function(a){function b(c){c["clipboardData"]["setData"]("text/plain",a);c["preventDefault"]();document.removeEventListener("copy",b,true);}document.addEventListener("copy",b,true);document["execCommand"]("copy");};v.Q=function(a){var b="";var c=[];for(var cI=0;cI<a.length;cI++){for(var dz=0;dz<8;dz++){c.push((a[cI]>>(7-dz))&1);}}while(c.length%5){c.push(0);}for(var cI=0;cI<c.length;cI+=5){var b3=(c[cI]<<4)^(c[cI+1]<<3)^(c[cI+2]<<2)^(c[cI+3]<<1)^(c[cI+4]);b+=v.y[b3];}return b;};v.R=function(a,b){a=a.toUpperCase();a=a.replace(/-/g,"");a=a.replace(/\s/g,"");var c=[];var d=[];for(var cI=0;cI<a.length;cI++){var b3=v.y.search(a[cI]);if(b3<0){return;}d.push((b3>>4)&1);d.push((b3>>3)&1);d.push((b3>>2)&1);d.push((b3>>1)&1);d.push((b3>>0)&1);}if(b==null){b=Math.floor(d.length/8)*8;}d=d.slice(0,b*8);for(var cI=0;cI<d.length;cI+=8){var b3=(d[cI]<<7)^(d[cI+1]<<6)^(d[cI+2]<<5)^(d[cI+3]<<4)^(d[cI+4]<<3)^(d[cI+5]<<2)^(d[cI+6]<<1)^(d[cI+7]);c.push(b3);}return c;};v.S=function(a){var b=[];for(var cI=0;cI<a;cI++){b[cI]=Math.floor(Math.random()*256);}return b;};v.T=function(){var a=v.S(32);return v.Q(a);};v.U=function(a){return (a&&!(a.propertyIsEnumerable("length"))&&typeof a==="object"&&typeof a.length==="number");};v.V=function(a,b,c,d){var e=document.createElement("option");var f=document.createTextNode(c);e.appendChild(f);if(a){e.setAttribute("selected","true");}e.value=(d!=null)?d:c;b.appendChild(e);};v.W=function(a,b,c){v.X(a,c,b);};v.X=function(a,b,c){c=(c==null)?"value":c;var options=a.getElementsByTagName("option");for(var cI=0;cI<options.length;cI++){if(options[cI].getAttribute(c)==b){a.selectedIndex=cI;return;}}};v.Y=function(a){var b=a.split(",");var j1=[];for(var cI=0;cI<b.length;cI++){var c=parseInt(b[cI],10);j1.push(c);}return j1;};v.Z=function(a){var b=0;var c=0;if(a.offsetParent){do{b+=a.offsetLeft;c+=a.offsetTop;}while(a=a.offsetParent);return {_:b,aa:c};}return undefined;};v.ab=function(a){var b={};for(var cI in a){b[cI]=a[cI];}return b;};v.ac=function(a,b,c){if(c==null){c=500;}if(c===0){throw new Error("Recursion limit reached while copying object");}if(b==null){b=(v.U(a))?[]:{};}for(var cI in a){if(a[cI]==null){b[cI]=null;}else if(typeof a[cI]==="object"){b[cI]=(v.U(a[cI]))?[]:{};v.ac(a[cI],b[cI],c-1);}else{b[cI]=a[cI];}}return b;};v.ad=function(a){var Bp={};for(var cI in a){Bp[cI]=a[cI];}return Bp;};v.ae=function(a){if(typeof a!=="string"){throw new Error("6: Input argument is not a string");}for(var cI=0;cI<a.length;cI++){if(a[cI]=="."){var b=parseFloat(a);break;}}if(b==null){var b=parseInt(a);}if(b==NaN){throw new Error("6: Input string cannot be parsed to a number");}return b;};v.af=function(a){var b="";for(var cI=0;cI<a.length;cI++){var c=a.charCodeAt(cI);if(c<256){b+=String.fromCharCode(c);}else{if(c>=256*256*256){b+=String.fromCharCode((c&4278190080)>>24);}if(c>=256*256){b+=String.fromCharCode((c&16711680)>>16);}if(c>=256){b+=String.fromCharCode((c&65280)>>8);}b+=String.fromCharCode((c&255));}}};v.ag=function(a){var b="";for(var cI=0;cI<a.length;){var c=0;var d=a.charCodeAt(cI++);if(d<=127){c=d;}else if((d&240)===240){var e=a.charCodeAt(cI++);var f=a.charCodeAt(cI++);var g=a.charCodeAt(cI++);c=(((d&7)<<2)+((e&48)>>4))*256*256+(((e&15)<<4)+((f&60)>>2))*256+(((f&3)<<6)+(g&63));}else if((d&224)===224){var e=a.charCodeAt(cI++);var f=a.charCodeAt(cI++);c=(((d&15)<<4)+((e&60)>>2))*256+(((e&3)<<6)+(f&63));}else if((d&192)===192){var e=a.charCodeAt(cI++);c=((d&28)>>2)*256+(e&63)+((d&3)<<6);}else{cI++;}b+=String.fromCharCode(c);}return b;};v.ah=function(a){for(var cI=0;cI<a.childNodes.length;cI++){if(a.childNodes[cI].nodeType===3){a.childNodes[cI].nodeValue=v.ag(a.childNodes[cI].nodeValue);}else{v.ah(a.childNodes[cI]);}}};v.ai=function(a,b){for(var cI=0;cI<a.childNodes.length;cI++){if((b==null)||(a.childNodes[cI].nodeType==b)){a.removeChild(a.childNodes[cI]);cI--;}}};v.aj=function(a,b){for(var cI=0;cI<a.length;cI++){try{b.getElementById(a[cI]).style.display="none";}catch(c){throw new Error("Can't find element id:"+a[cI]);}}};v.ak=function(a,b){for(var cI=0;cI<a.length;cI++){try{b.getElementById(a[cI]).style.display="";}catch(c){throw new Error("Can't find element id:"+a[cI]);}}};v.al=function(a,b,c){if(c){v.ak(a,b);}else{v.aj(a,b);}};v.am=function(a,b){if(typeof a==="string"){return b.createTextNode(a);}var c=b.createElement(a["tag"]);var d=a["attr"];var e=a["children"];for(var i6 in d){var f=d[i6];if(f!=null){if(typeof f==="function"){c.addEventListener(i6.replace(/^on/,""),f,false);}else{c.setAttribute(i6,f);}}}if(e!=null){e.forEach(function(g){if(g!=null){c.appendChild((typeof g==="string")?b.createTextNode(g):v.am(g,b));}});}return c;};v.an=function(a,b,c){v.ai(b);for(var cI=0;cI<a.length;cI++){b.appendChild(v.am(a[cI],c));}};v.ao=function(a,b,c){if(c==null){c="*";}var d=[];try{var e=a.getElementsByTagName(c);for(var cI=0;cI<e.length;cI++){if(e[cI].className.search(b)!=-1){d.push(e[cI]);}}}catch(f){}return d;};v.ap=function(a,b,c){if(c==null){c="*";}var d=a.getElementsByTagName(c);for(var cI=0;cI<d.length;cI++){if(d[cI].id==b){return d[cI];}}};v.aq=function(a){var b=new RegExp("^(?=.{8,})(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*\\W).*$","g");var c=new RegExp("^(?=.{7,})(((?=.*[A-Z])(?=.*[a-z]))|((?=.*[A-Z])(?=.*[0-9])"+")|((?=.*[a-z])(?=.*[0-9]))).*$","g");var d=new RegExp("(?=.{6,}).*","g");if(d.test(a)){if(b.test(a)){return 3;}else if(c.test(a)){return 2;}else{return 1;}}return 0;};v.ar=function(a){var b=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return b.test(a);};v.as=function(a){var b=/^([\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6})?$/im;if(b.test(a)){return true;}try{var c=v.at(a).au;if(c===a){return true;}}catch(d){return false;}};v.at=function(a){var b="";for(var cI=0;cI<a.length;cI++){if((a[cI]>="0")&&(a[cI]<="9")){b+=a[cI];}}if((b.length===11)&&(b[0]=="1")){b=b.slice(1);}if(b.length>10){var au="+"+b;}else if(b.length<10){return;}else{var au="1."+b.slice(0,3)+"."+b.slice(3,6)+"."+b.slice(6);}if(b.length>15){return;}return {av:b,au:au};};v.aw=function(a){var b=/(^\d{5}$)|(^\d{9}$)|(^\d{5}-\d{4}$)/;if(b.test(a)){return true;}};v.ax=function(a){var b=/\b\d{3}\b/;if(b.test(a)){return true;}};v.ay=function(a){var zh;return ((a==zh)&&(a!==null));};v.az=function(a){return (v.ay(a)||(a===null));};v.aA=function(a){var b=aB.aC["@mozilla.org/xmlextras/xmlserializer;1"].aD(aB.aE.aF);return b.serializeToString(a);};v.aG=function(a,b){for(var cI=0;cI<a.aH.length;cI++){b.setAttribute(a.aH[cI].nodeName,a.aH[cI].nodeValue);}};v.aI=function(a){var b=new Uint8Array(a.length);for(var cI=0;cI<a.length;cI++){b[cI]=a.charCodeAt(cI);}return b;};v.aJ=function(a){var b="";var c=new Uint8Array(a);for(var cI=0;cI<a["byteLength"];cI++){b+=String.fromCharCode(c[cI]);}return b;};v.aK=function(a){var b=[];for(var cI=0;cI<a.length;cI++){b.push(a.charCodeAt(cI));}return b;};v.aL=function(a,b){var c="";if(b==null){b=0;}for(var cI=b;cI<a.length;cI++){c+=String.fromCharCode(a[cI]);}return c;};v.aM=function(a){for(var dz=0;;dz++){var b=false;for(var cI=0;cI<a.length;cI++){if(a[cI].id==dz){b=true;break;}}if(!b){return dz;}}};v.F=function(a,b,c){if(a==null){return "undefined";}if(c==null){c=10;}var d=a.toString(c);while(d.length<b){d="0"+d;}return d;};v.aN=function(a){if(v.w=="node.js"){console.log(a);}else if(v.w=="xulrunner"){aB.aC["@mozilla.org/consoleservice;1"].aO(aB.aE.aP).aQ(a);}};v.stringify=function(a,b){var c="";var d=JSON.stringify(a);if(b==null){b=80;}while(d.length){if(d.length<b){var e=b;}else{var e=40;for(var cI=0;(cI<d.length)&&(cI<b);cI++){if(d[cI]==","){e=cI;}}}c+=(d.slice(0,e+1)+"\n");d=d.slice(e+1);}return c;};v.aR=function(a){var b=0;for(var cI=0;cI<a.length;cI+=2){var c=String.fromCharCode(a[cI])+String.fromCharCode(a[cI+1]);var d=parseInt(c,16);b=(b*256)+d;}return b;};v.aS=function(a){a=a.replace(/\r\n/g,"\n");var b="";for(var c=0;c<a.length;c++){var Bp=a.charCodeAt(c);if(Bp<128){b+=String.fromCharCode(Bp);}else if((Bp>127)&&(Bp<2048)){b+=String.fromCharCode((Bp>>6)|192);b+=String.fromCharCode((Bp&63)|128);}else{b+=String.fromCharCode((Bp>>12)|224);b+=String.fromCharCode(((Bp>>6)&63)|128);b+=String.fromCharCode((Bp&63)|128);}}return b;};v.aT=function(a){var b=v.aU(v.aL(a));b=b.replace(/\+/g,"-");b=b.replace(/\//g,"_");b=b.replace(/\=/g,"~");return b;};v.aU=function(a){if(typeof Buffer!=="undefined"){var b=Buffer["from"](a,"binary");return b.toString("base64");}var EY="";var c;var d;var e;var f;var g;var h;var i;var cI=0;while(cI<a.length){c=a.charCodeAt(cI++);d=a.charCodeAt(cI++);e=a.charCodeAt(cI++);f=c>>2;g=((c&3)<<4)|(d>>4);h=((d&15)<<2)|(e>>6);i=e&63;if(isNaN(d)){h=i=64;}else if(isNaN(e)){i=64;}EY=EY+v.x.charAt(f)+v.x.charAt(g)+v.x.charAt(h)+v.x.charAt(i);}return EY;};v.aV=function(a){if(typeof Buffer!=="undefined"){var b=Buffer["from"](a,"base64");return b.toString("binary");}var EY="";var c;var d;var e;var f;var g;var h;var i;var cI=0;while(cI<a.length){f=v.x.indexOf(a.charAt(cI++));g=v.x.indexOf(a.charAt(cI++));h=v.x.indexOf(a.charAt(cI++));i=v.x.indexOf(a.charAt(cI++));c=(f<<2)|(g>>4);d=((g&15)<<4)|(h>>2);e=((h&3)<<6)|i;EY+=String.fromCharCode(c);if(h!==64){EY+=String.fromCharCode(d);}if(i!==64){EY+=String.fromCharCode(e);}}return EY;};v.aW=function(a){var b=[];for(var dz=0;dz<a.length;dz+=2){var c=parseInt(a[dz],16);var eu=parseInt(a[dz+1],16);b.push((c*16)+eu);}return v.aK(v.aV(v.aL(b)));};v.aX=function(a){var data=a.concat();var hash=data.length;while(data.length&3){data.push(0);}for(var cI=0;cI<data.length;cI+=4){hash=(hash+(data[cI]+(data[cI+1]<<8)))&65535;hash=((hash<<16)^((((data[cI+2]+(data[cI+3]<<8))<<11)^hash)))&65535;hash=(hash+(hash>>11))&65535;}hash=(hash^(hash<<3))&65535;hash=(hash+(hash>>5))&65535;hash=(hash^(hash<<4))&65535;hash=(hash+(hash>>17))&65535;hash=(hash^(hash<<25))&65535;hash=(hash+(hash>>6))&65535;return hash;};v.aY=function(a){var data=v.aL(a);var b=new aZ.hash(data,"ASCII");var c=b.a_("SHA-256","ARRAY");return ((c[0]*256*256*256)+(c[1]*256*256)+(c[2]*256)+c[0]);};v.a$=function(a){var b=[];for(var cI=0;cI<8;cI++){b.unshift(a&255);a=Math.floor(a/256);}while(b[0]===0){b.splice(0,1);}return v.aU(v.aL(b)).substr(1,7);};v.a0=function(a,b){var c;var d=0;var e=a.length;if((a.length>1)&&(a[0]===60)){e-=2;d++;}for(c=0;c<e;c++){if(c>=b.length){break;}if(a[d+c]!=b[c]){break;}}return {match:c,length:e};};v.a1=function(a){return (Math.floor(a*32.768));};v.a2=function(a){return (a==null)?(new Date()):new Date(Math.floor(a/32.768));};v.a3=function(a,b){var yi=[];for(var cI=0;cI<a.length;cI++){yi[cI]=a[cI];}if(b){for(var cI=0;cI<b.length;cI++){yi[cI+a.length]=b[cI];}}return yi;};v.a4=function(a,b){if(typeof Buffer!=="undefined"){if(a==null){return b;}if(b){if(Buffer["isBuffer"](a)){return Buffer.concat([a,b]);}else{return a.concat(b);}}else{return Buffer.concat([a]);}}else{if(a==null){return b;}else{return a.concat(b);}}};v.a5=function(a){return (a+"").replace(/\b(\d+)((\.\d+)*)\b/g,function(b,c,d){return (c.charAt(0)>0&&!(d||".").lastIndexOf(".")?c.replace(/(\d)(?=(\d{3})+$)/g,"$1,"):c)+d;});};v.a6=function(a){var split=a.split("/").slice(2);var b="";for(var cI in split){if(split[cI]==="children"){continue;}b+=split[cI]+"/";}b=b.slice(0,-1);return b;};v.a7=function(a){var b=a.split("/");var c="root/children/";for(var cI in b){c+=b[cI]+"/children/";}c=c.slice(0,-10);return c;};v.a8=function(a,b,c){var h0=document.createElement(a);c.forEach(function(d){h0["classList"]["add"](d);});b.appendChild(h0);return h0;};v.a9=function(a,b){var copy={};var b3=b===0?0:b||1;for(var cI in a){if(Object.hasOwnProperty.call(a,cI)){copy[b3]=a[cI];b3++;}}return copy;};v.ba=function(a,b){if(a&&Object.prototype["hasOwnProperty"].call(a,"_response")){return a._response;}return b;};v.bb=function(a,b){if(a&&Object.prototype["hasOwnProperty"].call(a,"_responseTarget")){return a._responseTarget;}return b;};v.bc=function(a,b){if(a&&Object.prototype["hasOwnProperty"].call(a,"_type")){return a._type;}return b;};v.bd=function(a,b){if(Array.isArray(a)){a=be.bf(a);}return a.indexOf(b)!==-1;};v.bg=function(a){return v.bd(a,"/machine");};v.bh=function(a){return v.bd(a,"/output");};v.bi=function(a){return v.bd(a,"/workspace");};v.bj=function(a){return v.bd(a,"device/refresh");};v.bk=function(a){return v.bd(a,"/sensor");};v.bl=function(a){return v.bd(a,"/device/transform");};v.bm=function(a){return v.bd(a,"/device/temperature");};v.bi=function(a){return v.bd(a,"/workspace");};v.bn=function(a){return (a.type==="compare"||a.type==="highlevelcontrol"||a._type==="/machine/control/basic/1"||a._type==="/machine/sensor/boolean/1");};v.bo=function(a,b){var c=null;return function(){window.clearTimeout(c);var d=Array.prototype.slice.call(arguments,0);c=window.setTimeout(function(){a.apply(null,d);},b);};};v.bp={};v.bp.bp=function(){};v.bp.bq=function(a){return {br:a.br,bs:a.bs.slice(0)};};v.bp.bt=function(a,b,c,d,e){var f=b.length;var br=0;var g=0;for(var h=0;h<f;h++){var Ge=b[h];if(!Ge.bu){if(!Ge.bv&&e){var value=c.slice(br,br+Ge.bw);value=value["map"](function(i,j){var k=d[g+j];return k.length>i.length?k:i;});Ge.value=a.join(value);}else{Ge.value=a.join(c.slice(br,br+Ge.bw));}br+=Ge.bw;if(!Ge.bv){g+=Ge.bw;}}else{Ge.value=a.join(d.slice(g,g+Ge.bw));g+=Ge.bw;if(h&&b[h-1].bv){var i=b[h-1];b[h-1]=b[h];b[h]=i;}}}var j=b[f-1];if(f>1&&typeof j.value==="string"&&(j.bv||j.bu)&&a.bx("",j.value)){b[f-2].value+=j.value;b.pop();}return b;};v.bp.by=function(a,b,c){var d=false;var e=false;var f=1;var g=true;return function DT(){if(g&&!e){if(d){f++;}else{g=false;}if(a+f<=c){return f;}e=true;}if(!d){if(!e){g=true;}if(b<=a-f){return -f++;}d=true;return DT();}};};v.bp.bp.prototype.bz=function(a,b,c){var bA=c.bA;if(typeof c==="function"){bA=c;c={};}this.options=c;var d=this;function done(e){if(bA){setTimeout(function(){bA(undefined,e);},0);return true;}else{return e;}}a=this.bB(a);b=this.bB(b);a=this.bC(this.bD(a));b=this.bC(this.bD(b));var e=b.length;var f=a.length;var g=1;var h=e+f;var i=[{br:-1,bs:[]}];var j=this.bE(i[0],b,a,0);if(i[0].br+1>=e&&j+1>=f){return done([{value:this.join(b),bw:b.length}]);}function k(){for(var l=-1*g;l<=g;l+=2){var m;var n=i[l-1];var o=i[l+1];var j=(o?o.br:0)-l;if(n){i[l-1]=undefined;}var p=n&&n.br+1<e;var q=o&&0<=j&&j<f;if(!p&&!q){i[l]=undefined;continue;}if(!p||(q&&n.br<o.br)){m=v.bp.bq(o);d.bF(m.bs,undefined,true);}else{m=n;m.br++;d.bF(m.bs,true,undefined);}j=d.bE(m,b,a,l);if(m.br+1>=e&&j+1>=f){return done(v.bp.bt(d,m.bs,b,a,d.bG));}else{i[l]=m;}}g++;}if(bA){(function exec(){setTimeout(function(){if(g>h){return bA();}if(!k()){exec();}},0);}());}else{while(g<=h){var l=k();if(l){return l;}}}};v.bp.bp.prototype.bF=function(a,b,c){var b6=a[a.length-1];if(b6&&b6.bv===b&&b6.bu===c){a[a.length-1]={bw:b6.bw+1,bv:b,bu:c};}else{a.push({bw:1,bv:b,bu:c});}};v.bp.bp.prototype.bE=function(a,b,c,d){var e=0;var f=b.length;var br=a.br;var g=c.length;var h=br-d;while(br+1<f&&h+1<g&&this.bx(b[br+1],c[h+1])){br++;h++;e++;}if(e){a.bs.push({bw:e});}a.br=br;return h;};v.bp.bp.prototype.bx=function(a,b){if(this.options.bH){return this.options.bH(a,b);}else{return a===b||(this.options.ignoreCase&&a.toLowerCase()===b.toLowerCase());}};v.bp.bp.prototype.bC=function(a){var b=[];for(var cI=0;cI<a.length;cI++){if(a[cI]){b.push(a[cI]);}}return b;};v.bp.bp.prototype.bB=function(a){return a;};v.bp.bp.prototype.bD=function(a){return a.split("");};v.bp.bp.prototype.join=function(a){return a.join("");};v.bp.bp.bI=new v.bp.bp();v.bp.bp.bI.bD=function(a){var b=a.split(/(\n|\r\n)/);var c=[];if(!b[b.length-1]){b.pop();}for(var cI=0;cI<b.length;cI++){var sF=b[cI];if(cI%2&&!this.options.bJ){c[c.length-1]+=sF;}else{if(this.options.bK){sF=sF.trim();}c.push(sF);}}return c;};v.bp.bL=function(a,b,c){return v.bp.bp.bI.bz(a,b,c);};v.bp.bM=function(a,b,c){if(typeof b==="string"){b=v.bp.bN(b,c);}if(Array.isArray(b)){if(b.length>1){throw new Error("applyPatch only works with a single input.");}b=b[0];}var d;var bO=c.bO||function(e,f,g,h){return f===h;};var e=a.match(/\r\n|[\n\v\f\r\x85]/g)||[];var f=0;var bP=c.bP||0;var bQ=b.bQ;var bR=a.split(/\r\n|[\n\v\f\r\x85]/);var g=0;var bU=0;var h;function i(j,k){for(var dz=0;dz<j.bR.length;dz++){var sF=j.bR[dz];var l=(sF.length>0?sF[0]:" ");var tZ=(sF.length>0?sF.substr(1):sF);if(l===" "||l==="-"){if(!bO(k+1,bR[k],l,tZ)){f++;if(f>bP){return false;}}k++;}}return true;}for(var cI=0;cI<bQ.length;cI++){var j=bQ[cI];var k=0;var l=bR.length-j.bS;var m=bU+j.bT-1;var DT=v.bp.by(m,g,l);for(;k!==undefined;k=DT()){if(i(j,m+k)){j.bU=bU+=k;break;}}if(k===undefined){return false;}g=j.bU+j.bT+j.bS;}var n=0;for(var cI=0;cI<bQ.length;cI++){var j=bQ[cI];var m=j.bT+j.bU+n-1;n+=j.bW-j.bS;for(var dz=0;dz<j.bR.length;dz++){var sF=j.bR[dz];var o=(sF.length>0?sF[0]:" ");var tZ=(sF.length>0?sF.substr(1):sF);var p=j.b0[dz];if(o===" "){m++;}else if(o==="-"){bR.splice(m,1);e.splice(m,1);}else if(o==="+"){bR.splice(m,0,tZ);e.splice(m,0,p);m++;}else if(o==="\\"){var q=j.bR[dz-1]?j.bR[dz-1][0]:null;if(q==="+"){h=true;}else if(q==="-"){d=true;}}}}if(h){while(!bR[bR.length-1]){bR.pop();e.pop();}}else if(d){bR.push("");e.push("\n");}for(var r=0;r<bR.length-1;r++){bR[r]+=e[r];}return bR.join("");};v.bp.bN=function(a,b){var c=a.match(/\r\n|[\n\v\f\r\x85]/g)||[];var d=a.split(/\r\n|[\n\v\f\r\x85]/);var cI=0;var e=[];function f(g){const h=(/^(---|\+\+\+)\s+(.*)$/).exec(d[cI]);if(h){var i=h[1]==="---"?"old":"new";const data=h[2].split("\t",2);var fileName=data[0].replace(/\\\\/g,"\\");if((/^".*"$/).test(fileName)){fileName=fileName.substr(1,fileName.length-2);}g[i+"FileName"]=fileName;g[i+"Header"]=(data[1]||"").trim();cI++;}}function g(){var h=cI;var i=d[cI++];var j=i.split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/);var k={bT:+j[1],bS:typeof j[2]==="undefined"?1:+j[2],b1:+j[3],bW:typeof j[4]==="undefined"?1:+j[4],bR:[],b0:[]};if(k.bS===0){k.bT+=1;}if(k.bW===0){k.b1+=1;}var l=0;var m=0;for(;cI<d.length;cI++){if(d[cI].indexOf("--- ")===0&&(cI+2<d.length)&&d[cI+1].indexOf("+++ ")===0&&d[cI+2].indexOf("@@")===0){break;}var n=(d[cI].length===0&&cI!=(d.length-1))?" ":d[cI][0];if(n==="+"||n==="-"||n===" "||n==="\\"){k.bR.push(d[cI]);k.b0.push(c[cI]||"\n");if(n==="+"){l++;}else if(n==="-"){m++;}else if(n===" "){l++;m++;}}else{break;}}if(!l&&k.bW===1){k.bW=0;}if(!m&&k.bS===1){k.bS=0;}if(b.b2){if(l!==k.bW){throw new Error("Added line count did not match for hunk at line "+(h+1));}if(m!==k.bS){throw new Error("Removed line count did not match for hunk at line "+(h+1));}}return k;}function h(){var b3={};e.push(b3);while(cI<d.length){var sF=d[cI];if((/^(\-\-\-|\+\+\+|@@)\s/).test(sF)){break;}var i=(/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/).exec(sF);if(i){b3.b3=i[1];}cI++;}f(b3);f(b3);b3.bQ=[];while(cI<d.length){var sF=d[cI];if((/^(Index:|diff|\-\-\-|\+\+\+)\s/).test(sF)){break;}else if((/^@@/).test(sF)){b3.bQ.push(g());}else if(sF&&b.b2){throw new Error("Unknown line "+(cI+1)+" "+JSON.stringify(sF));}else{cI++;}}}while(cI<d.length){h();}return e;};v.bp.b4=function(a,b,c,d,e,f,g){if(!g){g={};}if(typeof g.b5==="undefined"){g.b5=4;}const bz=v.bp.bL(c,d,g);bz.push({value:"",bR:[]});function h(i){return i["map"](function(j){return " "+j;});}var bQ=[];var i=[];var j=1;var k=0;var l=1;var m=0;for(var cI=0;cI<bz.length;cI++){const n=bz[cI];const bR=n.bR||n.value.replace(/\n$/,"").split("\n");n.bR=bR;if(n.bv||n.bu){if(!m){const o=bz[cI-1];m=l;k=j;if(o){i=g.b5>0?h(o.bR.slice(-g.b5)):[];m-=i.length;k-=i.length;}}i.push.apply(i,bR["map"](function(p){return (n.bv?"+":"-")+p;}));if(n.bv){j+=bR.length;}else{l+=bR.length;}}else{if(m){if(bR.length<=g.b5*2&&cI<bz.length-2){i.push.apply(i,h(bR));}else{var p=Math.min(bR.length,g.b5);i.push.apply(i,h(bR.slice(0,p)));var q={bT:m,bS:(l-m+p),b1:k,bW:(j-k+p),bR:i};if(cI>=bz.length-2&&bR.length<=g.b5){var r=((/\n$/).test(c));var s=((/\n$/).test(d));var t=bR.length===0&&i.length>q.bS;if(!r&&t&&c.length>0){i.splice(q.bS,0,"\\ No newline at end of file");}if((!r&&!t)||!s){i.push("\\ No newline at end of file");}}bQ.push(q);m=0;k=0;i=[];}}l+=bR.length;j+=bR.length;}}return {b7:a,b8:b,b9:e,ca:f,bQ:bQ};};v.bp.cb=function(a){const b=[];if(a.b7==a.b8){b.push("Index: "+a.b7);}b.push("===================================================================");b.push("--- "+a.b7+(typeof a.b9==="undefined"?"":"\t"+a.b9));b.push("+++ "+a.b8+(typeof a.ca==="undefined"?"":"\t"+a.ca));for(var cI=0;cI<a.bQ.length;cI++){const c=a.bQ[cI];if(c.bS===0){c.bT-=1;}if(c.bW===0){c.b1-=1;}b.push("@@ -"+c.bT+","+c.bS+" +"+c.b1+","+c.bW+" @@");b.push.apply(b,c.bR);}return b.join("\n")+"\n";};v.bp.cc=function(a,b,c,d,e,f,g){return v.bp.cb(v.bp.b4(a,b,c,d,e,f,g));};v.bp.cd=function(a,b,c,d,e,f){return v.bp.cc(a,a,b,c,d,e,f);};/* (C) 2021 Halo Automation Systems LLC; This software is proprietary and is NOT to be distributed or shared in any way.*/"use strict";var bV={};if(typeof require!=="undefined"){}bV.bX=[];bV.bY={"1":{"name":{_response:"N-series device"},"type":{_response:"NX"},"value":{_response:"/company/paragonrobotics.com/device/transform/22526"}},"2":{"name":{_response:"GW3 gateway"},"type":{_response:"GW"},"value":{_response:"/company/paragonrobotics.com/device/container/3"}},"3":{"name":{_response:"GW4 gateway"},"type":{_response:"GW"},"value":{_response:"/company/paragonrobotics.com/device/container/4"}},"4":{"name":{_response:"GW10 gateway"},"type":{_response:"GW"},"value":{_response:"/company/paragonrobotics.com/device/container/10"}},"5":{"name":{_response:"SC11 temperature"},"type":{_response:"SC"},"value":{_response:"/company/paragonrobotics.com/device/sensor/11"}},"6":{"name":{_response:"SC12 temp & humidity"},"type":{_response:"SC"},"value":{_response:"/company/paragonrobotics.com/device/sensor/12"}},"7":{"name":{_response:"SC14 digital/pulse"},"type":{_response:"SC"},"value":{_response:"/company/paragonrobotics.com/device/sensor/14"}},"8":{"name":{_response:"SC18 analog"},"type":{_response:"SC"},"value":{_response:"/company/paragonrobotics.com/device/sensor/18"}},"9":{"name":{_response:"SC31 thermistor"},"type":{_response:"SC"},"value":{_response:"/company/paragonrobotics.com/device/sensor/31"}},"10":{"name":{_response:"SC32 thermocouple"},"type":{_response:"SC"},"value":{_response:"/company/paragonrobotics.com/device/sensor/32"}},"11":{"name":{_response:"SC33 RTD"},"type":{_response:"SC"},"value":{_response:"/company/paragonrobotics.com/device/sensor/33"}},"12":{"name":{_response:"SC50 motion"},"type":{_response:"SC"},"value":{_response:"/company/paragonrobotics.com/device/sensor/50"}},"13":{"name":{_response:"SC75 CO2"},"type":{_response:"SC"},"value":{_response:"/company/paragonrobotics.com/device/sensor/75"}},"14":{"name":{_response:"SC80 RS232"},"type":{_response:"SC"},"value":{_response:"/company/paragonrobotics.com/device/sensor/80"}},"15":{"name":{_response:"SC100 relay"},"type":{_response:"SC"},"value":{_response:"/company/paragonrobotics.com/device/sensor/100"}},"16":{"name":{_response:"DB1 0-10V analog"},"type":{_response:"DB"},"value":{_response:"/company/paragonrobotics.com/device/refresh/1"}},"17":{"name":{_response:"DB2 true power"},"type":{_response:"DB"},"value":{_response:"/company/paragonrobotics.com/device/refresh/2"}},"18":{"name":{_response:"DB4 0-3V output"},"type":{_response:"DB"},"value":{_response:"/company/paragonrobotics.com/device/refresh/4"}},"19":{"name":{_response:"DB7 4-20mA input"},"type":{_response:"DB"},"value":{_response:"/company/paragonrobotics.com/device/refresh/7"}},"20":{"name":{_response:"DB8 4-20mA output"},"type":{_response:"DB"},"value":{_response:"/company/paragonrobotics.com/device/refresh/8"}},"21":{"name":{_response:"DB9 0-10V output"},"type":{_response:"DB"},"value":{_response:"/company/paragonrobotics.com/device/refresh/9"}},"22":{"name":{_response:"DB13 ambient light"},"type":{_response:"DB"},"value":{_response:"/company/paragonrobotics.com/device/refresh/13"}},"23":{"name":{_response:"DB14 0-5V digital in"},"type":{_response:"DB"},"value":{_response:"/company/paragonrobotics.com/device/refresh/14"}},"24":{"name":{_response:"DB15 0-30V digital in"},"type":{_response:"DB"},"value":{_response:"/company/paragonrobotics.com/device/refresh/15"}},"25":{"name":{_response:"DB18 ext jacks"},"type":{_response:"DB"},"value":{_response:"/company/paragonrobotics.com/device/refresh/18"}},"26":{"name":{_response:"DB24 relay"},"type":{_response:"DB"},"value":{_response:"/company/paragonrobotics.com/device/refresh/24"}},"27":{"name":{_response:"DB31 thermistor"},"type":{_response:"DB"},"value":{_response:"/company/paragonrobotics.com/device/refresh/31"}},"28":{"name":{_response:"DB32 thermistor"},"type":{_response:"DB"},"value":{_response:"/company/paragonrobotics.com/device/refresh/32"}},"29":{"name":{_response:"DB33 RTD temperature"},"type":{_response:"DB"},"value":{_response:"/company/paragonrobotics.com/device/refresh/33"}},"30":{"name":{_response:"DB34 small signal"},"type":{_response:"DB"},"value":{_response:"/company/paragonrobotics.com/device/refresh/34"}},"32":{"name":{_response:"DB36 RTD combo"},"type":{_response:"DB"},"value":{_response:"/company/paragonrobotics.com/device/refresh/36"}},"33":{"name":{_response:"DB50 motion"},"type":{_response:"DB"},"value":{_response:"/company/paragonrobotics.com/device/refresh/50"}},"34":{"name":{_response:"DB60 module"},"type":{_response:"DB"},"value":{_response:"/company/paragonrobotics.com/device/refresh/60"}},"35":{"name":{_response:"DB75 CO2"},"type":{_response:"DB"},"value":{_response:"/company/paragonrobotics.com/device/refresh/75"}},"36":{"name":{_response:"DB76 diff pressure"},"type":{_response:"DB"},"value":{_response:"/company/paragonrobotics.com/device/refresh/76"}},"37":{"name":{_response:"DB77 diff pressure"},"type":{_response:"DB"},"value":{_response:"/company/paragonrobotics.com/device/refresh/77"}},"38":{"name":{_response:"DB80 RS232 serial"},"type":{_response:"DB"},"value":{_response:"/company/paragonrobotics.com/device/refresh/80"}},"39":{"name":{_response:"DB82 RS485 serial"},"type":{_response:"DB"},"value":{_response:"/company/paragonrobotics.com/device/refresh/82"}},"40":{"name":{_response:"DB100 relay"},"type":{_response:"DB"},"value":{_response:"/company/paragonrobotics.com/device/refresh/100"}},"41":{"name":{_response:"DB110 relay"},"type":{_response:"DB"},"value":{_response:"/company/paragonrobotics.com/device/refresh/110"}},"42":{"name":{_response:"TS1 thermostat"},"type":{_response:"DB"},"value":{_response:"/company/paragonrobotics.com/device/temperature/1"}},"43":{"name":{_response:"TS2 thermostat"},"type":{_response:"DB"},"value":{_response:"/company/paragonrobotics.com/device/temperature/2"}},"44":{"name":{_response:"TS100 thermostat"},"type":{_response:"DB"},"value":{_response:"/company/paragonrobotics.com/device/temperature/100"}},"45":{"name":{_response:"BAS20 Contintental Controls"},"type":{_response:"3rd"},"value":{_response:"/company/paragonrobotics.com/device/other/20"}},"46":{"name":{_response:"BAS22 Contintental Controls"},"type":{_response:"3rd"},"value":{_response:"/company/paragonrobotics.com/device/other/22"}},"47":{"name":{_response:"BACnet/IP device"},"type":{_response:"3rd"},"value":{_response:"/company/paragonrobotics.com/device/other/100"}}};bV.bZ=function(a,b){this.b_=a;this.b$=b;this.b6={};this.value=0;this.data=[];};bV.bZ.prototype.ce=function(a){var b=this;if(b.b6.cf){var c=(b.b6.cg>=0)?b.b6.cg:(8+b.b6.cg);b.data=b.data.concat(128|c<<4|b.b6.bw);b.b6={};}};bV.bZ.prototype.ch=function(a){var b=this;if(this.ci==null){this.ci=new Date();}var c=a-this.value;var cg=(c>=0)?Math.floor(c/b.b_):Math.ceil(c/b.b_);var d=cg*b.b_+this.value;if(b.data.length===0){b.data=b.data.concat(be.cj(d,true));}else if(b.b6.cf&&(b.b6.cg==cg)&&(b.b6.bw<15)){b.b6.bw++;}else if((b.b6.cf==null)&&(cg<=3)&&(cg>=-4)){b.ce();b.b6={cf:true,cg:cg,bw:0,ck:d};}else{b.ce();b.data=b.data.concat(be.cj(d,true));}b.value=d;};bV.bZ.prototype.cl=function(a){var b=this;if(b.b6.cf){var c=(b.b6.cg>=0)?b.b6.cg:(8+b.b6.cg);var d=b.data.concat(128|c<<4|b.b6.bw);}else{var d=this.data;}var e={_type:"/machine/database/measurement/item/1","date":{_response:Math.floor(this.ci.getTime()*32.768)},"subtract":{_response:this.b_},"refresh":{_response:this.b$},"data":{_response:v.aL(d)}};if(!a){this.data=[];b.b6={};this.ci=null;}return e;};bV.cm=function(a,b){var c=this;var d="/company/paragonrobotics.com/device/sensor/12/0/1";var e=be.cn(d);this.type=a["type"];this.location=a["location"];this.co=a["timeMode"];this.cp=a["date"];this.cq=[];this.cr=[];var f=[];f=f.concat(101,be.cn("/machine/sensor/basic/1"),122,149,60,97,1,0,62,122,157,60,97,be.cn("/type/K"),62,122,161,60,97,be.cj(0.5),62,122,181,60,97,be.cs("//"+JSON.stringify({type:"equation",ct:"(5.6*MACHINE_1())+34.5;"})+"\n(5.6*MACHINE_1())+34.5;"),62,122,184,60,62,122,196,60,97,be.cj(30),62,122,223,60,97,be.cj(300),62,122,242,60,97,be.cs("Temperature"),62);var g=[];g=g.concat(101,be.cn("/machine/sensor/basic/1"),122,149,60,97,1,0,62,122,157,60,97,be.cn("/type/m^2kgs^-3A^-1"),62,122,161,60,97,be.cj(0.5),62,122,181,60,97,be.cs("//"+JSON.stringify({type:"equation",ct:"(5.6*MACHINE_6())+34.5;"})+"\n(5.6*MACHINE_6())+34.5;"),62,122,184,60,62,122,196,60,97,be.cj(30),62,122,223,60,97,be.cj(2.6),62,122,242,60,97,be.cs("Battery voltage"),62);var h=[];h=h.concat(101,be.cn("/machine/sensor/basic/1"),122,149,60,97,1,0,62,122,157,60,97,60,128,157,230,62,62,122,161,60,97,be.cj(0.25),62,122,181,60,97,be.cs("//"+JSON.stringify({type:"equation",ct:"(5.6*MACHINE_1())+34.5;"})+"\n(5.6*MACHINE_1())+34.5;"),62,122,184,60,62,122,196,60,97,be.cj(30),62,122,223,60,101,be.cn("/number/divide"),122,200,60,101,60,128,153,162,205,62,62,122,201,60,97,1,100,62,62,122,242,60,97,be.cs("Humidity"),62);var da=[];if(a["machineObject"]){var i=a["machineObject"];}else{var i=[];i=i.concat(122,248,60,101,be.cn("/machine/container"),122,1,1,60,f,62,122,1,2,60,h,62,122,1,3,60,g,62,62);}da=da.concat(60,94,60,147,185,159,62,60,145,185,159,62,101,60,be.cn("/company/paragonrobotics.com/device/sensor/12/0/1"),62,122,217,60,122,244,60,122,163,60,97,1,1,62,122,164,60,97,1,1,62,62,122,181,60,62,62,122,60,182,212,232,62,60,97,1,88,62,122,60,182,212,243,62,60,97,1,1,62,122,60,145,185,159,62,60,97,be.cj(bV.bX.length),62,122,242,60,97,be.cs("Fake SC12 temp/humid sensor"),62,122,246,60,62,i,62);var j=function(k,l){console.log("DEVICE MACHINE CONTAINER");var m=be.cu(k.target);m=be.cv(m);if(k.cw===160){var cO=0;for(var n=0;n<k.cx.length;n++){var o=be.bf(k.cx[n].cy);if(o.search("local/")===0){var p=o.split("/");c.cz=Number(p[1]);}}c.cr.push({});k.cA([60,147,185,159,62],function(q,r){bV.cB=bV.bX[q];k.cA([236],function(s,t){c.cE=s;k.cF=0;k.cG(be.cj(s),197,function(u,Iw){k.cJ([1,1]);l(k);});});});}else{k.cJ([1,1]);l(k);}};var k=function(l,m){console.log("TIME MACHINE HANDLER");var n=be.cu(l.target);n=be.cv(n);if(l.cw===197){l.cA(be.cn("refresh"),function(o,p){l.cA(be.cn("run"),function(q,r){var cM=d+"/workspace/"+c.cz+"/machine/"+c.cE+"/change";var type=v.D(n,[196])?"refresh":"start";var s={type:type,b$:o,cL:c.cp,cM:cM,cN:q,cO:c.cz};c.cq.push(s);s.cL=(type=="start")?(null):s.cL;l.cJ([1,1]);m(l);});});}else if(l.cw===162){var n=be.cu(l.target);n=be.cv(n);if(v.D(n,[197,197])){l.cA(be.cn("refresh"),function(o,p){l.cA(be.cn("run"),function(q,r){for(var cI=0;cI<c.cq.length;cI++){if((c.cq[cI].b$==o)&&(c.cq[cI].type=="start")){c.cq[cI].cN=q;c.cq[cI].cL=c.cp+o*1000;}}l.cJ([1,1]);m(l);});});}else{l.cJ([1,1]);m(l);}}else{l.cA([60,147,185,159,62],function(o,p){var some=bV.bX[o];l.cJ([1,1]);m(l);});}};var l=cP.cQ;l.cR[1].cS.cT.cU(j,[201]);l.cV(be.cn("/machine/container"),[60,128,146,201,62],function(m,n){l.cR[1].cS.cT.cU(k,[202]);l.cV(be.cn("/machine/time"),[60,128,146,202,62],function(o,p){cP.cQ.cW([60,128,146,243,62],[60,1,100,62],function(q,r){cP.cQ.cX([60,128,146,243,62],[60,1,100,62],function(s,t){cP.cQ.cZ([60,128,146,243,1,100,62],da,function(u,Iw){var Ix=cP.cQ.c1();Ix.c2=true;bV.bX.push({target:e,c3:[]});Ix.cV(e,be.cn("/local/temporary/100"),function(Iy,Iz){Ix.destroy();v.nextTick(function(){b();});});});});});});});return this;};bV.cm.prototype.c4=function(){var a=null;for(var cI=0;cI<this.cq.length;cI++){if((this.cq[cI].cL!=null)&&((a==null)||(this.cq[cI].cL<a))){a=this.cq[cI].cL;}}return a;};bV.cm.prototype.c5=function(a,b){var c=this;if(a>this.cp){this.cp=Math.ceil(a);}var d=null;var e=null;for(var cI=0;cI<this.cq.length;cI++){if((this.cq[cI].cL!=null)&&((d==null)||(this.cq[cI].cL<d))){d=this.cq[cI].cL;e=this.cq[cI];}}var f=function(){console.log("running change code to:"+e.cM);haloS["dateOverride"]=function(){return new Date(Math.floor(a));};e.cL=c.cp+e.b$*1000;haloS["readValue"](e.cM,function(g,h){b();});};f();};bV.c6=function(a,b,c,d,e,f){var g={"_other":[{"data":[50]},{"data":[49,101,60,128,248,189,62]}],"_type":"/machine/container","1":{"_type":"/machine/sensor/people/button/1","light":{"_response":47},"route":{"_response":8},"option":{"_response":1},"change":{},"dimension":{"_response":4},"description":{"_response":"Power button"}},"2":{"_type":"/machine/sensor/people/button/1","light":{"_response":47},"route":{"_response":5},"option":{"_response":2},"change":{},"dimension":{"_response":4},"description":{"_response":"Security button"}},"3":{"_type":"/machine/sensor/compare/1","run":{"_response":0},"type":{"_responseTarget":"/type/boolean"},"number":{"_response":0},"route":{"_response":3},"database":{},"refresh":{"_response":60},"value":{_response:0},"dimension":{"_response":242},"description":{"_response":"Motion sensor"}},"4":{"_type":"/machine/container/transform/1","create":{"_response":0},"route":{"_response":41},"output":{"_response":0},"description":{"_response":"Motion sensor enable"}},"5":{"_type":"/machine/sensor/voltage/1","route":{"_response":12},"dimension":{"_response":1},"description":{"_response":"Battery voltage (internal)"}},"6":{"_type":"/machine/sensor/basic/1","run":{"_response":0},"type":{"_responseTarget":"/type/m^2kgs^-3A^-1"},"subtract":{"_response":0.25},"code":{"_response":""},"database":{},"refresh":{"_response":60},"value":{"_response":2.9},"dimension":{"_response":242},"description":{"_response":"Battery voltage"}}};var h={"_other":[{"data":[50]},{"data":[49,101,60,128,248,189,62]}],"_type":"/machine/container","1":{"_type":"/machine/sensor/message/1","time":{"_response":9600},"string":{"_response":"\r\n"},"option":{"_response":0},"description":{"_response":"CO2 (internal)"}},"2":{"_type":"/machine/sensor/basic/1","run":{"_response":0},"type":{"_responseTarget":"/type/percent"},"subtract":{"_response":0.25},"code":{"_response":"//{\\\"type\\\":\\\"equation\\\",\\\"equation\\\":\\\"return(Math.fromString(String.slice(MACHINE_1(),3,8))*0.00001);\\\"}\nreturn(Math.fromString(String.slice(MACHINE_1(),3,8))*0.00001);"},"database":{},"refresh":{"_response":60},"value":{"_response":400/1000000},"dimension":{"_response":242},"description":{"_response":"CO2"}},"3":{"_type":"/machine/sensor/people/button/1","light":{"_response":47},"route":{"_response":8},"option":{"_response":1},"change":{},"dimension":{"_response":4},"description":{"_response":"Power button"}},"4":{"_type":"/machine/sensor/people/button/1","light":{"_response":47},"route":{"_response":5},"option":{"_response":2},"change":{},"dimension":{"_response":4},"description":{"_response":"Security button"}},"5":{"_type":"/machine/sensor/voltage/1","route":{"_response":12},"dimension":{"_response":1},"description":{"_response":"Battery voltage (internal)"}},"6":{"_type":"/machine/sensor/basic/1","run":{"_response":0},"type":{"_responseTarget":"/type/m^2kgs^-3A^-1"},"subtract":{"_response":0.25},"code":{"_response":""},"database":{},"refresh":{"_response":60},"value":{"_response":2.9},"dimension":{"_response":242},"description":{"_response":"Battery voltage"}}};var i={"_other":[{"data":[50]},{"data":[49,101,60,128,248,189,62]}],"_type":"/machine/container","1":{"_type":"/machine/sensor/people/button/1","light":{"_response":47},"route":{"_response":8},"option":{"_response":1},"change":{},"dimension":{"_response":4},"description":{"_response":"Power button"}},"2":{"_type":"/machine/sensor/people/button/1","light":{"_response":47},"route":{"_response":5},"option":{"_response":2},"change":{},"dimension":{"_response":4},"description":{"_response":"Security button"}},"3":{"_type":"/machine/sensor/voltage/1","route":{"_response":12},"dimension":{"_response":1},"description":{"_response":"Battery voltage (internal)"}},"4":{"_type":"/machine/sensor/basic/1","run":{"_response":0},"type":{"_responseTarget":"/type/m^2kgs^-3A^-1"},"subtract":{"_response":0.25},"code":{"_response":""},"database":{},"refresh":{"_response":60},"value":{"_response":2.9},"dimension":{"_response":242},"description":{"_response":"Battery voltage"}}};var j={"_other":[{"data":[50]},{"data":[49,101,60,128,248,189,62]}],"_type":"/machine/container","1":{"_type":"/machine/sensor/people/button/1","light":{"_response":47},"route":{"_response":8},"option":{"_response":1},"change":{},"dimension":{"_response":4},"description":{"_response":"Power button"}},"2":{"_type":"/machine/sensor/people/button/1","light":{"_response":47},"route":{"_response":5},"option":{"_response":2},"change":{},"dimension":{"_response":4},"description":{"_response":"Security button"}},"3":{"_type":"/machine/control/switch/1","route":{"_response":39},"start":{"_response":9},"stop":{"_response":43},"description":{"_response":"IR"}},"4":{"_type":"/machine/control/basic/1","run":{"_response":0},"type":{"_responseTarget":"/type/boolean"},"subtract":{"_response":0.25},"code":{"_response":"MACHINE_3();"},"database":{},"target":{"_type":"runner/machine/3"},"value":{_response:0},"dimension":{"_response":242},"description":{"_response":"Relay"}},"5":{"_type":"/machine/sensor/voltage/1","route":{"_response":12},"dimension":{"_response":1},"description":{"_response":"Battery voltage (internal)"}},"6":{"_type":"/machine/sensor/basic/1","run":{"_response":0},"type":{"_responseTarget":"/type/m^2kgs^-3A^-1"},"subtract":{"_response":0.25},"code":{"_response":""},"database":{},"refresh":{"_response":60},"value":{_response:2.7},"dimension":{"_response":242},"description":{"_response":"Battery voltage"}}};var k=[];k=k.concat(60,101,be.cn("/machine/sensor/basic/1"),122,149,60,97,1,0,62,122,157,60,97,be.cn("/type/K"),62,122,161,60,97,be.cj(0.5),62,122,232,60,97,be.cj(1),62,122,181,60,97,be.cs("//"+JSON.stringify({type:"equation",ct:"(5.6*MACHINE_1())+34.5;"})+"\n(5.6*MACHINE_1())+34.5;"),62,122,184,60,62,122,196,60,97,be.cj(30),62,122,223,60,97,be.cj(300),62,122,242,60,97,be.cs("Temperature"),62,62);var l=[];l=l.concat(60,101,be.cn("/machine/sensor/basic/1"),122,149,60,97,1,0,62,122,157,60,97,be.cn("/type/m^2kgs^-3A^-1"),62,122,161,60,97,be.cj(0.5),62,122,232,60,97,be.cj(1),62,122,181,60,97,be.cs("//"+JSON.stringify({type:"equation",ct:"(5.6*MACHINE_6())+34.5;"})+"\n(5.6*MACHINE_6())+34.5;"),62,122,184,60,62,122,196,60,97,be.cj(30),62,122,223,60,97,be.cj(2.6),62,122,242,60,97,be.cs("Battery voltage"),62,62);var m=cP.c7({"_type":"/machine/sensor/boolean/1",cN:{_response:0},ck:{_response:0},c8:{_response:7},c9:{_response:1},type:{_responseTarget:"/type/boolean"},da:{},db:{},value:{_response:0},dc:{_response:242},dd:{_response:"Digital 1"}});var n=[];n={"_type":"/machine/control/basic/1","run":{"_response":0},"type":{"_responseTarget":"/type/m^2kgs^-3A^-1"},"subtract":{"_response":0.001},c9:{_response:1},"code":{},"database":{},"target":{},"value":{_response:0},"dimension":{"_response":242},"description":{"_response":"Voltage output"}};var o=[];o=o.concat(60,101,be.cn("/machine/sensor/basic/1"),122,149,60,97,1,0,62,122,157,60,97,60,128,157,230,62,62,122,161,60,97,be.cj(0.25),62,122,181,60,97,be.cs("//"+JSON.stringify({type:"equation",ct:"(5.6*MACHINE_1())+34.5;"})+"\n(5.6*MACHINE_1())+34.5;"),62,122,184,60,62,122,196,60,97,be.cj(30),62,122,223,60,101,be.cn("/number/divide"),122,200,60,101,60,128,153,162,205,62,62,122,201,60,97,1,100,62,62,122,242,60,97,be.cs("Humidity"),62,62);var p=function(q){var r=[];r=r.concat(60,101,be.cn("/machine/control/basic/1"),122,149,60,97,1,0,62,122,157,60,97,60,128,157,230,62,62,122,161,60,97,be.cj(0.25),62,122,181,60,97,be.cs("//"+JSON.stringify({type:"equation",ct:"(5.6*MACHINE_1())+34.5;"})+"\n(5.6*MACHINE_1())+34.5;"),62,122,184,60,62,122,196,60,97,be.cj(30),62,122,223,60,101,be.cn("/number/divide"),122,200,60,101,60,128,153,162,205,62,62,122,201,60,97,1,100,62,62,122,242,60,97,be.cs(q),62,62);return r;};var q=function(r){var s=[];s=s.concat(60,101,be.cn("/machine/control/basic/1"),122,149,60,97,1,0,62,122,157,60,97,60,128,157,230,62,62,122,161,60,97,be.cj(0.25),62,122,181,60,97,be.cs("//"+JSON.stringify({type:"equation",ct:"(5.6*MACHINE_1())+34.5;"})+"\n(5.6*MACHINE_1())+34.5;"),62,122,184,60,62,122,196,60,97,be.cj(30),62,122,223,60,101,be.cn("/number/divide"),122,200,60,101,60,128,153,162,205,62,62,122,201,60,97,1,100,62,62,122,242,60,97,be.cs(r),62,62);return s;};if((a=="/company/paragonrobotics.com/device/sensor/11")||(a=="/company/paragonrobotics.com/device/sensor/31")||(a=="/company/paragonrobotics.com/device/sensor/32")||(a=="/company/paragonrobotics.com/device/sensor/33")){var r={"security":{},"description":{_response:(a=="/company/paragonrobotics.com/device/sensor/11")?"Proxy SC11 temp sensor":(a=="/company/paragonrobotics.com/device/sensor/31")?"Proxy SC31 thermistor sensor":(a=="/company/paragonrobotics.com/device/sensor/32")?"Proxy SC32 thermocouple sensor":"Proxy SC33 RTD sensor"},"type":{_responseTarget:a+"/1"},"network":{"target":{"power":{_response:190},"temporary":{_response:1}},"change":{_response:1}},"machine":{_type:"/machine/container","1":cP.de(k),"2":cP.de(l)},"workspace":{},"software":{"version":{"larger":{_response:3},"smaller":{_response:1}}}};}else if(a=="/company/paragonrobotics.com/device/sensor/14"){var r={"security":{},"description":{_response:"Proxy SC14 external sensor"},"type":{_responseTarget:"/company/paragonrobotics.com/device/sensor/14/1"},"network":{"target":{"power":{_response:190},"temporary":{_response:1}},"change":{_response:1}},"machine":{_type:"/machine/container","1":{"_type":"/machine/sensor/people/button/1","light":{"_response":47},"route":{"_response":8},"option":{"_response":1},"change":{},"dimension":{"_response":4},"description":{"_response":"Power button"}},"2":{"_type":"/machine/sensor/people/button/1","light":{"_response":47},"route":{"_response":5},"option":{"_response":2},"change":{},"dimension":{"_response":4},"description":{"_response":"Security button"}},"3":cP.de(l)},"workspace":{},"software":{"version":{"larger":{_response:3},"smaller":{_response:1}}}};}else if(a=="/company/paragonrobotics.com/device/sensor/18"){var r={"security":{},"description":{_response:"Proxy SC18 external sensor"},"type":{_responseTarget:"/company/paragonrobotics.com/device/sensor/18/1"},"network":{"target":{"power":{_response:190},"temporary":{_response:1}},"change":{_response:1}},"machine":{_type:"/machine/container","1":{"_type":"/machine/sensor/people/button/1","light":{"_response":47},"route":{"_response":8},"option":{"_response":1},"change":{},"dimension":{"_response":4},"description":{"_response":"Power button"}},"2":{"_type":"/machine/sensor/people/button/1","light":{"_response":47},"route":{"_response":5},"option":{"_response":2},"change":{},"dimension":{"_response":4},"description":{"_response":"Security button"}},"3":cP.de(l)},"workspace":{},"software":{"version":{"larger":{_response:3},"smaller":{_response:1}}}};}else if(a=="/company/paragonrobotics.com/device/sensor/50"){var r={"security":{},"description":{_response:"Proxy SC50 motion sensor"},"type":{_responseTarget:"/company/paragonrobotics.com/device/sensor/50/1"},"network":{"target":{"power":{_response:190},"temporary":{_response:1}},"change":{_response:1}},"machine":g,"workspace":{},"software":{"version":{"larger":{_response:3},"smaller":{_response:1}}}};}else if(a=="/company/paragonrobotics.com/device/sensor/75"){var r={"security":{},"description":{_response:"Proxy SC75 CO2 sensor"},"type":{_responseTarget:"/company/paragonrobotics.com/device/sensor/75/1"},"network":{"target":{"power":{_response:190},"temporary":{_response:1}},"change":{_response:1}},"machine":h,"workspace":{},"software":{"version":{"larger":{_response:3},"smaller":{_response:1}}}};}else if(a=="/company/paragonrobotics.com/device/sensor/80"){var r={"security":{},"description":{_response:"Proxy SC80 serial RS232"},"type":{_responseTarget:"/company/paragonrobotics.com/device/sensor/80/1"},"network":{"target":{"power":{_response:190},"temporary":{_response:1}},"change":{_response:1}},"machine":i,"workspace":{},"software":{"version":{"larger":{_response:3},"smaller":{_response:1}}}};}else if(a=="/company/paragonrobotics.com/device/sensor/100"){var r={"security":{},"description":{_response:"Proxy SC100 relay control"},"type":{_responseTarget:"/company/paragonrobotics.com/device/sensor/100/1"},"network":{"target":{"power":{_response:190},"temporary":{_response:1}},"change":{_response:1}},"machine":j,"workspace":{},"software":{"version":{"larger":{_response:3},"smaller":{_response:1}}}};}else if(a=="/company/paragonrobotics.com/device/bascontrol20/1"){var r={"security":{},"description":{_response:"BASControl20"},"type":{_responseTarget:"/company/paragonrobotics.com/device/bascontrol20/1/1"},"network":{"target":{"power":{_response:190},"temporary":{_response:1}},"change":{_response:1}},"machine":{"1":{_type:"/type/electrical/input/greater/1",dd:"UI1",target:{}},"2":{_type:"/type/electrical/input/greater/1",dd:"UI2",target:{}},"3":{_type:"/type/electrical/output/voltage/1",dd:"AO1",target:{}},"4":{_type:"/type/electrical/output/voltage/1",dd:"AO2",target:{}}},"workspace":{},"software":{"version":{"larger":{_response:3},"smaller":{_response:1}}}};}else if(a=="/company/paragonrobotics.com/device/bascontrol22/1"){var r={"security":{},"description":{_response:"BASControl22"},"type":{_responseTarget:"/company/paragonrobotics.com/device/bascontrol22/1/1"},"network":{"target":{"power":{_response:190},"temporary":{_response:1}},"change":{_response:1}},"machine":{"1":{_type:"/type/electrical/input/greater/1",dd:"UI1",target:{}},"2":{_type:"/type/electrical/input/greater/1",dd:"UI2",target:{}},"3":{_type:"/type/electrical/output/voltage/1",dd:"AO1",target:{}},"4":{_type:"/type/electrical/output/voltage/1",dd:"AO2",target:{}}},"workspace":{},"software":{"version":{"larger":{_response:3},"smaller":{_response:1}}}};}else if(a=="/company/paragonrobotics.com/device/transform/22526"){var r={"security":{},"description":{_response:"Proxy N-22-52-6 device"},"type":{_responseTarget:"/company/paragonrobotics.com/device/transform/22526/1"},"network":{"target":{"power":{_response:190},"temporary":{_response:1}},"change":{_response:1},"container":{}},"machine":{_type:"/machine/container","1":cP.de(k),"2":cP.de(o),"3":cP.de(l)},"workspace":{},"software":{"version":{"larger":{_response:3},"smaller":{_response:1}}}};r["machine"]["3"].value._response=3.9;}else if(a=="/company/paragonrobotics.com/device/refresh/1"){var r={"security":{},"description":{_response:"Proxy DB1 module"},"type":{_responseTarget:"/company/paragonrobotics.com/device/refresh/1/1"},"network":{"target":{"power":{_response:0},"temporary":{_response:1}},"change":{_response:1},"container":{}},"machine":{_type:"/machine/container","1":cP.de(l),"2":cP.de(l),"3":cP.de(l),"4":cP.de(l)},"workspace":{},"software":{"version":{"larger":{_response:1},"smaller":{_response:1}}}};r["machine"]["1"]["description"]._response="Voltage 1";r["machine"]["2"]["description"]._response="Voltage 2";r["machine"]["3"]["description"]._response="Voltage 3";r["machine"]["4"]["description"]._response="Voltage 4";r["machine"]["1"]["power"]._response=0;r["machine"]["2"]["power"]._response=0;r["machine"]["3"]["power"]._response=0;r["machine"]["4"]["power"]._response=0;}else if(a=="/company/paragonrobotics.com/device/refresh/2"){var r={"security":{},"description":{_response:"Proxy DB2 module"},"type":{_responseTarget:"/company/paragonrobotics.com/device/refresh/2/1"},"network":{"target":{"power":{_response:0},"temporary":{_response:1}},"change":{_response:1},"container":{}},"machine":{_type:"/machine/container","1":cP.de(l),"2":cP.de(l)},"workspace":{},"software":{"version":{"larger":{_response:1},"smaller":{_response:1}}}};r["machine"]["1"]["description"]._response="Real-time power";r["machine"]["1"]["type"]._responseTarget="/type/m^2kgs^-3";r["machine"]["1"]["power"]._response=0;r["machine"]["2"]["description"]._response="Energy usage";r["machine"]["2"]["type"]._responseTarget="/type/m^2kgs^-2";r["machine"]["2"]["power"]._response=0;}else if((a=="/company/paragonrobotics.com/device/refresh/4")||(a=="/company/paragonrobotics.com/device/refresh/9")){var r={"security":{},"description":{_response:"Proxy DB4 module"},"type":{_responseTarget:"/company/paragonrobotics.com/device/refresh/4/1"},"network":{"target":{"power":{_response:0},"temporary":{_response:1}},"change":{_response:1},"container":{}},"machine":{_type:"/machine/container","1":n,"2":n,"3":n,"4":n},"workspace":{},"software":{"version":{"larger":{_response:1},"smaller":{_response:1}}}};r["machine"]["1"]["description"]._response="Voltage control 1";r["machine"]["2"]["description"]._response="Voltage control 2";r["machine"]["3"]["description"]._response="Voltage control 3";r["machine"]["4"]["description"]._response="Voltage control 4";r["machine"]["1"]["power"]._response=0;r["machine"]["2"]["power"]._response=0;r["machine"]["3"]["power"]._response=0;r["machine"]["4"]["power"]._response=0;if(a=="/company/paragonrobotics.com/device/refresh/9"){r["description"]._response="Proxy DB9 module";r["type"]._responseTarget="/company/paragonrobotics.com/device/refresh/9/1";}}else if(a=="/company/paragonrobotics.com/device/refresh/7"){var r={"security":{},"description":{_response:"Proxy DB7 module"},"type":{_responseTarget:"/company/paragonrobotics.com/device/refresh/7/1"},"network":{"target":{"power":{_response:0},"temporary":{_response:1}},"change":{_response:1},"container":{}},"machine":{_type:"/machine/container","1":cP.de(l),"2":cP.de(l)},"workspace":{},"software":{"version":{"larger":{_response:1},"smaller":{_response:1}}}};r["machine"]["1"]["description"]._response="4-20mA input 1";r["machine"]["1"]["type"]._responseTarget="/type/A";r["machine"]["1"]["power"]._response=0;r["machine"]["2"]["description"]._response="4-20mA input 2";r["machine"]["2"]["type"]._responseTarget="/type/A";r["machine"]["2"]["power"]._response=0;}else if(a=="/company/paragonrobotics.com/device/refresh/8"){var r={"security":{},"description":{_response:"Proxy DB8 module"},"type":{_responseTarget:"/company/paragonrobotics.com/device/refresh/8/1"},"network":{"target":{"power":{_response:0},"temporary":{_response:1}},"change":{_response:1},"container":{}},"machine":{_type:"/machine/container","1":n,"2":n},"workspace":{},"software":{"version":{"larger":{_response:1},"smaller":{_response:1}}}};r["machine"]["1"]["description"]._response="4-20mA output 1";r["machine"]["1"]["type"]._responseTarget="/type/A";r["machine"]["1"]["power"]._response=0;r["machine"]["2"]["description"]._response="4-20mA output 2";r["machine"]["2"]["type"]._responseTarget="/type/A";r["machine"]["2"]["power"]._response=0;}else if((a=="/company/paragonrobotics.com/device/refresh/14")||(a=="/company/paragonrobotics.com/device/refresh/15")){var s=(a=="/company/paragonrobotics.com/device/refresh/15");var r={"security":{},"description":{_response:s?"Proxy DB15 module":"Proxy DB14 module"},"type":{_responseTarget:s?"/company/paragonrobotics.com/device/refresh/15/1":"/company/paragonrobotics.com/device/refresh/14/1"},"network":{"target":{"power":{_response:0},"temporary":{_response:1}},"change":{_response:1},"container":{}},"machine":{_type:"/machine/container","1":cP.de(l),"2":cP.de(l),"3":cP.de(l),"4":cP.de(l)},"workspace":{},"software":{"version":{"larger":{_response:1},"smaller":{_response:1}}}};r["machine"]["1"]["description"]._response="Input 1";r["machine"]["1"]["type"]._responseTarget="/type/boolean";r["machine"]["1"]["power"]._response=0;r["machine"]["2"]["description"]._response="Input 2";r["machine"]["2"]["type"]._responseTarget="/type/boolean";r["machine"]["2"]["power"]._response=0;r["machine"]["3"]["description"]._response="Input 3";r["machine"]["3"]["type"]._responseTarget="/type/boolean";r["machine"]["3"]["power"]._response=0;r["machine"]["4"]["description"]._response="Input 4";r["machine"]["4"]["type"]._responseTarget="/type/boolean";r["machine"]["4"]["power"]._response=0;}else if((a=="/company/paragonrobotics.com/device/refresh/31")||(a=="/company/paragonrobotics.com/device/refresh/32")||(a=="/company/paragonrobotics.com/device/refresh/33")){var r={"security":{},"description":{_response:(a=="/company/paragonrobotics.com/device/refresh/31")?"Proxy DB31 thermistor module":(a=="/company/paragonrobotics.com/device/refresh/32")?"Proxy DB32 thermocouple module":"Proxy DB33 RTD module"},"type":{_responseTarget:a+"/1"},"network":{"target":{"power":{_response:190},"temporary":{_response:1}},"change":{_response:1}},"machine":{_type:"/machine/container","1":cP.de(k)},"workspace":{},"software":{"version":{"larger":{_response:3},"smaller":{_response:1}}}};r["machine"]["1"]["power"]._response=0;}else if((a=="/company/paragonrobotics.com/device/refresh/35")||(a=="/company/paragonrobotics.com/device/refresh/36")){var r={"security":{},"description":{_response:(a=="/company/paragonrobotics.com/device/refresh/35")?"Proxy DB35 RTD combo":"Proxy DB36 RTD combo"},"type":{_responseTarget:a+"/1"},"network":{"target":{"power":{_response:190},"temporary":{_response:1}},"change":{_response:1}},"machine":{_type:"/machine/container","1":cP.de(k),"2":cP.de(m)},"workspace":{},"software":{"version":{"larger":{_response:3},"smaller":{_response:1}}}};}else if(a=="/company/paragonrobotics.com/device/refresh/18"){var r={"security":{},"description":{_response:"Proxy DB18 module"},"type":{_responseTarget:"/company/paragonrobotics.com/device/refresh/18/1"},"network":{"target":{"power":{_response:0},"temporary":{_response:1}},"change":{_response:1},"container":{}},"machine":{_type:"/machine/container","1":cP.de(l),"2":cP.de(l),"3":cP.de(l)},"workspace":{},"software":{"version":{"larger":{_response:1},"smaller":{_response:1}}}};r["machine"]["1"]["description"]._response="Voltage 1";r["machine"]["1"]["power"]._response=0;r["machine"]["2"]["description"]._response="Voltage 2";r["machine"]["2"]["power"]._response=0;r["machine"]["3"]["description"]._response="Voltage 3";r["machine"]["3"]["power"]._response=0;}else if(a=="/company/paragonrobotics.com/device/refresh/34"){var r={"security":{},"description":{_response:"Proxy DB34 module"},"type":{_responseTarget:"/company/paragonrobotics.com/device/refresh/34/1"},"network":{"target":{"power":{_response:0},"temporary":{_response:1}},"change":{_response:1},"container":{}},"machine":{_type:"/machine/container","1":cP.de(l)},"workspace":{},"software":{"version":{"larger":{_response:1},"smaller":{_response:1}}}};r["machine"]["1"]["description"]._response="Voltage 1";r["machine"]["1"]["power"]._response=0;}else if(a=="/company/paragonrobotics.com/device/refresh/75"){var r={"security":{},"description":{_response:"Proxy DB75 module"},"type":{_responseTarget:"/company/paragonrobotics.com/device/refresh/75/1"},"network":{"target":{"power":{_response:0},"temporary":{_response:1}},"change":{_response:1},"container":{}},"machine":{_type:"/machine/container","1":cP.de(l)},"workspace":{},"software":{"version":{"larger":{_response:1},"smaller":{_response:1}}}};r["machine"]["1"]["description"]._response="CO2";r["machine"]["1"]["type"]._responseTarget="/type/percent";}else if(a=="/company/paragonrobotics.com/device/refresh/13"){var r={"security":{},"description":{_response:"Proxy DB13 module"},"type":{_responseTarget:"/company/paragonrobotics.com/device/refresh/13/1"},"network":{"target":{"power":{_response:0},"temporary":{_response:1}},"change":{_response:1},"container":{}},"machine":{_type:"/machine/container","1":cP.de(l),"2":cP.de(l)},"workspace":{},"software":{"version":{"larger":{_response:1},"smaller":{_response:1}}}};r["machine"]["1"]["description"]._response="Visible irradiance";r["machine"]["1"]["type"]._responseTarget="/type/kgs^-2";r["machine"]["2"]["description"]._response="IR irradiance";r["machine"]["2"]["type"]._responseTarget="/type/kgs^-2";}else if(a=="/company/paragonrobotics.com/device/refresh/50"){var r={"security":{},"description":{_response:"Proxy DB50 module"},"type":{_responseTarget:"/company/paragonrobotics.com/device/refresh/50/1"},"network":{"target":{"power":{_response:0},"temporary":{_response:1}},"change":{_response:1},"container":{}},"machine":{_type:"/machine/container","1":{"_type":"/machine/sensor/compare/1","run":{"_response":0},"type":{"_responseTarget":"/type/boolean"},"number":{"_response":0},"route":{"_response":3},"database":{},"refresh":{"_response":60},"value":{_response:0},"dimension":{"_response":242},"description":{"_response":"Motion sensor"}}},"workspace":{},"software":{"version":{"larger":{_response:1},"smaller":{_response:1}}}};}else if(a=="/company/paragonrobotics.com/device/refresh/60"){var r={"security":{},"description":{_response:"Proxy DB60 module"},"type":{_responseTarget:"/company/paragonrobotics.com/device/refresh/60/1"},"network":{"target":{"power":{_response:0},"temporary":{_response:1}},"change":{_response:1},"container":{}},"machine":{},"workspace":{},"software":{"version":{"larger":{_response:1},"smaller":{_response:1}}}};}else if((a=="/company/paragonrobotics.com/device/refresh/76")||(a=="/company/paragonrobotics.com/device/refresh/77")){var t=(a=="/company/paragonrobotics.com/device/refresh/77");var r={"security":{},"description":{_response:t?"Proxy DB77 module":"Proxy DB76 module"},"type":{_responseTarget:t?"/company/paragonrobotics.com/device/refresh/77/1":"/company/paragonrobotics.com/device/refresh/76/1"},"network":{"target":{"power":{_response:0},"temporary":{_response:1}},"change":{_response:1},"container":{}},"machine":{_type:"/machine/container","1":cP.de(l)},"workspace":{},"software":{"version":{"larger":{_response:1},"smaller":{_response:1}}}};r["machine"]["1"]["description"]._response="Differential pressure";r["machine"]["1"]["type"]._responseTarget="/type/m^-1kgs^-2";}else if((a=="/company/paragonrobotics.com/device/refresh/80")||(a=="/company/paragonrobotics.com/device/refresh/82")){var u=(a=="/company/paragonrobotics.com/device/refresh/82");var r={"security":{},"description":{_response:u?"Proxy DB82 module":"Proxy DB80 module"},"type":{_responseTarget:u?"/company/paragonrobotics.com/device/refresh/82/1":"/company/paragonrobotics.com/device/refresh/80/1"},"network":{"target":{"power":{_response:0},"temporary":{_response:1}},"change":{_response:1},"container":{}},"machine":{_type:"/machine/container"},"workspace":{},"software":{"version":{"larger":{_response:1},"smaller":{_response:1}}}};}else if((a=="/company/paragonrobotics.com/device/refresh/100")||(a=="/company/paragonrobotics.com/device/refresh/110")){var Iw=(a=="/company/paragonrobotics.com/device/refresh/110");var r={"security":{},"description":{_response:Iw?"Proxy DB110 module":"Proxy DB100 module"},"type":{_responseTarget:Iw?"/company/paragonrobotics.com/device/refresh/110/1":"/company/paragonrobotics.com/device/refresh/100/1"},"network":{"target":{"power":{_response:0},"temporary":{_response:1}},"change":{_response:1},"container":{}},"machine":{_type:"/machine/container","1":{"_type":"/machine/control/basic/1","run":{"_response":0},"type":{"_responseTarget":"/type/boolean"},"subtract":{"_response":0.25},"code":{},"database":{},"target":{},"value":{_response:0},"dimension":{"_response":242},"description":{"_response":"Relay"}}},"workspace":{},"software":{"version":{"larger":{_response:1},"smaller":{_response:1}}}};}else if(a=="/company/paragonrobotics.com/device/refresh/24"){var r={"security":{},"description":{_response:"Proxy DB24 module"},"type":{_responseTarget:"/company/paragonrobotics.com/device/refresh/24/1"},"network":{"target":{"power":{_response:0},"temporary":{_response:1}},"change":{_response:1},"container":{}},"machine":{_type:"/machine/container","1":{"_type":"/machine/control/basic/1","run":{"_response":0},"type":{"_responseTarget":"/type/boolean"},"subtract":{"_response":0.25},"code":{},"database":{},"target":{},"value":{_response:0},"dimension":{"_response":242},"description":{"_response":"Relay 1"}},"2":{"_type":"/machine/control/basic/1","run":{"_response":0},"type":{"_responseTarget":"/type/boolean"},"subtract":{"_response":0.25},"code":{},"database":{},"target":{},"value":{_response:0},"dimension":{"_response":242},"description":{"_response":"Relay 2"}}},"workspace":{},"software":{"version":{"larger":{_response:1},"smaller":{_response:1}}}};}else if((a=="/company/paragonrobotics.com/device/temperature/1")||(a=="/company/paragonrobotics.com/device/temperature/2")||(a=="/company/paragonrobotics.com/device/temperature/100")){var Ix=(a=="/company/paragonrobotics.com/device/temperature/2");var Iy=(a=="/company/paragonrobotics.com/device/temperature/100");var r={"security":{},"description":{_response:Iy?"Proxy TS100 module":Ix?"Proxy TS2 module":"Proxy TS1 module"},"type":{_responseTarget:Iy?"/company/paragonrobotics.com/device/temperature/100/1":Ix?"/company/paragonrobotics.com/device/temperature/2/1":"/company/paragonrobotics.com/device/temperature/1/1"},"network":{"target":{"power":{_response:0},"temporary":{_response:1}},"change":{_response:1},"container":{}},"machine":{_type:"/machine/container"},"workspace":{},"software":{"version":{"larger":{_response:1},"smaller":{_response:1}}}};var Iz={"_type":"/machine/control/basic/1","run":{"_response":0},"type":{"_responseTarget":"/type/boolean"},"subtract":{"_response":0.25},"code":{},"database":{},"target":{},"value":{_response:0},"dimension":{"_response":242},"description":{"_response":"Relay G"}};if(Iy){r["machine"]["1"]=v.ac(Iz);r["machine"]["1"]["description"]._response="Relay 1";r["machine"]["2"]=v.ac(Iz);r["machine"]["2"]["description"]._response="Relay 2";r["machine"]["3"]=v.ac(Iz);r["machine"]["3"]["description"]._response="Relay 3";r["machine"]["4"]=v.ac(Iz);r["machine"]["4"]["description"]._response="Relay 4";}else if(Ix){r["machine"]["1"]=v.ac(Iz);r["machine"]["1"]["description"]._response="Relay 1";r["machine"]["2"]=v.ac(Iz);r["machine"]["2"]["description"]._response="Relay 2";r["machine"]["3"]=v.ac(Iz);r["machine"]["3"]["description"]._response="Relay 3";r["machine"]["4"]=v.ac(Iz);r["machine"]["4"]["description"]._response="Relay 4";r["machine"]["5"]=v.ac(Iz);r["machine"]["5"]["description"]._response="Relay 5";r["machine"]["6"]=v.ac(Iz);r["machine"]["6"]["description"]._response="Relay 6";r["machine"]["7"]=v.ac(Iz);r["machine"]["7"]["description"]._response="Relay 7";}else{r["machine"]["1"]=v.ac(Iz);r["machine"]["1"]["description"]._response="Relay 1";r["machine"]["2"]=v.ac(Iz);r["machine"]["2"]["description"]._response="Relay 2";r["machine"]["3"]=v.ac(Iz);r["machine"]["3"]["description"]._response="Relay 3";}}else if(a=="/company/paragonrobotics.com/device/other/20"){var r={"security":{},"description":{_response:"Proxy BAS20 CC controller"},"type":{_responseTarget:"/company/paragonrobotics.com/device/other/20/1"},"network":{"target":{"power":{_response:0},"temporary":{_response:1}},"change":{_response:1},"container":{}},"machine":{_type:"/machine/container"},"workspace":{},"software":{"version":{"larger":{_response:1},"smaller":{_response:1}}}};}else if(a=="/company/paragonrobotics.com/device/other/22"){var r={"security":{},"description":{_response:"Proxy BAS22 CC controller"},"type":{_responseTarget:"/company/paragonrobotics.com/device/other/22/1"},"network":{"target":{"power":{_response:0},"temporary":{_response:1}},"change":{_response:1},"container":{}},"machine":{_type:"/machine/container"},"workspace":{},"software":{"version":{"larger":{_response:1},"smaller":{_response:1}}}};}else if(a=="/company/paragonrobotics.com/device/other/100"){var r={"security":{},"description":{_response:"BACnet/IP device"},"type":{_responseTarget:"/company/paragonrobotics.com/device/other/100/1"},"network":{"target":{"power":{_response:0},"temporary":{_response:1}},"change":{_response:1},"container":{}},"machine":{_type:"/machine/container"},"workspace":{},"software":{"version":{"larger":{_response:1},"smaller":{_response:1}}}};}else if((a=="/company/paragonrobotics.com/device/container/3")||(a=="/company/paragonrobotics.com/device/container/4")||(a=="/company/paragonrobotics.com/device/container/10")){var name=a.replace("/company/paragonrobotics.com/device/container/","GW");var r={"security":{},"description":{_response:"Proxy "+name+" gateway"},"type":{_responseTarget:a+"/1"},"network":{"target":{"power":{_response:190},"temporary":{_response:1}},"change":{_response:1},"container":{}},"machine":{_type:"/machine/container"},"workspace":{},"software":{"version":{"larger":{_response:3},"smaller":{_response:1}}}};}else{var r={"security":{},"description":{_response:"Proxy SC12 temp/humidity sensor"},"type":{_responseTarget:"/company/paragonrobotics.com/device/sensor/12/1"},"network":{"target":{"power":{_response:190},"temporary":{_response:1}},"change":{_response:1}},"machine":{_type:"/machine/container","1":cP.de(k),"2":cP.de(o),"3":cP.de(l)},"workspace":{},"software":{"version":{"larger":{_response:3},"smaller":{_response:1}}}};}if(f){return r;}var IA=b.dl("device");IA.dm(function(){var IC=true;var ID=Date.now()-1;var IE;while(IC){ID++;IE=a+"/0/"+ID;IC=false;for(var cI in IA.data){if(IA.data[cI]._type==IE){IC=true;}}}var b3=1;while(IA.data[b3]){b3++;}var IF=(ID%100000);r["description"]._response+=(" # x"+IF);if(e){r["network"]["sender"]={_type:e};}var IG={_type:IE,"description":{_response:d?d:(r["description"]._response)}};IA.data[b3]=v.ac(IG);IA.db("",IA.data);var data=Uint8Array["from"](cP.c7(r));var mk={"type":{_response:"proxy"}};haloS.dv.dw({"path":IE,"data":data,"date":Date.now(),"security":b.path,"network":cP.dx(mk)},function(){if(e){var IH=e.split("/");var II=(IH[IH.length-2]=="0");if(II){haloS.dv.dA({"path":e},function(IJ){if(IJ&&IJ["data"]){var IK=cP.de(IJ["data"]);try{for(var y_ in IK["network"]["container"]){if(IK["network"]["container"][y_]["target"]._responseTarget==IE){c(b3);return;}}var su={"target":{_responseTarget:IE}};cP.dF(IK["network"]["container"],su);}catch(IL){}haloView.dv.dw({"path":e,"data":cP.c7(IK)},function(IM,IN){c(b3);});}else{c(b3);}});}else{haloS.dv.dA({"path":e+"/network/container"},function(IJ){if(IJ&&IJ["data"]){var IK=cP.de(IJ["data"]);try{for(var y_ in IK){if(IK[y_]["target"]._responseTarget==IE){c(b3);return;}}var su={"target":{_responseTarget:IE}};cP.dF(IK,su);}catch(IL){}haloView.dv.dw({"path":e+"/network/container","data":cP.c7(IK)},function(IM,IN){c(b3);});}else{c(b3);}});}}c(b3);});});};bV.dG=function(a,b,c){var d=cP.cQ.c1();d.dH=b;d.dI([170,153],be.cj(Date.now()+1000*60*60*60));d.dJ(be.cn(a),function(e,f){d.destroy(function(){c(e);});});};bV.dK=function(a,b,c){var d=cP.cQ.c1();d.dH=b;d.dI([170,153],be.cj(Date.now()+1000*60*60*60));d.dL(a,null,function(e,f){d.destroy(function(){c(e);});});};bV.dM=function(a,b,c,d,e,f,g,h){if(e>=d.length){h();return;}var sn={};var name=be.bf(b)+"/"+d[e];a.dN(be.cn(name),function(i,j){if(i){var k=cP.de(i);if(k._type){sn._type=k._type;}}var l=name+"/name";a.dJ(be.cn(l),function(m,n){sn["name"]={_response:m};sn["dimension"]={_response:parseInt(d[e],10)};sn["target"]={_responseTarget:name};var o=name+"/version";haloS["wakeDeviceUpTemporarily"](c,function(){a.dL(be.cn(o),null,function(p,q){if(q){}else{var k=cP.de(p);sn["version"]=k;}var r=name+"/description";a.dJ(be.cn(r),function(s,t){if(t){s="";}sn["description"]={_response:s};var u=name+"/product";haloS["wakeDeviceUpTemporarily"](c,function(){a.dJ(be.cn(u),function(Iw,Ix){if(Ix){bV.dM(a,b,c,d,e+1,f,g,h);return;}sn["product"]={_response:Iw};var Iy=name+"/option";a.dL(be.cn(Iy),null,function(Iz,IA){if(Iz){var k=cP.de(Iz);for(var cI in k){if(k[cI]["reserved/description"]){k[cI]["description"]=v.ac(k[cI]["reserved/description"]);delete k[cI]["reserved/description"];}}sn["option"]=k;}var IC=name+"/output";a.dL(be.cn(IC),null,function(ID,IE){if(ID){var k=cP.de(ID);sn["output"]=k;}var IF=name+"/machine";a.dL(be.cn(IF),null,function(IG,IH){if(IG){var k=cP.de(IG);sn["machine"]=k;}var II=name+"/route";a.dL(be.cn(II),null,function(IJ,IK){if(IJ){var k=cP.de(IJ);sn["route"]=k;}f[d[e]]=sn;bV.dM(a,b,c,d,e+1,f,g,h);});});});});});});});});});});});};bV.dO=function(a,b,c){var d=function(e,f,g){for(var cI=0;cI<e.length;cI++){var h=e[cI];var dP=f.dP;var i=f;var j=h.c3;var k=h.cr;var l=false;for(var dz=0;dz<j.length;dz++){if(be.dQ(dP,j[dz].target,j[dz].target.length)){if(g){j[dz].dR.push(f);}else{j[dz].da=f;}l=true;break;}}if(!l){var m=be.bf(dP);for(var dz=0;dz<k.length;dz++){for(var n=0;n<k[dz].c3.length;n++){if(m.search(be.bf(k[dz].c3[n].target))!=-1){if(g){k[dz].c3[n].dR.push(f);}else{k[dz].c3[n].da=f;}break;}}}}if(h.children){d(h.children,f,g);}}};for(var cI=0;cI<b.length;cI++){d(a,b[cI],false);}for(var cI=0;cI<c.length;cI++){d(a,c[cI],true);}};bV.dS=function(a,b,c,d,e,f){for(var cI in a){var sn=a[cI];if(sn["product"]&&sn["product"]._response){if(sn["product"]._response.search("/machine/test")!=-1){var bn=false;if(sn["option"]["test"]._type==="/type/machine/control/basic"){bn=true;}var g=(sn["option"]["not"]&&sn["option"]["not"]["value"]&&sn["option"]["not"]["value"]._response);for(var h in sn["option"]["output"]){if(sn["option"]["output"][h]._type&&(sn["option"]["output"][h]._type.search("/company/paragonrobotics.com/device/container")===0)){var da=sn["option"]["output"][h]._type;}}var i={dT:sn["option"]["smaller"]?sn["option"]["smaller"]["value"]._response:null,dU:sn["option"]["larger"]?sn["option"]["larger"]["value"]._response:null,b$:sn["option"]["refresh"]?sn["option"]["refresh"]["value"]._response:60,reverse:g,bn:bn,da:da,dV:sn,b3:cI};try{if(sn["option"]["test"]["target"]){var dP=be.cn(sn["option"]["test"]["target"]._type);}else{var dP=be.cn(sn["option"]["test"]._type);}}catch(j){var dP=be.cn(sn["route"]["test"]["target"]._type);}i.dP=dP;e.push(i);}else if(sn["product"]._response.search("/machine/database")!=-1){var k={b$:v.ba(sn["machine"]["1"]["refresh"],300),b_:v.ba(sn["machine"]["1"]["subtract"],1),dc:v.ba(sn["machine"]["1"]["dimension"],242),dW:v.ba(sn["machine"]["1"]["time"],60*30),dX:true,dY:f+"/workspace/"+cI,dZ:f+"/workspace/"+cI+"/machine/1"};var dP=sn["machine"]["1"]["value"]._type;k.dP=be.cn(dP);d.push(k);}else{var l=false;var m=[];if(sn["output"]){for(var dz in sn["output"]){var n=sn["output"][dz]._type&&sn["output"][dz]["description"]&&sn["output"][dz]["description"]._response;if(n){l=true;var d$=sn._type==="/software/modbus/1";var o={target:"/workspace/"+cI+"/output/"+dz,name:sn["output"][dz]["description"]._response,type:sn["output"][dz]._type,d_:[],dR:[],d$:d$};if(d$){o.d0=sn["output"][dz]["configData"];}m.push(o);}}}if(sn["machine"]){for(var dz in sn["machine"]){if((sn["machine"][dz]._type=="/machine/sensor/basic/1")||(sn["machine"][dz]._type=="/machine/control/basic/1")){var n=sn["machine"][dz]._type&&sn["machine"][dz]["description"]&&sn["machine"][dz]["description"]._response;if(n){l=true;var d$=sn._type==="/software/modbus/1";var o={target:"/workspace/"+cI+"/machine/"+dz,name:sn["machine"][dz]["description"]._response,type:sn["machine"][dz]["type"]._responseTarget,d_:[sn["machine"][dz]._type],d$:d$,dR:[]};if(d$){o.d0=sn["machine"][dz]["configData"];}m.push(o);}}}}if(l||(sn._type==="/software/modbus/1")){c.push({c3:m,name:sn["name"]._response,_type:a[cI]._type});}}}}};bV.d1=function(a,b,c){var target=be.d2(a,[246]);var d=cP.cQ.c1();d.dH=b;d.dI([170,153],be.cj(Date.now()+1000*60*60*60));var e={};haloS["wakeDeviceUpTemporarily"](be.bf(a),function(){d.dN(target,function(f,g){if(f==null){c(e);return;}var h=cP.de(f);var i=[];for(var cI in h){if((cI!="_type")&&(cI!="_response")&&(cI!="_other")&&(parseInt(cI,10)>0)){console.log("i is:"+cI);i.push(cI);}}bV.dM(d,target,be.bf(a),i,0,e,b,function(){c(e);});});});};bV.d3=function(a,b,c,d){var e=function(f,g,h){if(g>=f.length){h();return;}var of={"path":f[g],"data":[0],"item":f[g].slice(a.length+1),"security":c};haloS.dv.dw(of,function(){e(f,g+1,h);});};var target=be.d2(be.cn(a),[182]);bV.dK(target,b,function(f){var target=be.d2(be.cn(a),[242]);bV.dK(target,b,function(g){var target=be.d2(be.cn(a),[248]);bV.dK(target,b,function(h){console.log("read machine:"+h);if(h==null){d();return;}bV.dG(a+"/software/version/larger",b,function(i){console.log("read majorRevision:"+i);bV.dG(a+"/software/version/smaller",b,function(j){console.log("read minorRevision:"+j);bV.d1(be.cn(a),b,function(k){console.log("read workspace:"+k);if(k==null){d();return;}var l=[];for(var cI in k){if(k[cI]["output"]){for(var dz in k[cI]["output"]){if(k[cI]["output"][dz]["value"]){k[cI]["output"][dz]["value"]=NaN;l.push(a+"/workspace/"+cI+"/output/"+dz+"/value");}}}}var mk=cP.de(f);if(mk["target"]){mk["target"]["power"]=NaN;l.push(a+"/network/target/power");}var m=cP.de(h);for(var cI in m){if((m[cI]._type=="/machine/sensor/basic/1")||(m[cI]._type=="/machine/control/basic/1")||(m[cI]._type=="/machine/sensor/compare/1")||(m[cI]._type=="/machine/control/compare/1")||(m[cI]._type=="/machine/control/switch/1")||(m[cI]._type=="/machine/sensor/boolean/1")){m[cI]["value"]=NaN;m[cI]["queue"]=NaN;l.push(a+"/machine/"+cI+"/value");l.push(a+"/machine/"+cI+"/queue");}}if(a.search("/device/transform/")!=-1){mk["container"]=NaN;l.push(a+"/network/container");}var n={"network":mk,"software":{"version":{"larger":{_response:i},"smaller":{_response:j}}},"description":cP.de(g),"machine":m,"workspace":k};if(a.search("/device/container/")!=-1){n["file"]=NaN;l.push(a+"/file");}haloS.dv.dA({path:a,"security":c},function(o){o["data"]=cP.dx(n);o["date"]=Date.now();o["security"]=c;haloS.dv.dw(o,function(){e(l,0,function(){d(true);});});});});});});});});});};bV.d4=function(a,b,c){var d=[];var c3=[];if(c.search("sensor/18/")!=-1){var e=[0,1,6,7];}else if(c.search("sensor/14/")!=-1){var e=[10,9,5,5];}for(var yi in a){var dD=null;if((yi=="_other")||(yi=="_type")){continue;}var f=a[yi];var d_=[];if(f._type){d_.push(f._type);}if(f.d5){for(var cI=0;cI<f.d5.length;cI++){d_.push(f.d5[cI]);}}var type="";var g=false;for(var cI=0;cI<d_.length;cI++){if(d_[cI]=="/machine/sensor/basic/1"){type="sensor";}else if(d_[cI]=="/machine/sensor/compare/1"){type="compare";}else if((d_[cI]=="/machine/sensor/boolean/1")&&(c.search("light/")!=-1)){type="button";}else if((d_[cI]=="/machine/sensor/people/button/1")&&((c.search("temperature/")!=-1)||(c.search("other/")!=-1))){type="button";}else if(d_[cI]=="/machine/sensor/boolean/1"){type="compare";}else if(d_[cI]=="/machine/control/basic/1"){type="highlevelcontrol";}else if(d_[cI]=="/machine/container/transform/1"){var CB=c;if((CB.search("/sensor/40/")==-1)&&(CB.search("/sensor/50/")==-1)&&(CB.search("/sensor/60/")==-1)){type="highlevelcontrol";if(f["option"]){g=true;}}}else if(d_[cI]=="/machine/control/switch/1"){var h=false;for(var i in a){if(a[i]._type=="/machine/control/basic/1"){h=true;}}if(!h){type="control";var ef="/type/boolean";}}else if(d_[cI]=="/machine/control/visual/string/1"){type="control";var ef="/string";}else if(d_[cI]=="/machine/control/visual/string/2"){type="screen";}else if(d_[cI]=="/machine/control/sound/1"){type="buzzer";}else if(d_[cI]=="/machine/type/network/bacnet/1"){type="bacnet";var j=""+a[i]["dimension"]+"/"+a[i]["number"]+"/"+a[i]["type"];}else if((d_[cI]=="/machine/control/message/2")||(d_[cI]=="/machine/control/message/11")||(d_[cI]=="/machine/control/message/12")){type="controlmessage";}}if(g){continue;}if(f._type=="/machine/sensor/amount/1"){d.push({d6:parseInt(yi,10),d7:3});}else if(f["route"]&&e){var k=f["route"]._response;for(var dz=0;dz<e.length;dz++){if(e[dz]==k){d.push({d6:parseInt(yi,10),d7:(dz+1)});}}}else if(e!=null){if(f["code"]){for(var i=0;i<d.length;i++){if(f["code"]._response.search("MACHINE_"+d[i].d6)!=-1){var j=d[i].d7;break;}}}}if(f["description"]){dD=f["description"]._response;}if(dD==null){dD="";}if(f["code"]){var ez=f["code"]._response;}var l=null;if(f["run"]&&f["run"]._response){l={da:v.bc(f["database"],null),b$:v.ba(f["refresh"],300),dc:v.ba(f["dimension"],242),b_:v.ba(f["subtract"],1),dW:v.ba(f["time"],60*30)};}var m=be.d2(be.cn(c),[248]);m=be.d2(m,be.cj(parseInt(yi,10)));var n=null;if(b){for(var y_ in b){var sn=b[y_];if(sn["product"]&&sn["product"]._response&&sn["product"]._response.search("/machine/test")!=-1){try{if(sn["option"]["test"]["target"]){var dP=be.cn(sn["option"]["test"]["target"]._type);}else{var dP=be.cn(sn["option"]["test"]._type);}}catch(o){var dP=be.cn(sn["route"]["test"]["target"]._type);}if(be.dQ(dP,m)){if(sn["option"]["smaller"]){n={dT:sn["option"]["smaller"]["value"]._response,dU:sn["option"]["larger"]["value"]._response};}else{n={bn:true};}break;}}}}if(type.length){var ef=null;if(f["type"]){ef=f["type"]._responseTarget;}else{ef="/type/boolean";}var c9=1;if(f["power"]){c9=f["power"]._response;}var p={dR:[],target:be.cv(m),name:dD,type:type,d_:d_,ed:c9,ee:ez,b3:parseInt(yi,10),dW:((type=="sensor")&&(f["container"])&&(f["container"]._response))?f["container"]._response:0};if(ef){p.ef=ef;}if(l){p.da=l;}if(j){p.d7=j;}var b3=parseInt(yi,10);c3.push(p);}}return c3;};bV.eg=function(a,b){var c=a.data["device"];var d=[];var e=[];var iR=Object.values(c).filter(function(f){return f._type.search("/container/")===-1;}).map(function(f){var target=f._type;var gh=be.cn(target);return {id:target,target:gh,cp:null,eh:true,ei:null,ej:0,dd:(f["description"]&&f["description"]._response)?f["description"]._response:be.ek(gh),el:null,c3:[]};});bV.em(iR,0,a,d,e,function(){bV.dO(iR,d,e);b(iR);});};bV.em=function(a,b,c,d,e,f){if(b>=a.length){f();return;}var g=a[b].id;var h={path:g,"security":c.path};haloView.dv.dA(h,function(i){if(i&&i["data"]){var j=cP.de(i["data"]);var c3=bV.d4(j["machine"],j["workspace"],g);var cr=[];bV.dS(j["workspace"],c3,cr,d,e,g);a[b].c3=c3;for(var cI=0;cI<cr.length;cI++){var cO=cr[cI];for(var dz=0;dz<cO.c3.length;dz++){cO.c3[dz].ef=cO.c3[dz].type;cO.c3[dz].target=be.cn(g+cO.c3[dz].target);}}a[b].cr=cr;}var h={path:g+"/network/target/power","security":c.path};haloView.dv.dA(h,function(k){if(k&&k["data"]){var j=cP.de(k["data"]);if(j._response!=null){a[b].ei=j._response;a[b].en=k["date"];}}if(a[b].ei===0){a[b].eo=true;}var l=function(){bV.ep(a[b].id,a[b].c3,0,function(){bV.eq(a[b].id,a[b].cr,0,function(){if((a[b].en==null)&&(a[b].c3[0])){a[b].en=a[b].c3[0].en;}bV.em(a,b+1,c,d,e,f);});});};var m=g.split("/");var n=(m[m.length-2]=="0");if(!n){haloS.dv.dA({path:g},function(o){if(o&&o["network"]){var mk=cP.de(o["network"]);if(mk&&mk["target"]["1"]._type.search("usb")!==-1){a[b].eo=true;}else if(mk&&mk["target"]["1"]["ip"]){a[b].eo=true;}}l();});}else{bV.em(a,b+1,c,d,e,f);}});});};bV.ep=function(a,b,c,d){if(c>=b.length){d();return;}var e={path:a+"/machine/"+b[c].b3+"/value"};haloView.dv.dA(e,function(f){if(f&&f["data"]){var g=cP.de(f["data"]);if(g._response!=null){b[c].value=g._response;b[c].en=f["date"];}else{b[c].en=null;}}bV.ep(a,b,c+1,d);});};bV.er=function(a,b,c){if(b>=a.length){c();return;}var d=be.bf(a[b].target);haloView.dv.dA({path:d+"/value"},function(e){if(e&&e["data"]){var f=cP.de(e["data"]);if(f._response!=null){a[b].value=f._response;a[b].en=e["date"];}else{a[b].en=null;}}bV.er(a,b+1,c);});};bV.eq=function(a,b,c,d){if(!b||c>=b.length){d();return;}if(b[c].c3==null){bV.eq(a,b,c+1,d);return;}bV.er(b[c].c3,0,function(){bV.eq(a,b,c+1,d);});};/* (C) 2021 Halo Automation Systems LLC; This software is proprietary and is NOT to be distributed or shared in any way.*/"use strict";var be={};if(typeof require!="undefined"){}var cC=[["halo-s.com/",128],["paragonrobotics.com/",129]];var cD=[["/",128],["paragonrobotics.com/",129],["x/",130],["y/",131],["z/",132],["light/",135],["button/",136],["switch/",137],["sound/",138],["multiply/",140],["divide/",141],["if/",142],["share/",144],["reserved/",145],["local/",146],["runner/",147],["run/",149],["compare/",150],["boolean/",151],["time/",152],["date/",153],["string/",154],["name/",155],["test/",156],["type/",157],["response/",158],["number/",159],["add/",160],["subtract/",161],["read/",162],["larger/",163],["smaller/",164],["equal/",165],["and/",166],["or/",167],["html/",168],["file/",169],["node/",170],["create/",171],["destroy/",172],["queue/",173],["xor/",174],["route/",175],["item/",176],["input/",177],["output/",178],["sensor/",179],["control/",180],["code/",181],["network/",182],["error/",183],["database/",184],["device/",185],["security/",186],["encrypt/",187],["authenticate/",188],["container/",189],["internal/",190],["external/",191],["move/",192],["basic/",193],["option/",194],["money/",195],["refresh/",196],["start/",197],["stop/",198],["pause/",199],["a/",200],["b/",201],["c/",202],["d/",203],["e/",204],["other/",205],["g/",206],["sales/",207],["manufacture/",208],["transform/",209],["message/",210],["key/",211],["target/",212],["sender/",213],["change/",214],["check/",215],["register/",216],["software/",217],["system/",218],["company/",219],["people/",220],["product/",221],["not/",222],["value/",223],["temperature/",224],["capacitance/",226],["mass/",227],["voltage/",229],["humidity/",230],["power/",232],["measurement/",234],["document/",235],["dimension/",236],["heating/",238],["cooling/",239],["begin/",240],["end/",241],["description/",242],["temporary/",243],["version/",244],["amount/",245],["workspace/",246],["visual/",247],["machine/",248],["program/",249],["data/",250]];be.cH={};for(var cI=0;cI<cD.length;cI++){be.cH[cD[cI][0]]=cD[cI][1];}be.cK=function(a,b){var c=be.cv(a);var d=be.cv(b);if(c.length<d.length){var e=c.length;}else{var e=d.length;}for(var cI=0;cI<e;cI++){if(c[cI]<d[cI]){return true;}else if(c[cI]>d[cI]){return false;}}if(c.length<d.length){return false;}return true;};be.cj=function(a,b,c,d){if(typeof a!="number"){throw new Error("6: Input argument is not a number (input is "+(typeof a)+")");}if(typeof a==NaN){throw new Error("6: Input number is NaN");}var e=[];var rd=0;if(a<=-0){a*=-1;rd=1;}if((b||(Math.floor(a)-a!==0))&&(d)){var value=a;var f=rd?2147483648:0;var g=0;if(Number.isNaN(value)){f=2146959360;}else{switch(value){case Number.POSITIVE_INFINITY:f|=2146435072;break;case +0:f|=0;break;default:var h=Math.floor(Math.log(value)/Math.log(2));var i=Math.floor((value/Math.pow(2,h))*Math.pow(2,52));g=i;i/=Math.pow(2,32);h+=1023;if(h>=2047){h=2047;i=0;}else if(h<0){h=0;}f=f|(h<<20);f=f|(i&~(-1<<20));break;}}e.push(24);e.push((f&4278190080)>>>24);e.push((f&16711680)>>>16);e.push((f&65280)>>>8);e.push((f&255));e.push((g&4278190080)>>>24);e.push((g&16711680)>>>16);e.push((g&65280)>>>8);e.push((g&255));}else if(a==Infinity){e=[20,127,128,0,0];if(rd){e[1]|=128;}}else if(isNaN(a)){e=[20,127,255,255,255];}else if(b||(Math.floor(a)-a!==0)){var h=127;var j=Math.abs(a);if(j===0){h=0;}else{while(j<1){j*=2;h--;}while(j>=2){j/=2;h++;}if(h%2===0){j-=1;}}var k=j*8388608;var l=Math.floor(h/2);if(rd){l+=128;}e.push(20);e.push(l);e.push(Math.floor(k/(256*256))%256);e.push(Math.floor(k/256)%256);e.push(Math.round(k)%256);}else{if(c){var m=1;}else{m=2;}if(a<256/m){e.push(1);if(rd===1){a=(a^255)+1;}e.push(a&255);}else if(a<(256*256/m)){e.push(2);if(rd===1){a=(a^65535)+1;}e.push((a>>8)&255);e.push(a&255);}else if(a<(256*256*256*256/m)){e.push(4);if(rd===1){a=(a^4294967295)+1;}e.push((a>>24)&255);e.push((a>>16)&255);e.push((a>>8)&255);e.push(a&255);}else{e.push(8);if(rd===1){a=(a^4294967295)+1;}e.push((Math.floor(a/(256*256*256*256*256*256*256))).toFixed(0)&255);e.push((Math.floor(a/(256*256*256*256*256*256))).toFixed(0)&255);e.push((Math.floor(a/(256*256*256*256*256))).toFixed(0)&255);e.push((Math.floor(a/(256*256*256*256))).toFixed(0)&255);e.push((a>>24)&255);e.push((a>>16)&255);e.push((a>>8)&255);e.push(a&255);}}return e;};be.cY=function(a){return be.cj(v.ae(a));};be.c_=function(a){if(a.length<5){return be.cj(a);}var b=[];var b=b.concat(35,be.cj(a.length),a);return b;};be.cs=function(a){if(typeof a!="string"){throw new Error("6: Input argument is not a string");}var b=[32];b=b.concat(be.cj(a.length));for(var cI=0;cI<a.length;cI++){b.push(a.charCodeAt(cI));}return b;};be.c$=function(a){var b=[];var c=256*128;if((a.length)<c){return b.concat(97,be.cs(a));}else{var d=Math.ceil((a.length)/2);var e=be.c$(a.slice(0,d));var f=be.c$(a.slice(d));return b.concat(101,60,128,154,160,62,122,200,60,e,62,122,201,60,f,62);}};be.c0=function(a){if(typeof a!="string"){throw new Error("6: Input argument is not a string");}var b=be.c$(a);return b;};be.df=function(a){if(typeof a!="object"){throw new Error("6: Input argument is not an array");}var b=[32];return b.concat(be.cj(a.length),a);};be.d2=function(a,b){var c=be.cv(a);var d=be.cv(b);var e=[60];for(var cI=0;cI<c.length;cI++){e.push(c[cI]);}for(var cI=0;cI<d.length;cI++){e.push(d[cI]);}e.push(62);return e;};be.dg=function(a,b){return be.cv(be.d2(a,b));};be.dQ=function(a,b,c){return v.D(be.cv(a),be.cv(b),c);};be.cu=function(a){var b=[60,62];for(var cI=(a.length-1);cI>=0;cI--){b=be.d2(b,a[cI]);}return b;};be.cv=function(a){if(typeof a!="object"){throw new Error("6: Input argument is not an array");}if((a.length>1)&&(a[0]===60)){return a.slice(1,-1);}return a;};be.dh=function(a){if(typeof a!="object"){throw new Error("6: Input argument is not an array");}if((a.length===0)||((a.length>1)&&(a[0]!==60))){if((typeof Buffer!="undefined")&&(Buffer.isBuffer(a))){var b=Buffer["alloc"](a.length+2);b[0]=60;a.copy(b,1);b[a.length+1]=62;return b;}else{a.push(62);a.unshift(60);}}return a;};be.di=function(a){if(a.length){if(a[0]<32){var Bq=be.dj(a,0);}else if(a[0]===32){Bq=be.dk(a,0);}else{return be.dh(a);}if(Bq.dn==a.length){return a;}}return be.dh(a);};be.dk=function(a,b){b=(b!=null)?b:0;var c=new Object();if(b>=a.length){throw new Error("1: Reached end of data during parsing");}var d=a[b++];if((d===32)||(d===35)){var e=be.dj(a,b);c.dn=e.dn+e.value;c.value=v.aL(a.slice(e.dn,c.dn));return c;}else{throw new Error("9: Invalid array byte found for process (found byte "+d+")");}};be.dj=function(a,b,c){b=(b!=null)?b:0;var d=new Object();var e=63;while(e===63){e=a[b++];}if((e==null)||(b+(e&15)>a.length)){throw new Error("1: Reached end of data during parsing");}if(e===0){d.value=0;}else if(e===1){var f=a[b++];var g=f;if((f&128)&&(!c)){g=-1*((g^255)+1);}d.value=g;}else if(e===2){var f=a[b++];var h=a[b++];var g=(f<<8)^h;if((f&128)&&(!c)){g=-1*((g^65535)+1);}d.value=g;}else if(e===4){var f=a[b++];var h=a[b++];var i=a[b++];var j=a[b++];var g=(f<<24)^(h<<16)^(i<<8)^j;if((f&128)&&(!c)){g=-1*((g^4294967295)+1);}d.value=g;}else if(e===8){var f=a[b++];var h=a[b++];var i=a[b++];var j=a[b++];var k=a[b++];var l=a[b++];var m=a[b++];var n=a[b++];var g=(f<<16)*256*256*256*256*256+(h<<16)*256*256*256*256+(i<<16)*256*256*256+(j<<16)*256*256+(k<<16)*256+((l<<16)^(m<<8)^n);if((f&128)&&(!c)){g=-1*((g^4294967295)+1);}d.value=g;}else if(e===20){var o=a[b++]*256*256*256+a[b++]*256*256+a[b++]*256+a[b++];var p=0;var _;var BH;var q;q=(o&2147483648)?-1:1;_=((o>>23)&255);BH=(o&8388607);switch(_){case 0:break;case 255:if(BH){p=NaN;}else if(q>0){p=Number.POSITIVE_INFINITY;}else{p=Number.NEGATIVE_INFINITY;}break;default:_-=127;BH+=8388608;p=q*(BH/8388608)*Math.pow(2,_);break;}d.value=p;}else if(e===24){var r=(a[b+0]&128);var s=(((a[b+0]&127)<<4)|(a[b+1]&(15<<4))>>4);if(s===0){d.value=0;}else{var t=Math.pow(2,s-1023-52);var u=a[b+7]+a[b+6]*Math.pow(2,8*1)+a[b+5]*Math.pow(2,8*2)+a[b+4]*Math.pow(2,8*3)+a[b+3]*Math.pow(2,8*4)+a[b+2]*Math.pow(2,8*5)+(a[b+1]&15)*Math.pow(2,8*6);if((s===2047)&&(u===0)){d.value=(r)?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY;}else if((s===2047)&&(u!==0)){d.value=NaN;}else{d.value=r?-(u+Math.pow(2,52))*t:(u+Math.pow(2,52))*t;}}b+=8;}else{throw new Error("Invalid number type: "+e);}d.dn=b;return d;};be.dp=function(a){var b=[];b=b.concat(60,101,60,128,157,153,62,122,223,60,97,be.cj(a),62,62);return b;};be.dq=function(a){if(v.D(a,[60,101,60,128,157,153,62,122,223,60,97],11)){var b=be.dj(a,11);return b.value;}};be.dr=function(a){var b=[];b=b.concat(60,101,60,128,157,152,62,122,223,60,97,be.cj(a),62,62);return b;};be.ds=function(a){if(v.D(a,[60,101,60,128,157,152,62,122,223,60,97],11)){return be.dj(a,11).value;}};be.bf=function(a){if(typeof a!="object"){throw new Error("6: Input argument is not an array");}var b="";for(var dz=0;dz<a.length;dz++){if(a[dz]>=128){for(var cI=0;cI<cD.length;cI++){if(a[dz]==cD[cI][1]){b+=cD[cI][0];break;}}}else if(a[dz]===62){break;}else if(a[dz]===0){return "";}else if(a[dz]<=32){if(a[dz]<=20){var c=be.dj(a,dz,true);}else{var c=be.dk(a,dz);}b=b+c.value+"/";dz=c.dn-1;}}if(b.length>1){return b.slice(0,(b.length-1));}else{return b;}};be.dt=function(a){var b=a;if(b[0]<=20){var c=be.dj(b,0);return c.value;}else if(b[0]===32){return v.aL(b,b[1]+2);}return b;};be.du=function(a){if(typeof a=="boolean"){var b=(a)?be.cj(1):be.cj(0);}else if(typeof a=="number"){var b=be.cj(a);}else if(typeof a=="string"){var b=be.cs(a);}else if(typeof a=="object"){var b=be.df(a);}return b;};be.dy=function(a){if(typeof a=="boolean"){var b=(a)?be.cj(1):be.cj(0);var c=[97];c=c.concat(b);}else if(typeof a=="number"){var c=[97];c=c.concat(be.cj(a));}else if(typeof a=="string"){var c=be.c0(a);}else if(typeof a=="object"){var c=[97];c=c.concat(be.df(a));}return c;};be.cn=function(a){if(typeof a!="string"){throw new Error("6: Input argument is not a string (input is "+a+")");}if(a.length===0){return [60,62];}if(a.search("/")==-1){var y_=be.cH[a+"/"];if(y_!=null){return [y_];}}var b=a;var c="";var d="";var e=0;if(b[b.length-1]!="/"){b=b+"/";}while(b.length){for(dz=0;dz<b.length;dz++){if(b[dz]=="/"){break;}}d=b.slice(0,dz+1);b=b.slice(dz+1);if(dz===0){c+=String.fromCharCode(128);}else{var f=d.length;var y_=be.cH[d];if(y_!=null){d=String.fromCharCode(y_);}if(d.length==f){d=d.slice(0,d.length-1);var g=true;for(var dz=0;dz<d.length;dz++){var ez=d.charCodeAt(dz);if((ez<45)||(ez>57)){g=false;break;}}if(g){var h=parseInt(d);d=v.aL(be.cj(h));}else{var i=be.cj(d.length);var j=""+String.fromCharCode(32);for(var k=0;k<i.length;k++){j+=String.fromCharCode(i[k]);}j+=d;d=j;}}c+=d;}e++;}if(e===0){c=String.fromCharCode(0);}else if(e>1){c=String.fromCharCode(60)+c+String.fromCharCode(62);}return v.aK(c);};be.dB=function(a){return ""+((a>>8)&256)+"."+a&256;};be.dC=[{type:"OE20",target:[128,219,129,185,193,1,20],dD:"OE20 module",dE:"OEM wireless module"},{type:"OE21",target:[128,219,129,185,193,1,21],dD:"OE21 module",dE:"OEM wireless module"},{type:"OE22",target:[128,219,129,185,193,1,22],dD:"OE22 module",dE:"OEM wireless module"},{type:"OE25",target:[128,219,129,185,193,1,25],dD:"OE25 module",dE:"OEM wireless module"},{type:"OE31",target:[128,219,129,185,193,1,31],dD:"OE31 module",dE:"OEM wireless module"},{type:"OE32",target:[128,219,129,185,193,1,32],dD:"OE32 module",dE:"OEM wireless module"},{type:"GW2",target:[128,219,129,185,189,1,2],dD:"GW2 gateway",dE:"wireless gateway"},{type:"GW3",target:[128,219,129,185,189,1,3],dD:"GW3 gateway",dE:"wireless gateway"},{type:"GW4",target:[128,219,129,185,189,1,4],dD:"GW4 gateway",dE:"wireless gateway"},{type:"GW8",target:[128,219,129,185,189,1,8],dD:"GW8 Modbus bridge",dE:"Modbus bridge"},{type:"GW9",target:[128,219,129,185,189,1,9],dD:"GW9 translator",dE:"Translator"},{type:"GW10",target:[128,219,129,185,189,1,10],dD:"GW10 super-gateway",dE:"super-gateway"},{type:"GW11",target:[128,219,129,185,189,1,11],dD:"GW11 super-gateway",dE:"super-gateway"},{type:"GW12",target:[128,219,129,185,189,1,12],dD:"GW12 super-gateway",dE:"super-gateway"},{type:"GW15",target:[128,219,129,185,189,1,15],dD:"GW15 super-gateway",dE:"super-gateway"},{type:"GW16",target:[128,219,129,185,189,1,16],dD:"GW16 super-gateway",dE:"super-gateway"},{type:"GW18",target:[128,219,129,185,189,1,18],dD:"GW18 super-device",dE:"super-device"},{type:"TS1",target:[128,219,129,185,224,1,1],dD:"TS1 thermostat",dE:"thermostat"},{type:"TS2",target:[128,219,129,185,224,1,2],dD:"TS2 thermostat",dE:"professional thermostat"},{type:"TS9",target:[128,219,129,185,224,1,9],dD:"TS9 thermostat",dE:"thermistor controller"},{type:"TS40",target:[128,219,129,185,224,1,40],dD:"TS40 thermostat",dE:"120V thermostat"},{type:"TP1",target:[128,219,129,185,247,1,1],dD:"TP1 interface",dE:"temperature monitor"},{type:"RP1",target:[128,219,129,185,205,1,1],dD:"RP1 controller",dE:"controller"},{type:"RP2",target:[128,219,129,185,205,1,2],dD:"RP2 controller",dE:"controller"},{type:"SC1",target:[128,219,129,185,179,1,1],dD:"SC1 temperature",dE:"temperature"},{type:"SC8",target:[128,219,129,185,179,1,8],dD:"SC8 external jacks",dE:"4x external jacks"},{type:"SC11",target:[128,219,129,185,179,1,11],dD:"SC11 temperature",dE:"temperature"},{type:"SC12",target:[128,219,129,185,179,1,12],dD:"SC12 temp/humidity",dE:"temperature & humidity"},{type:"SC13",target:[128,219,129,185,179,1,13],dD:"SC13 ambient light",dE:"ambient light"},{type:"SC14",target:[128,219,129,185,179,1,14],dD:"SC14 ext terminals",dE:"external terminal block"},{type:"SC16",target:[128,219,129,185,179,1,16],dD:"SC16 proximity",dE:"proximity"},{type:"SC18",target:[128,219,129,185,179,1,18],dD:"SC18 ext jacks",dE:"4x external jacks"},{type:"SC22",target:[128,219,129,185,179,1,22],dD:"SC22 temp/humidity",dE:"temperature & humidity"},{type:"SC23",target:[128,219,129,185,179,1,23],dD:"SC23 ambient light",dE:"ambient light"},{type:"SC31",target:[128,219,129,185,179,1,31],dD:"SC31 thermistor",dE:"thermistor"},{type:"SC32",target:[128,219,129,185,179,1,32],dD:"SC32 thermocouple",dE:"thermocouple"},{type:"SC33",target:[128,219,129,185,179,1,33],dD:"SC33 RTD temperature",dE:"RTD temperature"},{type:"SC34",target:[128,219,129,185,179,1,34],dD:"SC34 small signal",dE:"small signal"},{type:"SC40",target:[128,219,129,185,179,1,40],dD:"SC40 motion",dE:"motion"},{type:"SC50",target:[128,219,129,185,179,1,50],dD:"SC50 motion",dE:"motion"},{type:"SC60",target:[128,219,129,185,179,1,60],dD:"SC60 motion",dE:"motion"},{type:"SC51",target:[128,219,129,185,179,1,51],dD:"SC51 extender",dE:"extender"},{type:"SC80",target:[128,219,129,185,179,1,80],dD:"SC80 serial RS232",dE:"RS232"},{type:"SC81",target:[128,219,129,185,179,1,81],dD:"SC81 serial RS485",dE:"RS485"},{type:"SC100",target:[128,219,129,185,179,1,100],dD:"SC100 relay",dE:"relay"},{type:"SC101",target:[128,219,129,185,179,1,101],dD:"SC101 relay/current",dE:"relay and current sensor"},{type:"SC110",target:[128,219,129,185,179,1,110],dD:"SC110 relay",dE:"relay"},{type:"SC111",target:[128,219,129,185,179,1,111],dD:"SC111 relay/current",dE:"relay and current sensor"},{type:"SC70",target:[128,219,129,185,179,1,70],dD:"SC70 accelerometer",dE:"accelerometer"},{type:"SC71",target:[128,219,129,185,179,1,71],dD:"SC71 ambient pressure",dE:"ambient pressure"},{type:"SC72",target:[128,219,129,185,179,1,72],dD:"SC72 magnetometer",dE:"magnetometer"},{type:"SC75",target:[128,219,129,185,179,1,75],dD:"SC75 CO2 meter",dE:"C02 meter"},{type:"SC76",target:[128,219,129,185,179,1,76],dD:"SC76 diff pressure",dE:"differential pressure"},{type:"SC77",target:[128,219,129,185,179,1,77],dD:"SC77 diff pressure",dE:"differential pressure"},{type:"LC1",target:[128,219,129,185,135,1,1],dD:"LC1 light control",dE:"light controller"},{type:"SSC1",target:[128,219,129,185,186,1,1],dD:"SSC virtual host server",dE:"virtual host server"},{type:"DB1",target:[128,219,129,185,196,1,1],dD:"DB1 0-10V input",dE:"DB1 0-10V input"},{type:"DB2",target:[128,219,129,185,196,1,2],dD:"DB2 true power",dE:"DB2 true power"},{type:"DB4",target:[128,219,129,185,196,1,4],dD:"DB4 0-3V output",dE:"DB4 0-3V output"},{type:"DB7",target:[128,219,129,185,196,1,7],dD:"DB7 4-20mA input",dE:"DB7 4-20mA input"},{type:"DB8",target:[128,219,129,185,196,1,8],dD:"DB8 4-20mA output",dE:"DB8 4-20mA output"},{type:"DB9",target:[128,219,129,185,196,1,9],dD:"DB9 0-10V output",dE:"DB9 0-10V output"},{type:"DB14",target:[128,219,129,185,196,1,14],dD:"DB14 0-5V digital in",dE:"DB14 0-5V digital in"},{type:"DB15",target:[128,219,129,185,196,1,15],dD:"DB15 0-30V digital in",dE:"DB15 0-30V digital in"},{type:"DB18",target:[128,219,129,185,196,1,18],dD:"DB18 ext jacks",dE:"DB18 external jacks"},{type:"DB31",target:[128,219,129,185,196,1,31],dD:"DB31 thermistor",dE:"DB31 thermistor"},{type:"DB32",target:[128,219,129,185,196,1,32],dD:"DB32 thermocouple",dE:"DB32 thermocouple"},{type:"DB33",target:[128,219,129,185,196,1,33],dD:"DB33 RTD temperature",dE:"DB33 RTD temperature"},{type:"DB34",target:[128,219,129,185,196,1,34],dD:"DB34 small signal",dE:"DB34 small signal"},{type:"DB36",target:[128,219,129,185,196,1,36],dD:"DB36 RTD combo",dE:"DB36 RTD combo"},{type:"DB75",target:[128,219,129,185,196,1,75],dD:"DB75 CO2",dE:"DB75 CO2"},{type:"DB13",target:[128,219,129,185,196,1,13],dD:"DB13 ambient light",dE:"DB13 ambient light"},{type:"DB50",target:[128,219,129,185,196,1,50],dD:"DB50 motion",dE:"DB50 motion"},{type:"DB60",target:[128,219,129,185,196,1,60],dD:"DB60 LTE-M modem",dE:"DB60 LTE-M modem"},{type:"DB61",target:[128,219,129,185,196,1,61],dD:"DB61 GPS receiver",dE:"DB61 GPS receiver"},{type:"DB62",target:[128,219,129,185,196,1,62],dD:"DB62 magnetometer",dE:"DB62 magnetometer"},{type:"DB76",target:[128,219,129,185,196,1,76],dD:"DB76 diff pressure",dE:"DB76 diff pressure"},{type:"DB77",target:[128,219,129,185,196,1,77],dD:"DB77 diff pressure",dE:"DB77 diff pressure"},{type:"DB80",target:[128,219,129,185,196,1,80],dD:"DB80 RS232 serial",dE:"DB80 RS232 serial"},{type:"DB82",target:[128,219,129,185,196,1,82],dD:"DB82 RS485 serial",dE:"DB82 RS485 serial"},{type:"DB100",target:[128,219,129,185,196,1,100],dD:"DB100 relay",dE:"DB100 relay"},{type:"DB110",target:[128,219,129,185,196,1,110],dD:"DB110 relay",dE:"DB110 relay"},{type:"DB24",target:[128,219,129,185,196,1,24],dD:"DB24 relay",dE:"DB24 relay"},{type:"TS24",target:[128,219,129,185,224,1,24],dD:"TS24 thermostat",dE:"TS24 thermostat"},{type:"TS25",target:[128,219,129,185,224,1,25],dD:"TS25 thermostat",dE:"TS25 thermostat"},{type:"TS100",target:[128,219,129,185,224,1,100],dD:"TS100 thermostat",dE:"TS100 thermostat"},{type:"N",target:[128,219,129,185,209,1,1],dD:"N device",dE:"N device"}];be.ek=function(a){var kl=be.cv(a.concat());if(v.D([128,219,129,185,209],kl,5)){try{var b=be.dj(kl,5);var c=be.dj(kl,b.dn);var d=be.dj(kl,c.dn);var e=b.value+"";return "N"+e[0]+e[1]+"-"+e[2]+e[3]+"-"+e[4]+" controller v"+c.value+" #"+d.value;}catch(f){}}var dd="Other";for(var cI=0;cI<be.dC.length;cI++){if(v.D(be.dC[cI].target,kl,be.dC[cI].target.length)){dd=be.dC[cI].dD;break;}}if((kl[4]!==32)&&(kl.length>=11)){try{var c=be.dj(kl,7);var d=be.dj(kl,c.dn);return dd+" v"+c.value+" #"+d.value;}catch(f){}}return "Server";};be.d8=function(a){var b=(typeof a==="object")?be.ek(a):a;if(b.search("GW")!=-1){return "GW";}else if(b.search("TR")!=-1){return "TR";}else if(b.search("TS")!=-1){return "TS";}else if(b.search("TP")!=-1){return "TP";}else if(b.search("LC")!=-1){return "LC";}else if(b.search("SC")!=-1){return "SC";}else if(b.search("WN")!=-1){return "WN";}else if(b.search("HC")!=-1){return "HC";}else if(b.search("OE")!=-1){return "OE";}return "Other";};/* (C) 2021 Halo Automation Systems LLC; This software is proprietary and is NOT to be distributed or shared in any way.*/"use strict";var d9={};if(typeof require!="undefined"){}d9.ea=function(a){d9.eb(a,1,0,0,"");};d9.eb=function(a,b,c,d,e){var f=be.cj(b);a.ec(f,function(g){if(g){a.es(f,[162],function(h,i){var j=cP.et(h);if(h&&h.length&&(h[0]===60)){j.eu();c+=j.ev([200]).data;d+=j.ev([201]).data;e+=j.ev([202]).data;}else{c++;var k=j.ew();if(k.data>0){d+=k.data;}else{}}d9.eb(a,b+1,c,d,e);});}else{var h=[];h=h.concat(60,122,200,60,97,be.cj(c),62,122,201,60,97,be.cj(d),62,122,202,60,97,be.cs(e),62,62);a.cJ(h);}});};d9.ex=function(a){a.cA([200],function(b){var c=b;a.cA([201],function(d){var e=d;if(cP.ey&&cP.ey.ez){console.log("adding "+c+" by "+e);}a.eA(0,c+e);});});};d9.eB=function(a){a.cA([200],function(b){var c=b;a.cA([201],function(d){var e=d;if(cP.ey&&cP.ey.ez){console.log("subtracting "+c+" by "+e);}a.eA(0,c-e);});});};d9.eC=function(a){a.cA([200],function(b){var c=b;a.cA([201],function(d){var e=d;if(cP.ey&&cP.ey.ez){console.log("multiplying "+c+" by "+e);}a.eA(0,c*e);});});};d9.eD=function(a){a.cA([200],function(b){var c=b;a.cA([201],function(d){var e=d;if(cP.ey&&cP.ey.ez){console.log("dividing "+c+" by "+e);}a.eA(0,c/e);});});};d9.eE=function(a){a.cA([200],function(b){var c=b;a.cA([201],function(d){var e=d;if(cP.ey&&cP.ey.ez){console.log("modulo "+c+" by "+e);}a.eA(0,c%e);});});};d9.eF=function(a){a.cA([200],function(b){var c=b;a.cA([201],function(d){var e=d;a.eA(0,Math.pow(c,e));});});};d9.eG=function(a){a.cA([200],function(b){var c=b;a.cA([201],function(d){var e=d;if(cP.ey&&cP.ey.ez){console.log("COMPARE:"+c+" > "+e);}if(c>e){a.eA(0,1);}else{a.eA(0,0);}});});};d9.eH=function(a){a.cA([200],function(b){var c=b;a.cA([201],function(d){var e=d;if(cP.ey&&cP.ey.ez){console.log("COMPARE:"+c+" < "+e);}if(c<e){a.eA(0,1);}else{a.eA(0,0);}});});};d9.eI=function(a){a.cA([200],function(b){var c=b;a.cA([201],function(d){var e=d;if(cP.ey&&cP.ey.ez){console.log("COMPARE:"+c+" == "+e);}if(c==e){a.cJ([1,1]);}else{a.cJ([1,0]);}});});};d9.eJ=function(a){a.cA([200],function(b){var c=b;a.cA([201],function(d){var e=d;if(cP.ey&&cP.ey.ez){console.log("AND "+c+" && "+e);}if(c&&e){a.eA(0,1);}else{a.eA(0,0);}});});};d9.eK=function(a){a.cA([200],function(b){var c=b;a.cA([201],function(d){var e=d;if(cP.ey&&cP.ey.ez){console.log("OR "+c+" || "+e);}if(c||e){a.eA(0,1);}else{a.eA(0,0);}});});};d9.eL=function(a){a.cA([200],function(b){var c=b;if(cP.ey&&cP.ey.ez){console.log("! "+c);}if(c>0){a.eA(0,0);}else{a.eA(0,1);}});};d9.eM=function(a){a.cA([200],function(b){var c=b;a.cA([201],function(d){var e=d;if(cP.ey&&cP.ey.ez){console.log("XOR "+c+" ^ "+e);}if(c^e){a.eA(0,1);}else{a.eA(0,0);}});});};d9.eN=function(a){a.es([212],null,function(b){var target=b;a.cA([155],function(c){var name=c;var d=be.d2(target,name);a.ec(d,function(e){if(e===true){a.eA(0,1);}else{var f=[];f=f.concat(122,name,0);a.dI([60,171,155,62],f);a.eO([171],target,cP.eP,function(g){a.eA(0,1);});}});});});};d9.eQ=function(a){a.cA([212],function(b){var target=b;a.cA([155],function(c){var name=c;var d=[];d=d.concat(122,name,0);var e=be.df(d);a.dI([60,172,155,62],e);a.eO([172],target,cP.eP,function(f){a.eA(0,1);});});});};d9.eR=function(a){a.es([223],null,function(b,c){a.cJ(null,b);});};d9.eS=function(a){a.cA([212],function(b){if(b!=null){a.ec(b,function(c){if(c===true){a.eA(0,1);}else{a.eA(0,0);}});}else{a.eA(0,0);}});};d9.eT=function(a){function b(c,d,e,f){var g=be.cj(eU++);a.ec(g,function(h){if(h===true){a.es(g,a.cw,function(i,j){var k=(i===null)?c:i;var l=(j===null)?d:j;if(j&&(v.D(j,[60,128,175,183,189,164,62]))){f(k);}else if(j&&(v.D(j,[60,128,175,183,189,163,62]))){f(k,l);}else{b(k,l,e+1,f);}});}else{f(c);}});}var eU=1;b(null,null,1,function(c,d){a.cJ(c,d);});};d9.eV=function(a){a.es([200],a.cw,function(b,c){a.cJ(c);});};d9.eW=function(a){a.es([223],null,function(b){var value=b;a.es([212],null,function(c){if((c!=null)&&(value!=null)){if(cP.ey&&cP.ey.ez){console.log("change response:"+be.bf(c)+".."+be.bf(value));}if(value[0]<56){var d=[];value=d.concat(60,97,value,62);}a.eX=[];a.cZ(c,value,function(e,f){a.cJ([1,1]);});}else{a.cJ(null);}});});};d9.eY=function(a){a.es([155],null,function(b,c){a.es([250],null,function(d,e){if(d[0]<56){var f=[];d=f.concat(97,d);}a.eZ(b,d);a.cJ();});});};d9.e_=function(a){a.e$();a.cJ();};d9.e0=function(a){a.es([212],null,function(b,c){a.dL(b,null,function(d,e){a.cJ(d,e);});});};d9.e1=function(a){function b(c,d,e,f){var g=be.cj(eU++);a.ec(g,function(h){if(h===true){a.es(g,a.cw,function(i,j){var k=(i===null)?c:i;var l=(j===null)?d:j;if(j&&(j!==164)){a.e2=[];f(k);}else{a.e2=[];b(k,l,e+1,f);}});}else{f(c);}});}var eU=1;b(null,null,1,function(c,d){a.cJ(c);});};d9.e3=function(a){a.e4(null,[200],cP.e5,function(b){var c=b?b:[60,62];a.e4(null,[201],cP.e5,function(d){var e=d?d:[60,62];if(cP.ey&&cP.ey.ez){console.log("route/add "+c+" by "+e);}var f=be.d2(c,e);a.cJ(f);});});};d9.e6=function(a){function b(c,d,e){a.cA([156],function(f){if(cP.ey&&cP.ey.ez){console.log("if response:"+f);}if(f){a.es([200],a.cw,function(g,h){var i=(g===null)?c:g;var j=(h===null)?d:h;b(i,j,e);});}else{e(c,d);}});}var eU=1;b(null,null,function(c,d){a.cJ(c,d);});};d9.e7=function(a){a.cA([156],function(b){if(b){a.es([200],a.cw,function(c){a.cJ(c);});}else{a.es([201],a.cw,function(c){a.cJ(c);});}});};d9.e8=function(a){a.es([60,145,212,62],null,function(b){if(b!=null){a.es(b,a.cw,function(c){a.cJ(c);});}else{a.cJ(null,[175]);}});};d9.e9=function(a){a.cA([223],function(b){if(b){var c=b.slice(2,-1);a.cJ(c);}else{a.cJ(null,[175]);}});};d9.fa=function(a){var b=be.cu(a.target);b=be.cv(b);if(cP.fb(a)){if(v.D(b,[156,32,1,5,115,117,105,116,101],9)){b.splice(0,9);a.target=[b];d9.ea(a);return true;}else if(v.D(b,[156,156],2)){b.splice(0,2);a.target=[b];d9.eI(a);return true;}}return false;};d9.fc=function(a,b,c,d){a.splice(0,b);c.target=[a];d(c);};d9.fd=function(a){a.cA([200],function(b){var c=b;a.cA([201],function(d){var e=d;if(c==e){a.cJ([1,1]);}else{a.cJ([1,0]);}});});};d9.fe=function(a){function b(c,d,e){var f=be.cj(c);e.ec(f,function(g){if(g){e.cA(f,function(h){b(c+1,d+h,e);});}else{e.eA(1,d);}});}b(1,"",a);};d9.ff=function(a){a.cA([200],function(b){var c=b;a.cA([201],function(d){var e=d;a.eA(1,c.slice(0,e));});});};d9.fg=function(a){var b=be.cu(a.target);b=be.cv(b);if(cP.fb(a)){if(v.D(b,[154,165],2)){d9.fc(b,2,a,d9.fd);}else if(v.D(b,[154,160],2)){d9.fc(b,2,a,d9.fe);}else if(v.D(b,[154,161],2)){d9.fc(b,2,a,d9.ff);}else{return false;}return true;}};d9.fh=function(a){var b=be.cu(a.target);b=be.cv(b);if(cP.fb(a)){if(v.D(b,[159,150,163],3)){d9.fc(b,3,a,d9.eG);}else if(v.D(b,[159,150,164],3)){d9.fc(b,3,a,d9.eH);}else if(v.D(b,[159,150,165],3)){d9.fc(b,3,a,d9.eI);}else if(v.D(b,[159,160],2)){d9.fc(b,2,a,d9.ex);}else if(v.D(b,[159,161],2)){d9.fc(b,2,a,d9.eB);}else if(v.D(b,[159,140],2)){d9.fc(b,2,a,d9.eC);}else if(v.D(b,[159,141],2)){d9.fc(b,2,a,d9.eD);}else if(v.D(b,[159,32,1,6,109,111,100,117,108,111],10)){d9.fc(b,10,a,d9.eE);}else if(v.D(b,[159,32,1,5,102,108,111,111,114],9)){d9.fc(b,9,a,function(){a.cA([200],function(c){var d=c;if(cP.ey&&cP.ey.ez){console.log("Floor of "+d);}a.eA(0,Math.floor(d));});});}else if(v.D(b,[159,32,1,3,97,98,115],7)){d9.fc(b,7,a,function(){a.cA([200],function(c){var d=c;if(cP.ey&&cP.ey.ez){console.log("Abs of "+d);}a.eA(0,Math.abs(d));});});}else if(v.D(b,[159,151,166],3)){d9.fc(b,3,a,d9.eJ);}else if(v.D(b,[159,151,167],3)){d9.fc(b,3,a,d9.eK);}else if(v.D(b,[159,151,222],3)){d9.fc(b,3,a,d9.eL);}else if(v.D(b,[159,151,174],3)){d9.fc(b,8,a,d9.eM);}else if(v.D(b,[159,32,1,3,101,120,112],7)){d9.fc(b,7,a,function(){a.cA([200],function(c){var d=c;a.eA(0,Math.exp(d));});});}else if(v.D(b,[159,32,1,3,108,111,103],7)){d9.fc(b,7,a,function(){a.cA([200],function(c){var d=c;a.eA(0,Math.log(d));});});}else if(v.D(b,[159,151,166],3)){}else if(v.D(b,[159,151,167],3)){}else if(v.D(b,[159,151,174],3)){}else if(v.D(b,[159,151,222],3)){}else if(v.D(b,[159,193,167],3)){}else if(v.D(b,[159,193,174],3)){}else if(v.D(b,[159,193,166],3)){}else if(v.D(b,[159,193,240],3)){}else if(v.D(b,[159,193,241],3)){}else{return false;}return true;}};d9.fi=function(a){var b=be.cu(a.target);b=be.cv(b);if(cP.fb(a)){if(v.D(b,[175,214,158],3)){d9.fc(b,3,a,d9.eW);}else if(v.D(b,[175,214,183,158],4)){d9.fc(b,4,a,d9.eV);}else if(v.D(b,[175,147,171],3)){d9.fc(b,3,a,d9.eY);}else if(v.D(b,[175,147,172],3)){d9.fc(b,3,a,d9.e_);}else if(v.D(b,[175,142],2)){d9.fc(b,2,a,d9.e7);}else if(v.D(b,[175,160],2)){d9.fc(b,2,a,d9.e3);}else if(v.D(b,[175,196],2)){d9.fc(b,2,a,d9.e6);}else if(v.D(b,[175,189,163],3)){d9.fc(b,3,a,d9.e1);}else if(v.D(b,[175,189,164],3)){d9.fc(b,3,a,d9.eT);}else if(v.D(b,[175,183],2)){d9.fc(b,2,a,d9.eR);}else if(v.D(b,[175,189,162],3)){d9.fc(b,3,a,d9.e0);}else if(v.D(b,[175,156],2)){d9.fc(b,2,a,d9.eS);}else if(v.D(b,[175,171],2)){d9.fc(b,2,a,d9.eN);}else if(v.D(b,[175,172],2)){d9.fc(b,2,a,d9.eQ);}else if(v.D(b,[175,212],2)){d9.fc(b,2,a,d9.e8);}else if(v.D(b,[175,162],2)){d9.fc(b,2,a,d9.e9);}else{console.log("unknown route target:"+b);return false;}return true;}};d9.fj=function(a){var b=be.cu(a.target);b=be.cv(b);if(cP.fb(a)){var c=be.cu(a.target);c=be.cv(c);if(cP.ey&&cP.ey.ez){console.log("clock target:"+c);}var d=function(e){a.cA([153],function(f,g){var h=(f!=null)?new Date(Math.round(f/32.768)):haloS["dateOverride"]?haloS["dateOverride"]():new Date();e(h);});};if(v.D(b,[153,162,159],3)){d(function(e){a.cJ(be.cj(Math.round(e.getTime()*32.768)));});}else if(v.D(b,[153,162,200],3)){d(function(e){a.eA(0,e.getUTCFullYear());});}else if(v.D(b,[153,162,201],3)){d(function(e){a.eA(0,e.getUTCMonth());});}else if(v.D(b,[153,162,202],3)){d(function(e){a.eA(0,e.getUTCDate());});}else if(v.D(b,[153,162,203],3)){d(function(e){a.eA(0,e.getUTCHours());});}else if(v.D(b,[153,162,204],3)){d(function(e){a.eA(0,e.getUTCMinutes());});}else if(v.D(b,[153,162,205],3)){d(function(e){a.eA(0,e.getUTCSeconds());});}else if(v.D(b,[153,162,206],3)){d(function(e){a.eA(0,Math.round(e.getUTCMilliseconds()*32.768));});}else if(v.D(b,[153,162,207],3)){d(function(e){a.eA(0,e.getUTCDay());});}else{return false;}return true;}};d9.fk=function(a){var b=be.cu(a.target);b=be.cv(b);if(v.D(b,[248,243],2)){d9.fc(b,2,a,d9.fl);}else if(v.D(b,[248,184,152],3)){d9.fm(a);}else if(v.D(b,[248,184,193],3)){d9.fn(a);}else if(v.D(b,[248,184,234],3)){d9.fo(a);}else if(v.D(b,[248,184,243],3)){d9.fp(a);}else if(v.D(b,[248,32,1,5,101,109,97,105,108],9)){}else{return false;}return true;};d9.fo=function(a){if(v.D(a.cw,[216])){a.cA([153],function(b,c){a.es([250],[162],function(d,e){var f=[];for(var cI=0;cI<8;cI++){var g=Math.floor(b/Math.pow(256,cI))&255;f[7-cI]=g;}var h=(f[4]&15)*256*256*256+f[5]*256*256+f[6]*256+f[7];d9.fq([184],f,28,4,3,a,be.cj(h),true,function(i,j){a.fr(j,d,function(k,l){a.cJ([1,1]);});});});});}};d9.ft=function(a){var b=[];var c;while(a.length){if(a[0]&128){var CB=a[0];a.splice(0,1);CB&=127;if(CB&64){CB=128-CB;c=c-(CB<<12);}else{c=c+(CB<<12);}fu=[(c&4278190080)>>24,(c&16711680)>>16,(c&65280)>>8,(c&255)];}else{if(a[0]===0){a.splice(0,1);}var fu=a.splice(0,4);c=fu[0]*256*256*256+fu[1]*256*256+fu[2]*256+fu[3];}fu.unshift(20);var d=be.dj(fu,0).value;b.push(d);}return b;};d9.fv=function(a,b){b.dJ([60,128,250,62],function(c,d){var e=v.aK(c);var f=d9.ft(e);var g=0;var min;var max;for(var cI=0;cI<f.length;cI++){g+=f[cI];if((min==null)||(f[cI]<min)){min=f[cI];}if((max==null)||(f[cI]>max)){max=f[cI];}}d9.fw(a,0,b,f.length,max,min,g,function(){b.cJ([1,1]);});});};d9.fw=function(a,b,c,d,e,f,g,h){if(b==a.length){h();return;}var i=[184];for(var cI=0;cI<=b;cI++){i=be.d2(i,a[cI]);}d9.fx(i,[159],d,function(j,k){return j+k;},c,function(){d9.fx(i,[163],e,function(j,k){return (k>j)?k:j;},c,function(){d9.fx(i,[164],f,function(j,k){return (k<j)?k:j;},c,function(){d9.fx(i,[245],g,function(j,k){return j+k;},c,function(){d9.fw(a,b+1,c,d,e,f,g,h);});});});});};d9.fx=function(a,b,c,d,e,f){var g=be.d2(a,b);e.cA(g,function(h,i){if(h==null){e.cX(a,b,function(j,k){e.fy(g,be.cj(c),f);});return;}var j=d(h,c);if(j!=h){e.fy(g,be.cj(j),f);}else{f();}});};d9.fp=function(a){v.nextTick(function(){});d9.fm(a);};d9.fm=function(a){var b=be.cu(a.target);b=be.cv(b);b.splice(0,3);if(v.D(a.cw,[216])&&(b.length===0)){d9.fz(a,function(c,d){a.cJ(d);});}else{d9.fn(a,true);}};d9.fz=function(a,b){a.es([153],null,function(c,d){if(c==null){c=be.cj((new Date()).getTime());}var e=c.concat();c.shift();while(c.length<8){c.unshift(0);}d9.fq([184],c,32,4,4,a,e,true,b);});};d9.fl=function(a){var hP=be.d2([60,145,250,62],a.target[0]);a.ec([60,145,250,145,62],function(b,c){if(b===true){a.es(hP,a.cw,function(d,e){a.cJ(d);});}else{a.dL([60,145,197,62],null,function(d,e){d=be.cv(d);d=d.concat([122,145,60,62]);d=be.dh(d);a.cZ([60,145,250,62],d,function(f,g){a.es(hP,a.cw,function(h,i){a.cJ(h);});});});}});};d9.fA=function(a,b,c,d){var e=[];var f=[];for(var cI=0;cI<8;cI++){f.push((a[cI]&240)>>4);f.push(a[cI]&15);}var g=0;var h=0;while(b>0){g=g*16+f[h++];b-=4;}e.push(be.cj(g));for(var cI=1;cI<d;cI++){var i=0;for(var dz=0;dz<c;dz+=4){i=i*16+f[h++];}e.push(be.cj(i));}return e;};d9.fq=function(a,b,c,d,e,f,g,h,i){var j=d9.fA(b,c,d,e);d9.fB(a,j,j.length-1,f,function(k){d9.fC(a,j,k+1,f,function(){var l=a.concat();for(var cI=0;cI<j.length;cI++){l=be.d2(l,j[cI]);}f.cX(l,g,function(m,n){var o=be.d2(l,g);if(o==null){f.cJ();}else{if(h){f.es([250],null,function(p,q){if(p==null){p=[60,62];}f.cZ(o,p,function(r,s){i(j,o);});});}else{i(j,o);}}});});});};d9.fB=function(a,b,c,d,e){if(c==-1){e(c);return;}var f=a.concat();for(var cI=0;cI<=c;cI++){f=be.d2(f,b[cI]);}d.ec(f,function(g){if(g){e(c);}else{d9.fB(a,b,c-1,d,e);}});};d9.fC=function(a,b,c,d,e){if(c>=b.length){e(true);return;}var f=a.concat();for(var cI=0;cI<c;cI++){f=be.d2(f,b[cI]);}d.cX(f,b[c],function(g,h){d9.fC(a,b,c+1,d,e);});};d9.fn=function(a,b){var c=be.cu(a.target);c=be.cv(c);c=c.slice(3);if(v.D(a.cw,[197])){}else if(v.D(a.cw,[216])&&(c.length===0)){a.es([211],null,function(d){var ke=d;if(ke==null){a.cJ();return;}var e=v.aX(ke);var f=[(e>>8)&255,e&255];d9.fq([184],f,4,4,4,a,ke,true,function(g,h){a.cJ(h);});});}else if(v.D(a.cw,[161])&&(c.length===0)){v.aN("database delete");a.es([211],null,function(d){v.aN("keyname is:"+d);if(d==null){a.cJ();return;}if(b){var e=be.dj(d,0).value;console.log(e.toString(16));var f=be.d2([184],be.cj((Math.floor(e/Math.pow(2,32)))&4095));f=be.d2(f,be.cj((e>>28)&15));f=be.d2(f,be.cj((e>>24)&15));f=be.d2(f,be.cj((e>>20)&15));console.log("destroy:"+f+".."+(e));a.cW(f,be.cj(e),function(g,h){a.cJ([1,1]);});}else{var ke=be.dk(d,0).value;var e=v.aX(ke);var f=be.d2([184],be.cj((e>>12)&15));f=be.d2(f,be.cj((e>>8)&15));f=be.d2(f,be.cj((e>>4)&15));f=be.d2(f,be.cj(e&15));console.log("destroy:"+f+".."+(e));a.cW(f,be.cj(e),function(g,h){a.cJ(g);});}});}else if(v.D(a.cw,[196])){}else{var d=cP.et(c);var dz=d.ew();var ke=dz.fD;if(b){var e=dz.data;var f=be.d2([184],be.cj((Math.floor(e/Math.pow(2,32)))&4095));f=be.d2(f,be.cj((e>>28)&15));f=be.d2(f,be.cj((e>>24)&15));f=be.d2(f,be.cj((e>>20)&15));}else{var e=v.aX(ke);var f=be.d2([184],be.cj((e>>12)&15));f=be.d2(f,be.cj((e>>8)&15));f=be.d2(f,be.cj((e>>4)&15));f=be.d2(f,be.cj((e)&15));}var g=be.d2(f,c);a.es(g,a.cw,function(h,i){a.cJ(h);});}};d9.cS=function(){this.cT=null;};d9.cS.prototype.fE=function(a,b){b(a);};/* (C) 2021 Halo Automation Systems LLC; This software is proprietary and is NOT to be distributed or shared in any way.*/"use strict";var fF={};if(typeof require!="undefined"){}fF.fG=function(a){haloView.fH({fI:["Ok"],fJ:a,fK:"Error"});};fF.fL=function(a,b,c,d){a.dJ(b,function(e,f){if(f){a.fM(function(){fF.fG(c+f,a);});}else{a.destroy(function(){d(cP.de(e));});}});};fF.fN=function(a){switch(typeof a){case "object":return cP.c7(a);case "number":return be.cj(a);case "string":return be.cs(a);default:return null;}};fF.fO=function(a,b){if(!b){return;}b.forEach(function(c){var d=fF.fN(c[1]);a.dI([c[0]],d);});};fF.request=function(a,b,c){var d="/company/"+haloView.fP+"/external/code/";var g1=cP.cQ.c1();var target=be.cn(d+a);var e="Failed to complete \""+a+"\" with error code: ";fF.fO(g1,b);fF.fL(g1,target,e,c);};/* (C) 2021 Halo Automation Systems LLC; This software is proprietary and is NOT to be distributed or shared in any way.*/"use strict";var fQ={};if(typeof require!="undefined"){}fQ.fR=function(a){return {forEach:function(b){return fQ.fR(fQ.forEach(a,b));},map:function(b){return fQ.fR(fQ.map(a,b));},filter:function(b){return fQ.fR(fQ.filter(a,b));},reduce:function(b,c){return fQ.fR(fQ.reduce(a,b,c));},every:function(b){return fQ.fR(fQ.every(a,b));},some:function(b){return fQ.fR(fQ.some(a,b));},find:function(b){return fQ.fR(fQ.find(a,b));},push:function(b){return fQ.fR(fQ.push(a,b));},fS:function(b,c){return fQ.fR(fQ.fS(a,b,c));},fT:function(b,c){return fQ.fR(fQ.fT(a,b,c));},fU:function(b){return fQ.fR(fQ.fU(a,b));},sort:function(b){return fQ.fR(fQ.sort(a,b));},concat:function(b){return fQ.fR(fQ.concat(a,b));},fV:function(){return fQ.fR(fQ.fV(a));},fW:function(){return fQ.fR(fQ.fW(a));},fX:function(){return a;},log:function(b){if(b!==undefined){console.log(b);}console.log(a);return fQ.fR(a);}};};fQ.push=function(a,b){a[fQ.end(a)]=b;return a;};fQ.pop=function(a){var b=fQ.end(a)-1;var b6=a[b];delete a[b];return b6;};fQ.fS=function(a,b,c){var cI=fQ.end(a);while(cI>b){a[cI]=a[cI-1];cI--;}a[b]=c;return a;};fQ.fU=function(a,b){var end=fQ.end(a)-1;delete a[b];while(b<end){a[b]=a[b+1];b++;}delete a[b];return a;};fQ.fT=function(a,b,c){var d=a[b];a[b]=a[c];a[c]=d;return a;};fQ.fY=function(a){return Object.keys(a).length;};fQ.fZ=function(a){return fQ.fY(a)===0;};fQ.f_=function(a){return a[fQ.f$(a)];};fQ.b6=function(a){return a[fQ.end(a)-1];};fQ.f$=function(a){if(fQ.fZ(a)){return 1;}var b=0;while(!Object.hasOwnProperty.call(a,b)){b++;}return b;};fQ.end=function(a){var fY=fQ.fY(a);var f$=fQ.f$(a);return f$+fY;};fQ.sort=function(a,b){if(b===undefined){b=function(c,d){return v.ba(c,c)-v.ba(d,d);};}var c=Object.values(a)["sort"](b);var cI=fQ.f$(a);for(var dz=0;dz<c.length;++dz){a[cI++]=c[dz];}return a;};fQ.concat=function(a,b){var copy=fQ.fV(a);var cI=fQ.end(copy);var dz=fQ.f$(b);var bw=0;var c=fQ.fY(b);while(bw++<c){copy[cI++]=b[dz++];}return copy;};fQ.fV=function(a){return Object.assign({},a);};fQ.fW=function(a){return v.ac(a);};fQ.f0=function(a,b){var b3=b===0?0:b||1;return a.reduce(function(c,d){c[b3++]=d;return c;},{});};fQ.f1=function(){return fQ.f0(Array.prototype.slice.call(arguments,0));};fQ.forEach=function(a,b){for(var cI in a){b(a[cI],cI,a);}return a;};fQ.map=function(a,b){var copy={};for(var cI in a){copy[cI]=b(a[cI],cI,a);}return copy;};fQ.filter=function(a,b){var copy={};var c=fQ.f$(a);for(var cI in a){if(b(a[cI],cI,a)){copy[c++]=a[cI];}}return copy;};fQ.reduce=function(a,b,c){var d=false;var e=c;if(c===undefined){d=true;}for(var cI in a){if(d){e=a[cI];d=false;continue;}e=b(e,a[cI],cI,a);}return e;};fQ.every=function(a,b){for(var cI in a){if(!b(a[cI],cI,a)){return false;}}return true;};fQ.some=function(a,b){for(var cI in a){if(b(a[cI],cI,a)){return true;}}return false;};fQ.find=function(a,b){for(var cI in a){if(b(a[cI],cI,a)){return a[cI];}}};/* (C) 2021 Halo Automation Systems LLC; This software is proprietary and is NOT to be distributed or shared in any way.*/"use strict";var f2={};if(typeof require!="undefined"){}f2.cS=function(a){this.f3=f4.f5([60,62]);this.cT=new cP.cT(null,this.f3,false);var b={f6:[243],cS:this};this.cT.cR.push(b);};f2.cS.prototype.fE=function(a,b){var c=be.cu(a.target);be.cv(c);if(c&&c.length){a.target=[c];}else{a.target=[];}a.f7=this.f3;this.cT.fE(a,function(){b(a,true);});};/* (C) 2021 Halo Automation Systems LLC; This software is proprietary and is NOT to be distributed or shared in any way.*/"use strict";var f4={};if(typeof require!="undefined"){var fs=require("fs");var path=require("path");var f8=require("util");var f9=false;}var ga=100000;var gb=true;var gc=20;f4.gd=function(a,b){if(!fs["existsSync"](a+"/f")){return;}var data=fs["readFileSync"](a+"/f");var ge=function(c,d,e,f,g){if(gb&&Buffer.isBuffer(d)){fs["writeFileSync"](a+"/f",d);}else{d=v.aL(d);fs["writeFileSync"](a+"/f",d,"binary");}};var options={data:data,ge:ge};var gf=new f4.gf(options);return gf;};f4.gg=function(a,b,c,d){if(a.slice(-1)!="/"){a+="/";}var e=function(f){var g=a;while(f.length>gc){var h="d"+f.slice(0,gc);f=f.slice(gc);g=path.join(g,h);}g=path.join(g,"f"+f);return g;};var f=function(g,h){if(h.gh.length>gc){var i="d"+h.gh.slice(0,gc);h.gh=h.gh.slice(gc);h.gi=path.join(h.gi,i);fs["open"](h.gi,"r",448,function(j,k){if(j){fs["mkdir"](h.gi,448,function(l,m){f(m,h);});}else{fs["close"](k,function(l){f(k,h);});}});}else{h.gi=path.join(h.gi,"f"+h.gh);h.bA(h.gi);}};var g=function(h,i){var j={gh:h,bA:i,gi:a};if(j.gh.length>gc){var k="d"+j.gh.slice(0,gc);j.gh=j.gh.slice(gc);j.gi=path.join(j.gi,k);fs["open"](j.gi,"r",448,function(l,m){if(l){fs["mkdir"](j.gi,448,function(n,o){f(o,j);});}else{fs["close"](m,function(n){f(m,j);});}});}else{j.gi=path.join(j.gi,"f"+j.gh);j.bA(j.gi);}};var gn=function(h,i){var gh=v.aT(h);var j=e(gh);fs["readFile"](j,gb?null:"binary",function(k,l){if(k){i();}else{if(!gb){l=v.aK(l);}if(c&&(l[5]===187)&&v.D(l.slice(0,9),[60,101,60,128,186,187,1,1,62])){if(Buffer.isBuffer(l)){l=v.aK(l.toString("binary"));}var m=gj.gk(c,l);if(gb){l=Buffer["from"](m);}else{l=m;}}var n=fs["statSync"](j);i(l,n?n["mtimeMs"]:null);}});};var ge=function(h,i,j,k){var gh=v.aT(h);if(b){j();return;}var l=e(gh);gl(h,i,k);j();};var gl=function(h,i,j){var gh=v.aT(h);var k=e(gh);g(gh,function(l){if(c){if(Buffer.isBuffer(i)){i=v.aK(i.toString("binary"));}var m=gj.gm(c,d,i);i=m;}if(gb&&Buffer.isBuffer(i)){fs["writeFileSync"](k,i);}else{i=v.aL(i);fs["writeFileSync"](k,i,"binary");}if(j!=null){fs["utimesSync"](k,new Date(j),new Date(j));}});};var go=function(h,i){if(b){i();return;}fs["unlink"](h,function(j){if(j){i();}else{i();}});};var options={gn:gn,ge:ge,go:go};var gf=new f4.gf(options);return gf;};f4.gp=function(a,b,c){var d=new c["ddb"]({gq:a,gr:"2012-08-10"});var e=c["putItem"];var getItem=c["getItem"];var gn=function(f,g){f=be.dh(f);var D1={gs:b,Key:{"id":{"B":Buffer.gt(Uint8Array.gt(f))}},gu:"d,t"};console.log("start read...");d.send(new getItem(D1),function(h,i){console.log("finish read...");if(i&&i["Item"]){g(Buffer.gt(i["Item"]["d"]["B"]),i["Item"]["t"]["N"]);}else{g();}});};var ge=function(f,g,h,i){f=be.dh(f);var D1={gs:b,gv:{"id":{"B":Uint8Array.gt(f)},"d":{"B":Uint8Array.gt(g)},"t":{"N":String(i)}}};console.log("putting item...");d.send(new e(D1),function(j,k){console.log("finish putting item...");if(j){console.log("Error",j);}else{}h();});};var go=function(f,g){g();};var options={gn:gn,ge:ge,go:go};var gf=new f4.gf(options);return gf;};f4.f5=function(a,b,c,d){var options={data:a,gn:b,ge:c,go:d};var gf=new f4.gf(options);return gf;};f4.gf=function(a){this.options=a;this.data={};this.gw={};if(a.data){this.data["/"]={data:a.data,dW:Date.now()};}};f4.gf.prototype.gx=function(a,b,c,d){var e=this;var f="/"+be.bf(b);if(c&&this.gw[c.id]&&this.gw[c.id][f]){d(this.gw[c.id][f].data);}else if(this.data[f]){d(this.data[f].data);}else if(this.options.gn){this.options.gn(b,function(g,h){if(g){if(g[0]!==60){var i=new Buffer(g.length+2);i[0]=60;i[i.length-1]=62;g["copy"](i,1,0,g.length);g=i;}if(h==null){h=Date.now();}e.data[f]={data:g,dW:h};d(g);}else{d([60,62]);}});}else{d([60,62]);}};f4.gf.prototype.gy=function(a,b,c,d,e,f){var g=this;var h="/"+be.bf(b);if(this.gw[d.id]==null){this.gw[d.id]={};}this.gw[d.id][h]={data:c,dW:(f!=null)?f:Date.now()};d.cT.gz(d,this);e(true);};f4.gf.prototype.gA=function(a,b,c){if(this.gw[a.id]){var d=this.gw[a.id];delete this.gw[a.id];for(var cI in d){this.data[cI]=d[cI];if(this.options.ge){var e=be.cv(be.cn(cI.slice(1)));this.options.ge(e,d[cI].data,function(f){},d[cI].dW);}}}c(true);};f4.gB=function(){var a=this;this.gC=true;this.gD={};haloS.dv.dA({path:"/"},function(b){if(b==null){var c=[60,122,145,0,122,219,0,122,210,60,101,60,128,146,210,62,62,62];var data=Uint8Array["from"](c);haloS.dv.dw({"path":"/","data":data,"date":Date.now()},function(){console.log("done");});}});};f4.gB.prototype.gx=function(a,b,c,d){var e=this;if(b.length===0){delete c["deviceTarget"];}haloS.dv.dA({path:"/"+be.bf(b)},function(f){c.gE=true;if(f==null){d([0]);}else if((f["network"]==null)&&(c["deviceTarget"]==null)){if(f["data"]){d(Array["from"](f["data"]));}else{d([0]);}}else{var g=be.cu(c.target);var mk=f["network"]?cP.de(f["network"]):{"type":{}};var h=function(i,j){i.target=[g];i.gF=null;i.e2=null;gG.gH(i["deviceTarget"],function(k,l,m){if(k==null){i.e2=[182];j();return;}v.setTimeout(function(){var n=[128];n=n.concat(b);var o=be.cv(be.cu(i.target));var kl=be.cv(be.cn(i["deviceTarget"]));var p=b.slice(kl.length-1);var q=be.cv(be.d2(p,o));i.target=[q];var r=gI?gI:i;l.gJ.gK.gL(r,n,null,null,function(s){j(r);});},m?500:0);});};if(mk["type"]&&((mk["type"]._response=="device")||(mk["type"]._response=="proxy"))){c["deviceTarget"]="/"+be.bf(b);c["deepestCache"]=f;c["deepestTarget"]=be.cv(g);if(c["deviceTarget"]&&(f["network"]==null)&&(c.target.length===0)){var i=true;}var j=(c.cw[0]===214)||(c.cw[0]===171)||(c.cw[0]===172);var k=(c.cw[0]===162)||(c.cw[0]===156)||(c.cw[0]===163)||(c.cw[0]===164);var l=be.bf(be.d2(be.cn(f["path"]),g));if(k){var I2;for(var cI=0;cI<c.cx.length;cI++){if(v.D(c.cx[cI].cy,[170,153])){I2=c.cx[cI].gM;if(c.cx[cI].data){I2=be.dj(c.cx[cI].data,2).value;}}}var m=function(n,o,p){haloS.dv.dA({"path":n},function(q){if(q){var r=Array["from"](q["data"]);if((o.cw[0]===163)||(o.cw[0]===164)){}else{r=r.slice(2,-1);}p(r);}else{p();}});};var n=function(){if((I2==null)||(c["deepestCache"]&&c["deepestCache"]["tree"]&&(I2<c["deepestCache"]["date"]))){}else if(mk["type"]._response=="proxy"){}else{var o=true;}if(c.e2&&e.gD[f["path"]]&&!o){if(e.gD[f["path"]].cp>(Date.now()-1000*15)){m(l,c,function(p){if(p){c.gF=p;c.e2=null;}cP.gN(c,c.gF,c.e2);});return;}else{delete e.gD[f["path"]];}}if(c.e2||o){if(c.gO){var p=[];if(!c.e2){p=c.gF;cP.gN(c,c.gF,c.e2);}}h(c,function(){if(!o&&c.e2&&(c.e2[0]===182)){e.gD[f["path"]]={gP:175,cp:Date.now()};m(l,c,function(q){if(q){c.gF=q;c.e2=null;}if(c.gO){if((q==null)||(p==null)||!v.D(q,p)){c.gO.bA();}}else{cP.gN(c,c.gF,c.e2);}});return;}var q=c["deepestCache"];if((c["deepestTarget"].length===0)&&c.gF){if((c.cw[0]===163)||(c.cw[0]===164)){q["data"]=Uint8Array["from"](c.gF);q["date"]=Date.now();}else{var nH=new ArrayBuffer(c.gF.length+3);var nG=new Uint8Array(nH);nG[0]=60;nG[1]=97;for(var cI=0;cI<c.gF.length;cI++){nG[2+cI]=c.gF[cI];}nG[c.gF.length+2]=62;q["data"]=nG;q["date"]=Date.now();}haloS.dv.dw(q,function(){if(c.gO){if((c.gF==null)||(p==null)||!v.D(c.gF,p)){c.gO.bA();}}else{c.cJ();d();}});}else{if(c.gF&&f["path"].search("/company/paragonrobotics.com/device/container"!=-1)&&(be.cv(g)[0]===169)&&((c.cw[0]===163)||(c.cw[0]===164))){var data=Uint8Array["from"](c.gF);haloS.dv.dw({"path":l,"data":data,"date":Date.now(),"read":0,"write":0},function(){if(c.gO){if((c.gF==null)||(p==null)||!v.D(c.gF,p)){c.gO.bA();}}else{c.cJ();d();}},true);}else{if(c.gO){if((c.gF==null)||(p==null)||!v.D(c.gF,p)){c.gO.bA();}}else{c.cJ();d();}}}});}else{cP.gN(c,c.gF,c.e2);}};c.gQ.push(n);c.gR.push(cP.gS);d(Array["from"](f["data"]));}else if(j){var o=function(){if(c.e2&&e.gD[f["path"]]){if(e.gD[f["path"]].cp>(Date.now()-1000*15)){c.cJ();d();return;}}if(mk["target"]==null){c.cJ();d();return;}h(c,function(){c.cJ();d();});};if(c.cw[0]===172){console.log("message:"+(c.cw[0]));}c.gQ.push(o);c.gR.push(cP.gS);d(Array["from"](f["data"]));}else{h(c,function(){c.cJ();d();});}}else if(mk["type"]&&(mk["type"]._response=="test")){console.log("forwarding to test");c["deviceTarget"]="/"+be.bf(b);c["deepestCache"]=f;c["deepestTarget"]=be.cv(g);h(c,function(){c.cJ();d();});}else if(c["deviceTarget"]){c["deepestCache"]=f;c["deepestTarget"]=be.cv(g);if(f["data"]){d(Array["from"](f["data"]));}else{d([0]);}}else if(mk["type"]&&(mk["type"]._response=="halocloud")){if(f["network"]){c["deviceTarget"]="/"+be.bf(b);}var I2;for(var cI=0;cI<c.cx.length;cI++){if(v.D(c.cx[cI].cy,[170,153])){I2=c.cx[cI].gM;if(c.cx[cI].data){var I2=be.dj(c.cx[cI].data,2).value;}if((I2<f["date"])&&(f["data"].length>1)){console.log("returning cached data");d(Array["from"](f["data"]));return;}}}var hV=(c.cw[0]===214);if(hV){var gI=c.cT.gT(c);var p=be.cu(c.target);p=be.cv(p);}if(!hV&&(mk["type"]._response=="device")&&(f["data"].length>1)){d(Array["from"](f["data"]));return;}if((c.target.length===0)&&((c.cw[0]===162)||(c.cw[0]===163)||(c.cw[0]===164))){var i=true;}gG.gH(c["deviceTarget"],function(q,r,s){if(q==null){c.cJ(null,[182]);d();return;}v.setTimeout(function(){var t=[128];t=t.concat(b);var u=be.cv(be.cu(c.target));var kl=be.cv(be.cn(c["deviceTarget"]));var Iw=b.slice(kl.length-1);var Ix=be.cv(be.d2(Iw,u));c.target=[Ix];var Iy=gI?gI:c;r.gJ.gK.gL(Iy,t,null,null,function(Iz){if(hV){console.log("done writing");c.target=[p];d(Array["from"](f["data"]));return;}Iz.g1.cJ();if(i&&c.gF){if((c.cw[0]===163)||(c.cw[0]===164)){f["data"]=c.gM;f["date"]=Date.now();haloS.dv.dw(f,function(){d();});}else{var nH=new ArrayBuffer(c.gF.length+3);var nG=new Uint8Array(nH);nG[0]=60;nG[1]=97;for(var cI=0;cI<c.gF.length;cI++){nG[2+cI]=c.gF[cI];}nG[c.gF.length+2]=62;f["data"]=nG;f["date"]=Date.now();haloS.dv.dw(f,function(){d();});}}d();});},s?500:0);});}else{if(f["data"]){d(Array["from"](f["data"]));}else{c.cJ(null,[175]);d();}}}},true);};f4.gB.prototype.gy=function(a,b,c,d,e){var f=this;console.log("hs writing target:"+be.bf(b));if(Array.isArray(c)){if((c[0]!==60)&&(c[0]!==0)){c.unshift(60);c.push(62);}c=Uint8Array["from"](c);}haloS.dv.dA({path:"/"+be.bf(b)},function(g){if(g==null){g={"path":"/"+be.bf(b)};}g["data"]=c;g["date"]=Date.now();haloS.dv.dw(g,function(){e(true);while(d.cT.g2.g3===true){cP.g4(d.cT.g2);}});},true);};f4.gB.prototype.gA=function(a,b,c){c(true);};f4.g5=function(a){return new f4.gB();};f4.g6=function(a){var b=g7.g8("tree-f");if(b==null){var j2=[];j2=j2.concat(60,122,169,60,122,be.cn("apps"),60,62,122,be.cn("watches"),60,62,62,122,182,60,101,be.cn("/local/network"),62,122,210,60,101,be.cn("/local/message"),62,122,242,60,97,be.cs("My network storage-"),62,122,246,60,62,122,248,60,62,62);b=v.aU(v.aL(j2));g7.g9("tree-f",b);}var gn=function(c,d,e){var gh=v.aT(c);b=g7.g8("tree-f"+gh);if(b!=null){j2=v.aV(b);var f=v.aK(j2);}e(f);};var ge=function(c,d,e,f,g){if(a){g();return;}var gh=v.aT(c);b=v.aU(v.aL(d));g7.g9("tree-f"+gh,b);g();};var go=function(c,d,e){if(a){e();return;}var gh=v.aT(target);g7.ha("tree-f"+gh);};var gf=new f4.f7(gn,ge,go);var c={target:[],hb:[],b3:0,hc:true,children:[],data:[0]};gf.hd.he=c;gf.hf=1000000;return gf;};var hg=function(a){var b=63;while(b===63){b=a.data[a.b3++];}if(b===1){var gM=a.data[a.b3++];}else if(b===2){gM=(a.data[a.b3]<<8)|(a.data[a.b3+1]);a.b3+=2;}else if(b===4){gM=(a.data[a.b3]<<24)|(a.data[a.b3+1]<<16)|(a.data[a.b3+2]<<8)|(a.data[a.b3+3]);a.b3+=4;}else if(b>127){return b;}return gM;};var hh=function(a){var b=63;while(b===63){b=a.data[a.b3++];}if(b<=16){a.b3+=b;}else if(b===20){a.b3+=4;}else if(b===24){a.b3+=8;}else if((b===32)||(b===35)){var c=hg(a);a.b3+=c;}else if(b===60){while(1){while(a.data[a.b3]===63){a.b3++;}if(a.data[a.b3]===62){break;}hh(a);}a.b3++;}else if((b===56)||(b===69)){hh(a);}else if((b>63)&&(b<128)){var d=(b&3);for(var e=0;e<d;e++){hh(a);}}};var hi=function(a,b){if(a<=16){b.b3+=a;}else if(a===20){b.b3+=4;}else if(a===24){b.b3+=8;}else if((a===32)||(a===35)){var c=hg(b);b.b3+=c;}else if(a===60){while(1){while(b.data[b.b3]===63){b.b3++;}if(b.data[b.b3]===62){break;}hh(b);}b.b3++;}else if((a===56)||(a===69)){hh(b);}else if((a>63)&&(a<128)){var d=(a&3);for(var e=0;e<d;e++){hh(b);}}};f4.hj=function(a,b){var c=this;this.options=a;this.hk=[];this.hl=(a.hm=="separate-database")?a.hl:a.hn;if(this.options.hn==null){this.options.hn=this.options.f7;}this.options.hn.gx(null,[],null,function(){var d=c.options.hn.data["/"];c.data=d.data;c.ho=d.dW;if(c.options.map){c.hp(function(){c.hq(function(){c.hr=true;b(c);});});}else{c.hr=true;b(c);}});};f4.hj.prototype.hs=function(a){var b=this;if(b.ht){a();return;}b.hu(be.cv(be.cn("internal/people/name/database")),{hv:true},function(c){b.hk={};var d=cP.de(c.data);var e=[];for(var cI in d){for(var dz in d[cI]){for(var f in d[cI][dz]){for(var g in d[cI][dz][f]){for(var BH in d[cI][dz][f][g]){var target=d[cI][dz][f][g][BH]._type.replace(b.options.hw+"/","");var h={hx:target};b.hk[BH]=h;}}}}}b.ht=true;a();});};f4.hj.prototype.hp=function(a){var b=this;b.hu(be.cv(be.cn("internal/people/name/database")),{hv:true},function(c){b.hk={};var d=cP.de(c.data);var e=[];for(var cI in d){for(var dz in d[cI]){for(var f in d[cI][dz]){for(var g in d[cI][dz][f]){for(var BH in d[cI][dz][f][g]){var h={hx:d[cI][dz][f][g][BH]._type};b.hk[BH]=h;e.push(h);}}}}}var vu=function(i,j){if(j>=i.length){a();return;}var target=i[j].hx;target=target.replace(b.options.hw+"/","");i[j].hx=target;b.hu(be.cv(be.cn(target)),{hv:true},function(k){i[j].hy=cP.de(k.data);vu(i,j+1);});};vu(e,0);});};f4.hj.prototype.hz=function(a,b){var c=this;console.log("1refreshingSingle:"+a+".."+c.options.hA);if(c.options.hA){c.hp(function(){c.hq(b);});}else{cP.cQ.dN(be.cn("/reserved/internal/system/name/"+a),function(d,e){console.log("domain r:"+a+".."+JSON.stringify(d));if(d){d=cP.de(d);var target=d._type;target=target.replace(c.options.hw+"/","");var f={hx:target,name:a};c.hB[a]=f;c.hC(f,function(){console.log("done with authenticate refresh");if(b){b();}});}else{if(b){b();}}});}};f4.hj.prototype.hD=function(a,b,c){var d=this;if(!a||(d.hB[b]&&d.hB[b].hE)){c();return;}d.hz(b,c);};f4.hj.prototype.hF=function(a){var b=this;v.setTimeout(function(){if(b.options.hA){b.hp(function(){b.hq(function(){});});}else{cP.cQ.dN(be.cn("/reserved/internal/people/name/"+a),function(c,d){if(c){c=cP.de(c);var hx=c._type.replace(b.options.hw+"/","");var e={hx:hx};b.hk[a]=e;}});}},500);};f4.hj.prototype.hq=function(a){var b=this;if(this.options.hA){b.hB={};b.hu(be.cv(be.cn("internal/system")),{hv:true},function(c){b.hu(be.cv(be.cn("internal/system/sales")),{hv:true},function(d){b.hu(be.cv(be.cn("internal/system/people")),{hv:true},function(e){var f7={hx:"internal/system",data:cP.de(c.data),hG:cP.de(d.data),hk:cP.de(e.data)};b.hC(f7,function(){b.hB["reserved"]=f7;console.log("****************BACK");a();});});});});}else{b.hu(be.cv(be.cn("internal/system/name/database")),{hv:true},function(c){b.hB={};var d=cP.de(c.data);var e=[];for(var cI in d){for(var dz in d[cI]){for(var f in d[cI][dz]){for(var g in d[cI][dz][f]){for(var BH in d[cI][dz][f][g]){var h={hx:d[cI][dz][f][g][BH]._type,name:BH};b.hB[BH]=h;e.push(h);}}}}}var vu=function(i,j){if(j>=i.length){a();return;}var target=i[j].hx;target=target.replace(b.options.hw+"/","");i[j].hx=target;b.hC(i[j],function(){v.nextTick(function(){vu(i,j+1);});});};vu(e,0);});}};f4.hj.prototype.hC=function(a,b){var c=this;var d={};console.log("****refreshing authentication map for domain:"+a.name);var vu=function(e,f){c.hu(be.cv(be.cn(e)),{hv:true},function(g){if(g.data==null){f();return;}var jT=cP.de(v.aK(g.data.toString("binary")));c.hu(be.cv(be.cn(e+"/security")),{hv:true},function(h){var hS=(h.data&&h.data.length)?cP.de(h.data):{};var i=e.replace(a.hx,"");if(i.length===0){i="/";}d[i]=hS;var j=function(k,l,m){if(l>=k.length){m();return;}vu(e+"/container/"+k[l],function(){j(k,l+1,m);});};var k=[];for(var cI in jT["container"]){k.push(cI);}j(k,0,f);});});};c.hu(be.cv(be.cn(a.hx)),{hv:true},function(e){c.hu(be.cv(be.cn(a.hx+"/sales")),{hv:true},function(f){c.hu(be.cv(be.cn(a.hx+"/people")),{hv:true},function(g){a.data=cP.de(e.data);a.hG=cP.de(f.data);a.hk=cP.de(g.data);vu(a.hx,function(){var h={};var i={};var j=function(k){i[k]={hH:false,hI:{},hJ:{}};};var k=function(l){h[l]={hH:false,hI:{},hJ:{}};};for(var cI in a.hk["share"]){var jl=cI.split("/").slice(-1);if(h[jl]==null){k(jl);}h[jl].hJ[cI]={};}for(var cI in a.hk["authenticate"]){var jl=cI.split("/").slice(-1);if(i[jl]==null){j(jl);}i[jl]["authenticate"]={_response:1};}for(var cI in a.hk["basic"]){var jl=cI.split("/").slice(-1);if(i[jl]==null){j(jl);}i[jl]["authenticate"]={_response:0};}for(var cI in d){for(var dz in d[cI]["change"]){console.log("found change user:"+jl);var jl=dz.split("/").slice(-1);var l=false;var m=i[jl];if(m==null){m=h[jl];l=true;}if(m==null){continue;}if(m.hI[cI]==null){m.hI[cI]={};}m.hI[cI]["change"]={_response:1};if(l){for(var n in a.hk["share"][jl]["people"]){if(i[n].hI[cI]==null){i[n].hI[cI]={};}i[n].hI[cI]["change"]={_response:1};}}}for(var dz in d[cI]["read"]){var jl=dz.split("/").slice(-1);console.log("found read user:"+jl);var l=false;var m=i[jl];console.log("obj:"+m);if(m==null){m=h[jl];l=true;}if(m==null){continue;}if(m.hI[cI]==null){m.hI[cI]={};}m.hI[cI]["read"]={_response:1};if(l){for(var n in a.hk["share"][jl]["people"]){if(i[n].hI[cI]==null){i[n].hI[cI]={};}i[n].hI[cI]["read"]={_response:1};}}}}a.hE={hK:i,hL:h};b();});});});});};f4.hj.prototype.hM=function(a,b){var c=this;var d=function(){var e=a.target.slice(0,a.hN);var f="/"+be.bf(e);a.f7.gx(null,e,a.hO,function(g,h){var i=a.f7.data[f];var gh=v.aT(e);a.b3=0;a.hP=e;if(i==null){a.data=Buffer["from"]([60,62]);a.hQ=0;}else{a.data=i.data;a.hQ=i.dW;}c.hM(a,b);});};while(a.hN<a.target.length){if(a.b3>=a.data.length){b(175);return;}var e=a.data[a.b3++];switch(e){case 122:var f=a.b3;hh(a);var g=a.b3;if(a.data[f]===60){f++;g--;}var h=g-f;if((h<=(a.target.length-a.hN))&&(v.D(a.data.slice(f,g),a.target.slice(a.hN),h))){a.hN+=h;}else{hh(a);}break;case 97:hh(a);break;case 0:d();return;case 101:if((a.data[a.b3]===60)&&(a.data[a.b3+1]===128)&&(a.data[a.b3+2]===157)&&(a.data[a.b3+3]===170)&&(a.data[a.b3+4]===62)){d();return;}if((a.data[a.b3]===60)&&(a.data[a.b3+1]===128)&&(a.data[a.b3+2]===157)&&(a.data[a.b3+3]===218)){var i=a.target.slice(0,a.hN);a.hR=be.bf(i);}hh(a);break;case 60:break;case 62:b(175);return;case 94:hh(a);hh(a);break;default:break;}}if((a.data[a.b3]===0)||((a.data[a.b3]===60)&&(a.data[a.b3+1]===101)&&(a.data[a.b3+2]===60)&&(a.data[a.b3+3]===128)&&(a.data[a.b3+4]===157)&&(a.data[a.b3+5]===170)&&(a.data[a.b3+6]===62))){var i=a.target.slice(0,a.hN);var j="/"+be.bf(a.target);a.f7.gx(null,i,a.hO,function(k,l){var gh=v.aT(i);var m=a.f7.data[j];a.hP=i;a.b3=0;if(m==null){a.data=Buffer["from"]([60,62]);a.hQ=0;}else{a.data=m.data;a.hQ=m.dW;}if(!a.hR){a.hR=be.bf(i);}c.hM(a,b);});return;}if((a.data[a.b3]===60)&&(a.data[a.b3+13]===101)&&(a.data[a.b3+14]===60)&&(a.data[a.b3+15]===128)&&(a.data[a.b3+16]===157)&&(a.data[a.b3+17]===218)){var i=a.target.slice(0,a.hN);a.hR=be.bf(i);}if((a.data[a.b3]===60)&&(a.data[a.b3+1]===101)&&(a.data[a.b3+2]===60)&&(a.data[a.b3+3]===128)&&(a.data[a.b3+4]===157)&&(a.data[a.b3+5]===218)){var i=a.target.slice(0,a.hN);a.hR=be.bf(i);}if(a.hS&&!a.hv){var i=a.target.slice(0,a.hN);console.log("runner.deepestFolder:"+a.hR);if(a.hR){var k=a.hR.replace(a.hT.hx,"");if(k.length===0){k="/";}console.log("shortname:"+k+".."+a.hU);var l=a.hT.hE.hK[a.hU];console.log("ownerHolder:"+l);if(l){console.log("ownerHolderFolders:"+l.hI[k]);var hS=l.hI[k];}}if(hS&&hS["read"]){}else{b(188);return;}}if(a.hS&&!a.hv&&a.hV&&a.hR){if(a.hR){var k=a.hR.replace(a.hT.hx,"");if(k.length===0){k="/";}var l=a.hT.hE.hK[a.hU];if(l){var hS=a.hT.hE.hK[a.hU].hI[k];}}if(hS&&hS["change"]){}else{b(188);return;}}b();};f4.hj.prototype.hW=function(a,b){var c=this;var d=function(e,f){var gh=v.aT(f);a.hP=f;a.data=e.data;a.hQ=e.dW;};if(a.hv||!a.hS){var e="/"+be.bf(a.target);if(a.f7.data[e]){a.hN=a.target.length;d(a.f7.data[e],a.target);}else if(a.hT&&(e.search("/"+a.hT.hx)!=-1)){if(a.f7.data["/"+a.hT.hx]){var hx=be.cn(a.hT.hx);a.hN=hx.length-2;d(a.f7.data["/"+a.hT.hx],hx);}}}this.hM(a,b);};f4.hj.prototype.hX=function(a,b){hh(a);b();};f4.hj.prototype.hY=function(a,b,c,d){var e=this;var f=cP.de(c);console.log("originalTarget:"+d);if((f._type==null)||(f._type.search("/type/system")!==0)){return c;}var mm=function(g,h){for(cI in g["container"]){var i=h+"/container/"+cI;console.log("fullTarget:"+i);var j=i.replace("internal/system","/");var hS=b.hE.hK[a][j];console.log("levelmap:"+JSON.stringify(hS));if(hS&&hS["read"]){mm(g["container"][cI],i);}else{delete g["container"][cI];}}};mm(f,d);return cP.c7(f);};f4.hj.prototype.hZ=function(a,b,c,d,e,f){var g=this;console.log("reading share:"+e);var h=[];var i=function(j){console.log("hext:"+j["data"]);var k=[];if(j["data"]){var j_=v.aK(j["data"].toString("binary"));if((j_[0]===54)&&(j_[1]===48)&&(j_[2]===33)){console.log("Trying to fix bad data..."+j_.slice(0,5));try{var l=v.aL(j_);j_=JSON.parse("["+l+"]");console.log("Fixed data to:"+j_);}catch(m){}}if(j_[0]!==60){j_.unshift(60);j_.push(62);}if(!c){for(var cI=0;(cI<40&&cI<(j_.length-4));cI++){if((j_[cI]===101)&&(j_[cI+1]===128)&&(j_[cI+2]===157)&&(j_[cI+3]===218)){var n=true;break;}}if(n){console.log("returning subset");}}k=k.concat(60,122,153,60,97,be.cj(Math.floor(j["date"]*32.768)),62,122,250,j_,62);}else if(j["date"]){k=k.concat(60,122,153,60,97,be.cj(Math.floor(j["date"]*32.768)),62,122,183,60,97,j["error"],62,62);}else{console.log("read error:"+j["error"]);k=k.concat(60,122,183,60,97,j["error"],62,62);}if(haloS.h_){console.log("responsedata:"+j_);}a.cJ(k);while(a.cT.g2.g3===true){cP.g4(a.cT.g2);}f();if(haloS.h_){console.log("responding3");}};console.log("readNodeContents:"+e);g.hl.gx(null,e,a,function(){console.log("back");try{var j="/"+be.bf(e);console.log("etarget:"+j);var k=g.hl.data[j];if(k==null){k={"error":153};}i(k);}catch(l){console.log(l.stack);}});};f4.hj.prototype.h$=function(a,b,c,d,e,f,g){var h=this;console.log("writing share to:"+f+".."+e);var i=[];var j=function(){var k=[];k=k.concat(60,122,153,60,97,be.cj(Math.floor(Date.now()*32.768)),62,62);a.cJ(k);while(a.cT.g2.g3===true){cP.g4(a.cT.g2);}g();};var k=function(l,m){if(m>=l.length){j();return;}var item=l[m];if(item.data){h.hl.gy(null,be.cn(item.location),Buffer["from"](item.data),a,function(){k(l,m+1);});}else{console.log("reading share target:"+item.location);h.hl.gx(null,be.cn(item.location),a,function(){var n="/"+item.location;var o=h.hl.data[n];var e=o?o["data"]:null;console.log("data:"+e);if(e==null){e=[];e=e.concat(60,122,153,60,97,be.cj(Date.now()),62,122,250,60,62,62);}else{e=v.aK(e.toString("binary"));}if((e[0]===54)&&(e[1]===48)&&(e[2]===33)){console.log("Trying to fix bad data..."+e.slice(0,5));try{var p=v.aL(e);e=JSON.parse("["+p+"]");console.log("Fixed data to:"+e);}catch(q){}}var r=cP.de(e);if(r["data"][item.h0]==null){r["time"]={_response:Date.now()};r["data"][item.h0]=NaN;var of=cP.c7(r);h.hl.gy(null,be.cn(item.location),Buffer["from"](of),a,function(){k(l,m+1);});}else{k(l,m+1);}});}};var l=[];var location=be.bf(f);var m=location.search("/database/database/");if((location.search("/company/paragonrobotics.com/device/")!=-1)&&(m!=-1)){var I1=location.slice(m+19);var n=I1.split("/");var o=location.slice(0,m+18);l.push({location:o,h0:n[0]});for(var dz=0;dz<n.length-1;dz++){l.push({location:o+"/"+n[dz],h0:n[dz+1]});o=o+"/"+n[dz];}}l.push({location:location,data:e});console.log(JSON.stringify(l));k(l,0);};f4.hj.prototype.h1=function(a,b,c,d,e,f,g){var h=this;var i=function(){var j=be.bf(b)+"/reserved/share";h.hu(be.cv(be.cn(j)),{hv:c,hU:d,hO:a},function(k){if(k["error"]){var l={};}else{var l=cP.de(k.data);}var m=be.cv(f);var n=be.d2(be.cj(f.length),m);l[be.bf(n)]=cP.de(e);h.h2(be.cv(be.cn(j)),cP.c7(l),{hv:true,h3:true,hO:a},function(o){var p=[];p=p.concat(60,122,153,60,97,be.cj(Math.floor(Date.now()*32.768)),62,62);a.cJ(p);while(a.cT.g2.g3===true){cP.g4(a.cT.g2);}g();});});};h.hu(be.cv(b),{hv:c,h4:h.options.hw+"/"+h.hk[d].hx,hU:d,hO:a},function(j){if(j==null){a.cJ(null,[186]);while(a.cT.g2.g3===true){cP.g4(a.cT.g2);}g();return;}var k=cP.de(j.data);if((k["reserved/share"]==null)||(k["reserved/share"]._type==null)){k["reserved/share"]={_type:"/type/node"};h.h2(be.cv(b),cP.c7(k),{hv:true,hO:a},function(){i();});}else{i();}});};f4.hj.prototype.process=function(a,b,c){var d=this;if(d.h5){var bA=function(){d.h6=false;c();};var e=function(){console.log("starting cycle lock");v.setTimeout(function(){if(d.h6){v.nextTick(function(){e();});}else{d.process(a,b,c);}},50);};if(d.h6){e();return;}d.h6=true;}else{var bA=c;}if(!d.hr){a.cJ(null,[186]);while(a.cT.g2.g3===true){cP.g4(a.cT.g2);}bA();return;}var util=require("util");var f=be.cu(a.target);f=be.cv(f);console.log("own:"+a.h7);if(a.h7&&a.h7[0]){var hU=be.bf(a.h7[0]);var h4=hU;hU=hU.replace(d.options.hw+"/internal/people/name/","");}var g=false;var type=0;var cp=0;var h=0;var data=[];var target=[];var lc=[];var message="";var i="";for(var cI=0;cI<a.cx.length;cI++){if(a.cx[cI].cy[0]===210){type=a.cx[cI].data[2];}else if(a.cx[cI].cy[0]===153){cp=Math.floor((be.dj(a.cx[cI].data,2).value)/32.768);}else if(a.cx[cI].cy[0]===240){var iz=Math.floor((be.dj(a.cx[cI].data,2).value)/32.768);}else if(a.cx[cI].cy[0]===186){lc=a.cx[cI].data.slice(2,-1);var j=be.bf(lc);j=j.replace(d.options.hw+"/","");console.log("starting security:"+j);var k=j;if(j.search("internal/system/name/")!=-1){var l=j.split("/");var m=l[3];if(d.hB[m]){var n=d.hB[m].hx;j=n+"/"+l.slice(4).join("/");j=j.replace(d.options.hw+"/","");}}lc=be.cn(j);}else if(a.cx[cI].cy[0]===212){target=a.cx[cI].data.slice(2,-1);}else if(a.cx[cI].cy[0]===157){i=be.dk(a.cx[cI].data,2).value;}else if(a.cx[cI].cy[0]===242){message=be.dk(a.cx[cI].data,2).value;}else if(a.cx[cI].cy[0]===250){data=a.cx[cI].data.slice(2,-1);if(data[0]!==60){data.unshift(60);data.push(62);}}}if(target){console.log("1NM-share-"+type+"->..."+be.bf(f).slice(21)+".."+target+", "+hU+".."+(new Date()).toLocaleTimeString());}else{console.log("2NM-"+type+"->"+be.bf(f)+", "+hU);}if(this.options.hA){console.log("using reserved");f7="reserved";var o=true;}else{var f7=(k&&k.length)?k:be.bf(f);if(f7.search("internal/system/name/")===0){f7=f7.replace("internal/system/name/","").split("/")[0];var o=true;}}if(haloS.h_){console.log("domain:"+f7+".."+b);}d.hs(function(){if(haloS.h_){console.log("people:"+util["inspect"](d.hk));}d.hD(o,f7,function(){if(haloS.h_){console.log("after domain check");}if(d.options.hA){var p="";var hH=d.hB[f7]&&d.hB[f7].hE.hK[hU]["authenticate"]&&d.hB[f7].hE.hK[hU]["authenticate"]._response;}else{if(o){p="name/"+f7+"/";var hH=d.hB[f7]&&d.hB[f7].hE.hK[hU]&&d.hB[f7].hE.hK[hU]["authenticate"]&&d.hB[f7].hE.hK[hU]["authenticate"]._response;}else{if(f7.search("internal/people/name/"+hU)===0){var hH=true;}}}var hT=d.hB[f7];var q=hT&&hT.hG["document"]&&hT.hG["document"]._response;if(haloS.h_){console.log("self.options.shareStorageType:"+d.options.hm+".."+b);}if(b){var r=be.cv(target);if(d.options.hm=="separate-database"){n=be.cv(target);}else{if((lc.length===0)||(r.length===0)){console.log("Ignoring share "+((type===171)?"write":"read")+" to "+be.bf(target)+", as no security context was included");a.cJ(null,[186]);while(a.cT.g2.g3===true){cP.g4(a.cT.g2);}bA();return;}if(i!="device"){g=true;}console.log("*****securityDomain:"+be.bf(lc));var n=be.d2(lc,[145,144]);n=be.d2(n,be.cj(target.length));n=be.d2(n,r);n=be.cv(n);}f=n;if((type===162)&&(d.options.hm=="separate-database")){d.hZ(a,lc,hH,hU,target,bA);return;}if(type===171){if(d.options.hm=="separate-database"){d.h$(a,lc,hH,hU,data,target,bA);}else{d.h1(a,lc,hH,hU,data,target,bA);}return;}}var s=be.bf(f);var t=s;var lu=false;var iw=false;if(!hH&&(s.search("internal/people")===0)){if(s.search("internal/people/name/"+hU+"/workspace")===0){var iw=true;}else{lu=true;}}if(!hH){if(d.options.hA){if(s.search("internal/system/people")===0){if((s.search("internal/system/people/basic/"+h4)===0)&&(type===162)){var iw=true;}else{console.log("reject1");lu=true;}}}else{if(s.search("internal/system/name/"+f7+"/people")===0){if((s.search("internal/system/name/"+f7+"/people/basic/"+h4)===0)&&(type===162)){var iw=true;}else if((s.search("internal/system/name/"+f7+"/people/share")===0)&&(type===162)){console.log("user reading group");var iw=true;}else{console.log("reject2");lu=true;}}else if(s.search("internal/system/name/"+f7+"/sales")===0){iw=true;}}}if(haloS.h_){console.log("\n"+hT+".."+q);console.log("next6");}if(hT&&q){if(hH&&(type===171)){var u=s.replace("internal/system/name/","");var Iw="write";if(d.options.hA){if(s.search("internal/system/people")===0){var Ix="Write to users/groups";Iw="user";}else{var Ix="Write to "+u;}}else{if(s.search("internal/system/name/"+f7+"/people")===0){var Ix="Write to users/groups";Iw="user";}else{var Ix="Write to "+u;}}}if(d.options.hA){var Iy="internal/system";}else{Iy=hT.hx;}var Iz=(hT.hG["time"]&&hT.hG["time"]._response)?(hT.hG["time"]&&hT.hG["time"]._response):60*60*24*90;if(s.search(hU+"/workspace")!=-1){var IA=function(IC,ID,IE,IF,IG){IG.iq[IC].ir=v.setTimeout(function(){console.log("User "+IC+" signed out");var options={hR:IF,h4:IE,hO:ID,is:Iz,message:IC+"\tUser signed out"};delete IG.iq[IC];d.it(options,f7,function(){});},1000*60*15);};if(hT.iq==null){hT.iq={};}if(hT.iq[hU]){clearTimeout(hT.iq[hU].ir);}else{hT.iq[hU]={};Ix="User "+hU+" signed in";}if(!d.h5){IA(hU,a,h4,Iy,hT);}}if(haloS.h_){console.log("\n\n\nauditMessage"+Ix+".."+Iy);}if(Ix){var options={type:Iw,hR:Iy,h4:h4,hO:a,message:Ix,is:Iz};d.it(options,f7,function(){});}}if(lu){a.cJ(null,[186]);console.log("request rejected for security reasons");while(a.cT.g2.g3===true){cP.g4(a.cT.g2);}bA();return;}if(s.search("internal/people/name/"+hU)===0){var IC=s.replace("internal/people/name/"+hU,d.hk[hU].hx);f=be.cv(be.cn(IC));}if(s.search("internal/system/name/")===0){var l=s.split("/");var ID=l[3];if(d.hB[ID]){var IC=s.replace("internal/system/name/"+ID,d.hB[ID].hx);}else{var IC=s;}f=be.cv(be.cn(IC));}console.log("type:"+type);if(type===162){d.hu(f,{cp:cp,hv:hH,h4:d.hk[hU]?(d.options.hw+"/"+d.hk[hU].hx):null,hU:hU,hT:hT,f7:b?d.hl:d.hn,iw:iw,hO:a},function(IE){a.target=[];var IF=[];if(haloS.h_){console.log("res");}if(IE["data"]){var j_=v.aK(IE["data"].toString("binary"));if(j_[0]!==60){j_.unshift(60);j_.push(62);}if(!hH){for(var cI=0;(cI<40&&cI<(j_.length-4));cI++){if((j_[cI]===101)&&(j_[cI+1]===128)&&(j_[cI+2]===157)&&(j_[cI+3]===218)){var IG=true;break;}}if(IG){console.log("returning subset");}}IF=IF.concat(60,122,153,60,97,be.cj(Math.floor(IE["date"]*32.768)),62,122,250,j_,62);}else if(IE["date"]){IF=IF.concat(60,122,153,60,97,be.cj(Math.floor(IE["date"]*32.768)),62,122,183,60,97,IE["error"],62,62);}else{console.log("read error:"+IE["error"]);IF=IF.concat(60,122,183,60,97,IE["error"],62,62);}if(haloS.h_){console.log("responsedata:"+j_);}a.cJ(IF);while(a.cT.g2.g3===true){cP.g4(a.cT.g2);}bA();if(haloS.h_){console.log("responding3");}});}else if(type===171){if(hH){if((f[f.length-1]===186)||(f[f.length-1]===220)){var hC=true;}else{for(var cI=0;(cI<30&&cI<(data.length-4));cI++){if((data[cI]===101)&&(data[cI+1]===128)&&(data[cI+2]===157)&&(data[cI+3]===218)){var hC=true;break;}}}}if(d.options.hE&&(message.length===0)){if((f[0]===218)||((f[0]===190)&&(f[1]===220)&&(f[f.length-1]!==246))){a.cx=[];console.log("rejecting write to "+f+" due to no commit message");a.cJ(null,[186]);while(a.cT.g2.g3===true){cP.g4(a.cT.g2);}bA();return;}}if(((f[0]===190)&&(f[1]===220)&&(f[f.length-1]===246))){g=true;}var IE=d.data;var IF={h3:true,cp:cp,iz:iz,write:false,hE:!g&&d.options.hE,message:message,hv:hH,h4:d.options.hw+"/"+d.hk[hU].hx,hU:hU,iw:iw,hO:a,hT:hT,f7:b?d.hl:d.hn};if((f[0]===190)&&(f[1]===220)&&(f[f.length-1]!==246)){delete IF.h3;delete IF.message;}d.h2(f,data,IF,function(IG){var IH=[];a.target=[];a.cx=[];if(IG["error"]){IH=IH.concat(60,122,183,60,97,IG["error"],62,62);}else{IH=IH.concat(60,122,153,60,97,be.cj(Math.floor(IG["date"]*32.768)),62,62);}a.cJ(IH);while(a.cT.g2.g3===true){cP.g4(a.cT.g2);}if(hC&&hT){console.log("refreshing authentication for domain: "+f7);d.hC(hT,function(){});}if(t=="internal/people"){d.hp(function(){});}bA();});}else{a.cJ(null,[186]);while(a.cT.g2.g3===true){cP.g4(a.cT.g2);}bA();}});});};f4.hj.prototype.hu=function(a,b,c){var d=this;if(b.f7==null){b.f7=d.options.hn;}var e={data:b.f7.data["/"].data,cp:b.cp,hv:b.hv,hU:b.hU,hT:b.hT,f7:b.f7,hS:(b.hU&&!b.iw)?true:false,hQ:b.f7.data["/"].dW,hR:b.hT?b.hT.hx:null,b3:0,target:a,hN:0,hO:b.hO};this.hW(e,function(f){if(f){c({"error":f});return;}if(haloS.h_){console.log("mtime:"+e.hQ+"..date:"+e.cp);}if(e.hQ<=e.cp){console.log("data has not changed...");c({"error":153,"date":e.hQ});return;}var g=e.b3;if(g===0){c({"data":e.data,"date":e.hQ});}else{d.hX(e,function(){c({"data":e.data.slice(g,e.b3),"date":e.hQ});});}});};f4.hj.prototype.it=function(a,b,c){var d=this;var mr={"type":{_response:a.type},"date":{_response:Date.now()},"owner":{_responseTarget:a.h4},"message":{_response:a.message},"folder":{_response:a.hR}};if(d.options.iA&&d.options.iA.iB){d.options.iA.iB(mr,b);return;}if(d.h5){return;}var e=function(f){for(var cI=0;cI<f.length;cI++){f[cI]=be.dj(f[cI],0).value;}return f;};var f=function(g){d.hu(be.cv(be.cn(a.hR+"/database")),{hv:true},function(h){var i=cP.de(h.data);if(i._type==null){i={_type:"/machine/database/time","database":{}};}var now=Date.now();var j=be.cj(now);var k=j.concat();j.shift();while(j.length<8){j.unshift(0);}var l=d9.fA(j,32,4,4);l=e(l);var m=i["database"];var n=l[0]-Math.ceil(a.is/60/60/24/50);for(var cI in m){if(Number(cI)<n){delete m[cI];}}if(m[l[0]]==null){m[l[0]]={};}if(m[l[0]][l[1]]==null){m[l[0]][l[1]]={};}if(m[l[0]][l[1]][l[2]]==null){m[l[0]][l[1]][l[2]]={};}if(m[l[0]][l[1]][l[2]][l[3]]==null){m[l[0]][l[1]][l[2]][l[3]]={};}m[l[0]][l[1]][l[2]][l[3]][now]=mr;d.h2(be.cv(be.cn(a.hR+"/database")),cP.c7(i),{hv:true,h3:true,hO:a.hO},function(){g();});});};d.hu(be.cv(be.cn(a.hR)),{hv:true},function(g){var h=cP.de(g.data);if((h["database"]==null)||(h["database"]._type==null)){h["database"]={_type:"/type/node"};d.h2(be.cv(be.cn(a.hR)),cP.c7(h),{hv:true,hO:a.hO},function(){f(c);});}else{f(c);}});};f4.hj.prototype.h2=function(a,b,c,d){var e=this;var f=b;if(c.f7==null){c.f7=e.options.hn;}var g=function(h){for(var cI=0;cI<h.length;cI++){h[cI]=be.dj(h[cI],0).value;}return h;};var mr={"type":{_response:"folder/write"},"date":{_response:Date.now()},"sender":{_responseTarget:c.h4},"message":{_response:c.message},"folder":{_response:c.hR}};var h=function(i,j){e.hu(be.cv(be.cn(i.hR+"/database")),{hv:true},function(k){var l=cP.de(k.data);if(l._type==null){l={_type:"/machine/database/time","database":{}};}var now=Date.now();var m=be.cj(now);var n=m.concat();m.shift();while(m.length<8){m.unshift(0);}var o=d9.fA(m,32,4,4);o=g(o);var p=l["database"];if(p[o[0]]==null){p[o[0]]={};}if(p[o[0]][o[1]]==null){p[o[0]][o[1]]={};}if(p[o[0]][o[1]][o[2]]==null){p[o[0]][o[1]][o[2]]={};}if(p[o[0]][o[1]][o[2]][o[3]]==null){p[o[0]][o[1]][o[2]][o[3]]={};}p[o[0]][o[1]][o[2]][o[3]][now]=mr;e.h2(be.cv(be.cn(i.hR+"/database")),cP.c7(l),{hv:true,h3:true,hO:c.hO},function(){j();});});};var i=function(j,k){if(!c.write||!j.hR){k();return;}console.log("audit log write");if(e.options.iC){e.options.iC(mr);return;}e.hu(be.cv(be.cn(j.hR)),{hv:true},function(l){var m=cP.de(l.data);if((m["database"]==null)||(m["database"]._type==null)){m["database"]={_type:"/type/node"};e.h2(be.cv(be.cn(j.hR)),cP.c7(m),{hv:true,hO:c.hO},function(){h(j,k);});}else{h(j,k);}});};var j={hP:[],data:c.f7.data["/"].data,cp:c.cp,iz:c.iz,hv:c.hv,hU:c.hU,hT:c.hT,f7:c.f7,hR:c.hT?c.hT.hx:null,hS:(c.hU&&!c.iw)?true:false,hV:true,b3:0,target:a,hN:0,hO:c.hO};this.hW(j,function(k){if(k){d({"error":k});return;}if(j.iz&&(j.hQ>(j.iz+32))){console.log("data has been updated on server since client last pulled.."+j.hQ+".."+j.iz);d({"error":240});return;}var l=j.b3;if(l===0){var of=Buffer["from"](b);c.f7.gy(null,j.hP,of,j.hO,function(){c.f7.gA(j.hO,true,function(){i(j,function(){d({"date":j.cp});});});},j.cp);}else{e.hX(j,function(){if(c.h3&&(j.b3>0)){b=[60,101,60,128,157,170,62,62];}var m=j.b3-l;if(m==b.length){for(var n=0;n<(j.b3-l);n++){j.data[n+l]=b[n];}}else{j.data=Buffer.concat([j.data.slice(0,l),Buffer["from"](b),j.data.slice(j.b3)],j.data.length+b.length-m);}c.f7.gy(null,j.hP,j.data,j.hO,function(){c.f7.gA(j.hO,true,function(){if(c.h3&&(j.b3>0)){var gh=v.aT(a);c.f7.gy(null,a,Buffer["from"](f),j.hO,function(){c.f7.gA(j.hO,true,function(){i(j,function(){d({"date":j.cp});});});},j.cp);}else{i(j,function(){d({"date":j.cp});});}});},j.cp);});}});};f4.iD=function(a,b){var c=this;this["device"]={};this["data"]={};this["share"]={};};f4.iD.prototype.iE=function(a){var b=this;v.nextTick(function(){a(b.data);});};f4.iD.prototype.iF=function(a,b){var c=this;c.data=a;v.nextTick(function(){b(c.data);});};f4.iD.prototype.iG=function(a){a();};f4.iD.prototype.iH=function(a){a();};f4.iD.prototype.dA=function(a,b,c){var d=this;var path=a.path;var e="share";if(path.search("/reserved/")===0){path=path.replace("/reserved/","");e="data";}v.nextTick(function(){b(d[e][path]);});};f4.iD.prototype.dw=function(a,b,c){var d=this;if(Array["isArray"](a["data"])){if((a["data"][0]!==60)&&(a["data"][0]!==0)){a["data"].unshift(60);a["data"].push(62);}a["data"]=Uint8Array["from"](a["data"]);}var e="share";if(a.path.search("/reserved/")===0){a.path=a.path.replace("/reserved/","");e="data";}d[e][a.path]=a;v.nextTick(function(){b(true);});};f4.iD.prototype.iI=function(a,b,c){var path=a.path;var d="share";if(path.search("/reserved/")===0){path=path.replace("/reserved/","");d="data";}delete this[d][path];v.nextTick(function(){b(true);});};f4.iD.prototype.iJ=function(a,b,c,d){var e="share";if(a.search("/reserved/")===0){a=a.replace("/reserved/","");e="data";}var f=this[e][a];this[e][b]=f;delete this[e][a];v.nextTick(function(){c(true);});};f4.iD.prototype.iK=function(){this["device"]={};this["data"]={};this["share"]={};};/* (C) 2021 Halo Automation Systems LLC; This software is proprietary and is NOT to be distributed or shared in any way.*/"use strict";var gG={};if(typeof require!="undefined"){var util=require("util");}gG.gU=0;gG.gV=[];gG.gW=[];gG.gX=[];gG.gY=[];gG.gZ=[];gG.g_=[];gG.g$=false;gG.g0=false;gG.h8="";gG.h9=function(a){var b="paragonrobotics"+gG.h8;return a.indexOf(b,a.length-b.length)!==-1;};gG.ia=[];gG.ib=function(a){var b="abcdefghijklmnop";var id="0-";var CB=be.cn(a);CB=be.cv(CB);for(var cI=0;cI<CB.length;cI++){var c=CB[cI];var d=(c&240)>>4;var e=c&15;id+=b[d];id+=b[e];}id+="-paragonrobotics"+gG.h8;return id;};gG.ic=function(a,b){if(gG.ie){gG.ie(be.bf(a),b);}};gG.ig=function(a){gG.ie=a;};gG.ih=function(a){gG.g_.push(a);};gG.ii=function(a){for(var cI=0;cI<gG.g_.length;cI++){if(gG.g_[cI]===a){gG.g_.splice(cI,1);return;}}};gG.ij=function(a,b,c,d){if(a>=gG.gZ.length){d();return;}gG.gZ[a](b,c,function(){});gG.ij(a+1,b,c,d);};gG.ik=function(a){gG.gZ.push(a);};gG.il=function(a){for(var cI=0;cI<gG.gZ.length;cI++){if(gG.gZ[cI]===a){gG.gZ.splice(cI,1);return;}}};gG.im=function(a){for(var cI=0;cI<gG.gV.length;cI++){if(gG.gV[cI].io==a){gG.gV.splice(cI,1);return;}}};gG.ip=function(a){var kl=be.cv(a);if(kl!=null){return (v.D([128,219,129,185],kl,4));}else{return false;}};gG.iu=function(a){for(var cI=0;cI<gG.gV.length;cI++){var b=gG.gV[cI].io.cT;if(!b.gJ.gK.iv){continue;}for(var dz in b.ix){var v1=b.ix[dz];if(gG.ip(v1.target)&&be.dQ(v1.target,a)){v1.iy=false;v1.iL=false;v1.c3=[];}}}};gG.iM=function(a){for(var cI=0;cI<gG.gV.length;cI++){var b=gG.gV[cI].io.cT;if(!b.gJ.gK.iv){continue;}var c=[];for(var dz in b.ix){var v1=b.ix[dz];if(gG.ip(v1.target)){c.push(v1);}}for(var dz=0;dz<c.length;dz++){var d=false;for(var e=0;e<a.length;e++){if(be.dQ(c[dz].target,a[e].target)){d=true;break;}}if(true){if(v.D([60,128,219,129,185,189],c[dz].target,6)){c[dz].iN=true;}a.push(c[dz]);}}}};gG.iO=function(a){if((typeof BUILD_IS_EMBEDDED!="undefined")||(gG.g0)){var b=a.concat(window.location.hostname);}else if(gG.g$){var b=a.concat();}else{if((gG.gU===0)&&iP.iQ.iR&&(iP.iQ.iR.length===0)){var c="paragonrobotics"+gG.h8;}else{var c="0"+(gG.gU++)+"--paragonrobotics"+gG.h8;}var b=a.concat([c]);}return b;};gG.iS=function(a,b,c,d){var e=gG.iO(a);gG.iT(e,b,c,d);};gG.iT=function(a,b,c,d,e,f){var g=[];var h=new Array();for(var cI=0;cI<a.length;cI++){var i=a[cI];if(i.search(":")==-1){var j=i;var k=c;}else{var l=i.split(":");var j=l[0];var k=parseInt(l[1],10);}var m=false;for(var dz=0;dz<gG.gW.length;dz++){if((gG.gW[dz].iU==j)&&(gG.gW[dz].port==k)&&gG.gW[dz].iV){m=true;break;}}if(!m){var n=new b.gJ(true,j,k,false,iP.iW);n.iX=true;var o=be.cn("network/http/"+(iP.iY++));var iZ=new gG.iZ(n,cP.cQ,o,iP.iW,iP.iA);h.push(iZ);}}if(f){gG.i_(h,g,b,c,d,e);}};gG.i$=function(a,b,c,d){gG.iM(b);gG.i0(a,b,function(e){c(true);},d);};gG.i0=function(a,b,c,d){if(a>=b.length){c();return;}if(d){d((a+1)/b.length);}var e=b[a];if((e.checked)||(be.dQ(e.gK.iv,e.target)&&e.gK.i1)){gG.i0(a+1,b,c,d);return;}e.checked=true;gG.i2(e,function(f){gG.i0(a+1,b,c,d);});};gG.i3=function(a){if(a!=null){if(typeof a=="string"){var a=v.aK(a);var target=a[0]+"."+a[1]+"."+a[2]+"."+a[3];return target;}else{var target=((a>>24)&255)+"."+((a>>16)&255)+"."+((a>>8)&255)+"."+((a>>0)&255);return target;}}};gG.i2=function(a,b){b();return;var c=be.bf(a.target);if(c.search("software")!=-1){b(false);return;}if(c.search("container")==-1){for(var dz=0;dz<iP.iQ.iR.length;dz++){if(be.dQ(iP.iQ.iR[dz].target,a.target)){b(true);return;}}}var d=null;var p3=null;var i4=iP.iQ.i4;if(i4&&i4.i5&&i4.i5.length){d=be.cn(i4.i5[0].name);p3=new gj.i6(256,i4.i5[0].i6);}var e=cP.cQ.c1();e.cw=[162];e.target=[[242]];a.gK.gL(e,a.target,d,p3,function(f){if(f.g1.gF){var g=be.dk(f.g1.gF,0);var e=cP.cQ.c1();e.cw=[162];var h=be.cn("software/version/smaller");e.target=[h];a.gK.gL(e,a.target,d,p3,function(i){if(i.g1.gF){var i9=be.dj(i.g1.gF,0).value;var e=cP.cQ.c1();e.cw=[162];var h=be.cn("software/version/larger");e.target=[h];a.gK.gL(e,a.target,d,p3,function(j){if(j.g1.gF){var i8=be.dj(j.g1.gF,0).value;var k=(!be.dQ(a.gK.iv,a.target)||(c.search("container")==-1));if(k){iP.i7(a.target,g.value,i4.i5[0],{i8:i8,i9:i9});b(true);return;}var e=cP.cQ.c1();e.cw=[162];var h=be.cn("network/value");e.target=[h];a.gK.gL(e,a.target,d,p3,function(l){var m=l.g1.gF;var n=(a.gK.gJ.iU.search("-paragonrobotics")!=-1);if(m&&n){if(m[0]<=20){var o=be.dj(m,0);var v0=o.value;}else if(m[0]===32){var v0=v.aL(m,m[1]+2);}var iU=gG.i3(v0);if((iU==null)&&(iU.slice(0,2)!="0.")){iU=a.gK.gJ.iU;}a.gK.gJ.iU=iU;}else if(a.gK){var iU=a.gK.gJ.iU;}else{b(false);return;}if(a.gK.gJ.iX){gG.ja(i4.i5[0],{target:a.target,dd:g.value,jb:(i8>1)?20:i9,bV:a,iy:true},iU);a.jc=true;}iP.i7(a.target,g.value,i4.i5[0],{i8:i8,i9:i9});b(true);},4100);}else{b(false);}},4100);}else{b(false);}},4100);}else{b(false);}},4100);};gG.jd=function(a,b,c){if(a>=b.length){if(c){v.setTimeout(function(){c(true);},1000);}return;}var d=b[a];var e=null;for(var cI=0;cI<iP.iQ.je.length;cI++){if(be.dQ(iP.iQ.je[cI].target,d.target)){e=cI;break;}}if(d.bV.gK){d.bV.gK=null;}if(e==null){gG.jd(a+1,b,c);return;}var CB=iP.iQ.je[e];for(var cI=0;cI<gG.gV.length;cI++){var f=gG.gV[cI].io.cT;if((f.gJ.iU==CB.jf.jg)&&(f.gJ.port==CB.jf.port)){f.close();break;}}v.setTimeout(function(){iP.jh(CB);gG.jd(a+1,b,c);},4200);};gG.ji=function(a,b){a=a.replace("http://","");var c=!(typeof BUILD_IS_EMBEDDED!="undefined")&&gG.h9(a);if(b){var d=be.bf(b);var b3=d.search("container/2");if(b3!=-1){var id=parseInt(d.slice(b3+14),10);if((id<=132)&&(id!==1)){c=false;}}else{var b3=d.search("container/3");if(b3!=-1){var id=parseInt(d.slice(b3+14),10);if((id<=114)&&(id!==1)){c=false;}}else{var b3=d.search("container/1");if(b3==-1){c=false;}}}}return c;};gG.jj=function(a){var b=gG.ji(a.jf.jg,a.target);if(b){a.jf.jg=gG.ib(be.bf(a.target));}};gG.ja=function(a,b,c){var d=false;if(typeof BUILD_IS_EMBEDDED!="undefined"){d=false;}var e=be.bf(b.target);var b3=e.search("container/2");if(b3!=-1){var id=parseInt(e.slice(b3+14),10);if((id<=132)&&(id!==1)){d=false;}}var b3=e.search("container/3");if(b3!=-1){var id=parseInt(e.slice(b3+14),10);if((id<=114)&&(id!==1)){d=false;}}var f=c;var g={dd:b.dd,target:b.target,jb:b.jb,i4:{jk:a.jl},jf:{type:1,jg:f,port:b.bV.gK.gJ.port,jm:0}};for(var cI=iP.iQ.je.length-1;cI>=0;cI--){var CB=iP.iQ.je[cI];if(be.dQ(CB.target,b.target)){iP.iQ.je.splice(cI,1);}}iP.iQ.je.push(g);if(iP.jn){iP.jn();}};gG.i_=function(a,b,c,d,e,f){v.setTimeout(function(){var g=true;for(var cI=a.length-1;cI>=0;cI--){var h=a[cI];a.splice(cI,1);if(h.gJ.gK.jo!=h.gJ.gK.jp.jo.jq){h.close(true);}else{var Bq=h.gJ.gK.iv;var i=gG.ji(h.gJ.iU,Bq);if(i){var j=gG.ib(be.bf(Bq));}else{var j=h.gJ.iU;}if(h.gJ.iU.search("paragonrobotics")!=-1){g=false;}else{h.close(true);}}}if(!g){var k="0"+(gG.gU++)+"--paragonrobotics"+gG.h8;var l=new c.gJ(true,k,d,false,iP.iW);l.iX=true;var m=be.cn("network/http/"+(iP.iY++));var iZ=new gG.iZ(l,cP.cQ,m,iP.iW,iP.iA);gG.i_([iZ],b,c,d,e,f);}e(g);},3000);};gG.jr=function(a,b,c,d,e,f,g,h,i,j){this.js=a;this.iW=be.cv(b);this.jt=c;this.ju=d;this.cp=e;this.jv=f;this.id=g;this.gJ=h;this.jw=i;this.jx=j;};gG.jr.prototype.jy=function(){var a=[];a=a.concat(gG.gK.prototype.jp.jz.jA,122,185,60,97,60,this.iW,62,62,122,153,60,97,be.cj(this.cp),62);if(this.jx&&this.jx.length){a=a.concat(122,175,60,97,this.jx,62);}a=a.concat(122,196,60,97,be.cj(this.jt),62,122,245,60,97,be.cj(this.ju),62,62);return a;};gG.jB=function(a,b){var c=[];if(typeof (a)=="string"){a=be.cn(a);}return c.concat(gG.message.prototype.jp.jz.jC,122,155,60,97,a,62,122,250,60,97,be.dh(b),62,62);};gG.jD=function(a,b,c,d,e,f){var g=[];var Ig=32000000000;while((f==null)||f.length){var h=false;if(f){var i=(f.length>Ig)?(Ig-2000):f.length;if(i<f.length){h=true;}}g=g.concat(60,101,60,128,182,189,200,1,1,62);g=g.concat(122,200,60,97,be.cj(a,false,true),62);if(c&&!h){g=g.concat(122,202,60,97,1,1,62);}if(d&&!h){g=g.concat(122,204,60,97,1,1,62);}if((b===true)&&(e)){var j=be.dh(e.concat());g=g.concat(122,212,60,97,j,62);}if(f){g=g.concat(122,250,60,97,be.df(f.slice(0,i)),62);f=f.slice(i);}g.push(62);if(f==null){break;}}return g;};gG.jE=function(a){for(var cI=0;cI<gG.gW.length;cI++){if(gG.gW[cI]===a){gG.gW.splice(cI,1);return;}}};gG.jF=function(a){var b=new Date();var c=[];c=c.concat(60,101,60,128,182,152,158,1,1,62,122);c.push(a?214:152);c=c.concat(60,97,be.cj(Math.floor(b.getTime()*32.768)),62,62);return c;};gG.jG=function(a,b){var c=new cP.jH(a);var d=new cP.hO(c);d.dn=b;this.connect=0;this.close=0;this.jI=0;this.jJ=0;this.jK="";this.i6=[];this.jL=0;this.jM=null;this.jN=0;var e=new cP.jO(d,true);while(e.jP()){if(e.type===122){var f=d.ew();if(f.type===200){this.connect=d.jQ();}else if(f.type===171){this.connect=d.jQ();}else if(f.type===172){this.close=d.jQ();}else if(f.type===183){this.jN=d.jQ();}else if(f.type===184){this.jR=d.jQ();}else if(f.type===202){this.jI=d.jQ();}else if(f.type===203){this.jJ=d.jQ();}else if(f.type===158){this.jJ=d.jQ();}else if(f.type===204){this.jK=d.jQ();}else if(f.type===205){this.i6=d.jQ();}else if(f.type===206){this.jL=d.jQ();}else if(f.type===213){this.jM=d.jQ();}else if(f.type===218){this.jS=d.jQ();}else if(f.type===180){this.jT=d.jQ();}else if(f.type===250){this.data=d.jQ();}else{d.jQ();}}}};gG.jU=function(a,b){var c=[60,101,60,128,182,210,200,1,1,62];var d=be.cu(a.target);var cI;var dz;var e;if(!b){c=c.concat(122,200,60,97,a.cw,62);c=c.concat(122,201,60,97,d,62);}var f=new cP.jH();c.push(122,202,60,97,1,0,62);c.push(122,203,60);var g=c.length;var h=[];for(cI=a.cx.length-1;cI>=0;cI--){e=false;var i=a.cx[cI].cy;var j=a.cx[cI].data;for(dz=0;dz<h.length;dz++){if(v.D(h[dz],i)){e=true;break;}}if(!e){var cy=be.dh(v.L(a.cx[cI].cy));var k=be.dh(v.L(a.cx[cI].data));c=c.concat(122,cy,k);h.push(i);}}if((typeof Buffer!="undefined")&&(Buffer["isBuffer"](a.gF))){var l=Array.prototype.slice.call(a.gF,0);}else{var l=a.gF;}if(a.gF){c=c.concat(122,158,60,97,l.concat(),62);}if(a.e2){c=c.concat(122,183,60,97,a.e2.concat(),62);}c.push(62);c.push(122,204,60);var m=c.length;h=[];for(cI=0;cI<a.eX.length;cI++){e=false;if(a.eX[cI].length<3){continue;}for(dz=0;dz<h.length;dz++){if(v.D(h[dz],a.eX[cI].nodeName)){e=true;break;}}if(!e){var jY=be.dh(a.eX[cI].nodeName.concat());var n=a.eX[cI].data.concat();n=be.dh(n.concat());c=c.concat(122,jY,n);h.push(a.eX[cI].nodeName);}}c.push(62);c.push(62);return c;};gG.jV=function(a,b,c){if(a.eu()===60){while(1){if(a.eu()===62){break;}var d=a.jW();var e=a.jW();if(!c){var f=[];f=f.concat(60,122,d,e,62);var g={jX:null,cy:be.cv(d),jY:[],data:e};b.cx.push(g);}else{if(d[0]===158){var h=be.cv(e);b.gF=h.slice(1);}else if(d[0]===183){h=be.cv(e);b.e2=h.slice(1);}else{for(var cI=b.cx.length-1;cI>=0;cI--){var i=new cP.jH();i.data=b.cx[cI].data;var j=new cP.hO(i);j.dn=2;var k=j.ew();if(v.D(k.fD,d)){var l=j.dn;j.ew();var m=b.cx[cI].splice(l);m.splice(0,j.dn-l);b.cx[cI].cy=e;b.cx[cI].data=m;break;}}}}}}};gG.message=function(a,b,c,d,e){this.jZ=a;this.j_=[];this.j$=b;this.j0=false;this.j1=true;this.bA=e;this.g1=d;this.ir=null;this.j2;this.j3;this.gK=c;};gG.message.prototype.jp={jz:{jC:[60,101,60,128,182,176,1,1,62]}};gG.message.prototype.j4=function(a,b){var c=this;b=(b==null)?5600:b;if(a.gJ.j5&&(b>5000)){b+=2000;}if(a.gJ.j6){b+=a.gJ.j6;}if(a.gJ&&(a.gJ.port===9010)){b+=10000;}if(gG.j6){b+=gG.j6;}if(c.ir){v.clearTimeout(c.ir);}c.ir=v.setTimeout(function(){c.g1.e2=[182];if(c.bA){c.bA(c);}for(var cI=0;cI<a.j7.length;cI++){if(a.j7[cI]===c){a.j7.splice(cI,1);c.destroy();return;}}},b);};gG.message.prototype.j8=function(a,b,c,d){var e=this;var f=b.length;var g;var h;var i=this;this.j2=v.a4(this.j2,b);if(this.j9==null){if(this.j2.length>=8){this.j9=(v.D(this.j2,[60,101,60,128,186,187,1,1,62],9));if((this.j9)&&(this.i1==null)){this.i1=new gj.i1(null,null,this.gK.ka.kb,true);}}else{return;}}if(this.j9){var j2=this.j2;this.j2=null;this.i1.kc(j2,function(j,k,l){if(j){e.j3=v.a4(e.j3,j);if(e.hU==null){if(e.i1.kd){var hb=be.cn(e.i1.kd);}else{var hb=e.i1.ke.concat();}var CB=be.bf(hb);if(CB.search("/key")!=-1){CB=CB.slice(0,CB.search("/key"));}if(CB.search("/security")!=-1){CB=CB.slice(0,CB.search("/security"));}e.hU=be.cv(be.cn(CB));}try{e.kf(a,c,d);}catch(m){console.log("1error:"+m.message);if(m.message.slice(0,1)=="1"){d();}else{throw new Error("Decrypt error");}}}else if(l){d("error");return;}});}else{if(e.gK&&!e.gK.kg&&!e.gK.j$&&!e.i1&&!e.gK.i1){console.log("Security error");d("security");return;}e.j3=v.a4(e.j3,e.j2);e.j2=null;try{e.kf(a,c,d);}catch(j){console.log("2error:"+j.stack);if(j.message.slice(0,1)=="1"){d(null);}else{throw new Error("Decrypt error");}}}};gG.message.prototype.destroy=function(){if(this.kh){clearInterval(this.kh);this.kh=null;}if(this.ir){v.clearTimeout(this.ir);}};gG.message.prototype.kf=function(a,b,c){var d=this;if((this.j3[0]!==60)||(this.j3[1]!==101)){throw new Error("11: Network parse error at start");}if(v.D(this.j3,[60,101,60,128,182,210,200,1,1,62],10)){var e=new cP.jH(this.j3);var f=new cP.hO(e);f.dn=10;while(1){var g=f.eu();if(g===62){break;}if(g===122){var nT=f.ew();if(nT.type===200){b.cw=f.jQ().fD;}else if(nT.type===201){var h=f.jQ().fD;h=be.cv(h);b.target.push(h);}else if(nT.type===202){h=f.jQ().fD;}else if(nT.type===203){gG.jV(f,b,a);}else if(nT.type===204){if((!a)&&(f.ki.data[f.dn]===60)){nT=f.jW();var i=new cP.jH(nT);var j=new cP.hO(i);if(j.eu()!==60){throw new Error("18");}while(1){var k=j.eu();if(k===62){break;}else if(k===122){var l={jX:null,nodeName:j.jW(),data:j.jW()};b.eX.push(l);}else{throw new Error("19: Network parse found non-122 byte");}}}else{f.jW(false);}}else{throw new Error("15: Network parse invalid main parameter");}}else{throw new Error("14: Network parse did not read expected 122 byte (actually "+g+")");}}this.j3=[];c(true);}else if(v.D(this.j3,[60,101,60,128,182,176,1,1,62],9)){var m=this.j3;var e=new cP.jH(m);var f=new cP.hO(e);f.dn=9;var iW=f.ev([155]).fD;var n=f.ev([250]).fD;var o=this.gK.ka.kb.c1();o.c2=true;o.kj(iW,function(p){o.cZ(iW,n,function(q){o.destroy(function(){gG.ij(0,iW,n,function(){c("share");});});});});}else if(v.D(this.j3,[60,101,60,128,182,210,201,1,1,62,122,200,60,97,1,0,62,122,201,60,97,1,1,62,62])){this.j3=[];c("commit");return;}else{throw new Error("12: Network parse unknown packet type:"+this.j3);}};gG.gK=function(a,b,c,d,e){this.j7=[];this.kk=1;if(c.kl){this.km=c.kl.concat();}if(d){this.iv=v.a3(d);}this.gJ=a;this.gJ.gK=this;this.j3=[];this.j2;this.kn=0;this.ko=function(){};this.kp=[];this.j$=b;this.ka=c;this.id=gG.kq++;if(e&&!a.kr){console.log("type:"+e._type);if(e._type=="/type/security/key/people/elliptical-256"){this.i1=new ks.i1(e,null,false);}else{this.i1=new gj.i1(e.i6,e.name,null,false);}this.i1.gK=this;this.kt=true;this.j9=true;}var f=this;if(b===true){var g=[60,101,60,128,182,189,201,1,1,62,122,171,60,97,1,1,62,122,184,60,97,1,1,62];if(c.kl){g=g.concat(122,213,60,97,be.dh(this.km),62);}g.push(62);f.gJ.ku(g);f.jo=f.jp.jo.kv;}else{f.jo=f.jp.jo.kw;}};gG.gK.prototype.jp={jo:{kw:0,kv:1,jq:2},jz:{kx:[60,101,60,128,182,189,201,1,1,62],ky:[60,101,60,128,182,189,200,1,1,62],jA:[60,101,60,128,182,185,216,200,1,1,62],kz:[60,101,60,128,182,152,162,1,1,62],kA:[60,101,60,128,182,152,158,1,1,62],kB:[60,101,60,128,182,175,210,1,1,62]}};gG.gK.prototype.kC=function(a,b){var c=this.jp.jz.kx;if(b){c=c.concat(122,170,60,97,be.cn(b),62);this.jT=b;}if(a){c=c.concat(122,218,60,97,be.cn(a),62);this.f7=a;}c.push(62);console.log("updating security domain");this.gJ.ku(c);this.gJ.kD();};gG.gK.prototype.kE=function(a){var b=this.jp.jz.kB.concat();var c=[];for(var cI in a){if(a[cI]._type&&(a[cI]._type.search("/0/")==-1)){c.push(a[cI]);}}var d=1;for(var cI=0;cI<c.length;cI++){b=b.concat(122,be.cj(d++),60,97,be.cn(c[cI]._type),62);}b.push(62);if(this.kF&&v.D(this.kF,b)){return;}this.kF=b.concat();console.log("subscribe changes:"+b);this.gJ.ku(b);this.gJ.kD();this.kF=b.concat();};gG.gK.prototype.kG=function(a,b,c,d){var e;for(var cI=0;cI<this.j7.length;cI++){if(this.j7[cI].g1.id==a.id){e=this.j7[cI];break;}}if(!e||e.kH){if(d){d(true);}return;}if(b){var j1=[60,101,60,128,182,210,201,1,1,62,122,200,60,97,1,0,62,122,201,60,97,1,1,62,62];}else{j1=null;}var f=gG.jD(e.id,true,true,false,c,j1);this.gJ.ku(f);};gG.gK.prototype.gL=function(a,b,c,d,e,f){if(this.kI&&(c==null)){c=this.kI.name;d=this.kI.i6;}var g=gG.jU(a,false);if(c||a.dH){var i1=new gj.i1(d||a.dH.i6,c||a.dH.name,null,false);g=i1.kJ(g);}var h=false;for(var cI=0;cI<this.j7.length;cI++){if((this.j7[cI].j$)&&(this.j7[cI].g1)&&(this.j7[cI].g1.id==a.id)){h=true;var i=this.j7[cI];i.bA=e;i.jZ=g;break;}}if(!h){var i=new gG.message(g,true,this,a,e);this.j7.push(i);i.id=this.kK();i.kL=i.id;}i.g1=a;i.i1=i1;i.kM=b;i.kH=a.kN?false:true;i.j4(this,f);this.kO();this.gJ.kD();};gG.gK.prototype.kP=function(a,b,c,d){var e=a;if(c){var i1=new gj.i1(d,c,null,false);e=i1.kJ(a);}var f=cP.cQ.c1();var g=new gG.message(e,true,this,f);this.j7.push(g);g.id=this.kK();g.kL=g.id;g.i1=i1;g.kM=b;g.kH=true;g.j4(this,200);this.kO();this.gJ.kD();};gG.gK.prototype.kK=function(){while(true){this.kk++;if(this.kk>=32768){this.kk=1;}var a=this.kk;if(this.j$){var dz=a;}else{var dz=a;}var b=false;for(var cI=0;cI<this.j7.length;cI++){if((this.j7[cI].j$)&&(this.j7[cI].id==dz)){b=true;break;}}if(!b){for(var cI=0;cI<this.kp.length;cI++){if(this.kp[cI].kQ==dz){b=true;break;}}}if(!b){return dz;}}};gG.gK.prototype.close=function(a){console.log("closing channel:"+a);if(this.kR){return;}this.kR=true;for(var cI=0;cI<this.j7.length;cI++){if(this.j7[cI].j$){if(this.j7[cI].bA){this.j7[cI].g1.cJ(null,[182]);var b=this.j7[cI].bA;this.j7[cI].bA=null;b(this.j7[cI],[182]);}}}if(this.gJ.ka){if(this.gJ.ka.kS){var c=this.gJ.ka.kS;this.gJ.ka.kS=null;c(false,this.gJ.jN,this.gJ.kT);}this.gJ.ka.close();}if(!a){this.gJ.ku([60,101,60,128,182,189,201,1,1,62,122,172,60,97,1,1,62,62]);this.gJ.kD();}if(this.ka.iA){this.ka.iA.kU(this);this.ka.iA.kV(this);}if(this.gJ.ka){for(var cI in this.gJ.ka.ix){var v1=this.gJ.ka.ix[cI];if(v1.gK==this){delete this.gJ.ka.ix[cI];}}}for(var cI=0;cI<this.j7.length;cI++){this.j7[cI].destroy();}};gG.gK.prototype.kW=function(a){var b=a.jy();this.gJ.ku(b);this.gJ.kD();};gG.gK.prototype.kX=function(a){var b=this;console.log("send our connections");this.kn++;this.ka.iA.kY(this.hU,this,function(c){console.log("self.parentOrganism:"+b.ka+".."+c.length);if(b.ka.kZ){for(var cI=0;cI<c.length;cI++){if(!b.iv||!be.dQ(b.iv,c[cI].iW)&&(!b.gK||(b.gK!==b))){console.log("p1");var d=c[cI].jy();b.gJ.ku(d);}}console.log("s5");b.gJ.kD();}if(a){a();}b.ko();});};gG.gK.prototype.k_=function(){};gG.gK.prototype.kO=function(){for(var cI=0;cI<this.j7.length;cI++){if((this.j7[cI].jZ.length>0)){this.k$(this.j7[cI].kL,true,this.j7[cI].kH,false,this.j7[cI].kM,this.j7[cI].jZ);this.j7[cI].jZ=[];}}};gG.k0=function(a){var b=new cP.jH(a);var c=new cP.hO(b);c.ew();return a.slice(c.dn);};gG.gK.prototype.j8=function(a){var b=this;var c=a.length;var d;var e;var f=this;this.j2=v.a4(this.j2,a);if(this.j9==null){if(this.j2.length>=8){this.j9=(v.D(this.j2,[60,101,60,128,186,187,1,1,62],9))||(v.D(this.j2,[60,101,60,128,186,144,212,1,1,62],9))||(v.D(this.j2,[60,101,60,128,186,144,213,1,1,62],9));if((this.j9)&&(this.i1==null)){if(v.D(this.j2,[60,101,60,128,186,144,212,1,1,62])){this.i1=new ks.i1(iP.k1,this.ka.kb,false);}else if(v.D(this.j2,[60,101,60,128,186,144,213,1,1,62],9)){this.i1=new ks.i1(iP.k1,this.ka.kb,true);}else{this.i1=new gj.i1(null,null,this.ka.kb,true);}this.i1.gK=this;this.kt=true;}}else{return;}}if(this.j9){var j2=this.j2;this.j2=null;this.i1.kc(j2,function(g,h,i,j,k){if(g){b.j3=v.a4(b.j3,g);if(b.hU==null){if(b.i1.kd){var hb=be.cn(b.i1.kd);}else{var hb=b.i1.ke.concat();}var CB=be.bf(hb);if(CB.search("/key")!=-1){CB=CB.slice(0,CB.search("/key"));}if(CB.search("/security")!=-1){CB=CB.slice(0,CB.search("/security"));}b.hU=be.cv(be.cn(CB));}b.kf();}else if(i){console.log("error, so closing out:"+i);b.kt=false;b.gJ.ku([60,101,60,128,182,189,201,1,1,62,122,172,60,97,1,1,62,62]);b.gJ.kD();v.setTimeout(function(){b.gJ.close(true);},500);}if(j){if(k){b.gJ.k2(true);}else{b.gJ.kD();}}if(h){b.j9=false;b.j2=b.i1.k3;b.i1=null;if(!b.j$){b.kt=false;b.gJ.ku([62,62]);}b.j8([]);}});}else if(b.j$||b.k4){b.j3=v.a4(b.j3,b.j2);b.j2=null;b.kf();}else{b.gJ.close(true);}};gG.gK.prototype.kf=function(){while(1){var a=this.j3.length;if(a===0){break;}try{var b=this.j3;if(this.jo==this.jp.jo.kw){var c=b.slice(0,10);if(v.D(c,this.jp.jz.kx)){var d=new cP.jH(b);var e=new cP.hO(d);e.jW();var f=e.dn;this.k5(b);this.j3=this.j3.slice(f);}else{this.gJ.ku([60,101,60,128,182,189,201,1,1,62,122,172,60,97,1,1,62,62]);this.gJ.close(true);return;}}else{var gM=this.k6();if(gM===false){return;}}}catch(g){console.log("\n\n\n00ERROR"+g.stack);if(g.message.slice(0,1)=="1"){}else{this.gJ.close(true);}return;}}this.gJ.kD();};gG.gK.prototype.k5=function(a){var b=this;var c=new gG.jG(a,10);if(c.jR){b.k7=c.jR.fD;}if(c.jN.data){this.gJ.close(true);if(iP.k8){iP.k8("overload");}}if(c.close.data){this.gJ.close(true);}if(c.connect.data){this.jo=this.jp.jo.jq;var d=[];d=d.concat(60,101,60,128,182,189,201,1,1,62,122,158,60,97,1,1,62,122,184,60,97,1,1,62);if(this.km){d=d.concat(122,213,60,97,60,this.km,62,62);}d.push(62);this.gJ.ku(d);if(this.gJ.k9!=null){this.gJ.k9=null;v.clearTimeout(this.gJ.la);}console.log("peerDevice:"+this.iv+".."+c.jM);if(c.jM&&c.jM.fD){this.iv=v.a3(c.jM.fD);}if(this.iv){var e=(be.bf(this.iv).search("device/transform/")!=-1);d=gG.jF(!e);this.gJ.ku(d);var kl=this.iv;var kl=be.cv(kl);gG.lb(this.ka,kl,this,true);if(c.jS&&c.jS.fD){this.lc=be.bf(v.a3(c.jS.fD));}if(this.hU){var now=Math.floor((new Date()).getTime()*32.768);var yA=be.cv(this.ka.kl);var yA=[];yA=yA.concat(60,101,60,128,175,250,1,1,62,122,212,60,101,60,be.cv(this.ka.kl),62,62,62);b.kn++;this.ka.iA.ld(true,kl,0,100,now,this,yA,function(){if(b.k7){if(be.bf(kl)=="/company/paragonrobotics.com/device/software/1"){b.le=true;b.kX();b.ka.iA.lf(b);}}gG.ic(kl,1000);b.ko();},null,this["hidden"]);}}}else if(c.jJ.data){var b=this;this.jo=this.jp.jo.jq;if(c.jM&&c.jM.fD){this.iv=v.a3(be.cv(c.jM.fD));if(c.jS&&c.jS.fD){this.lc=be.bf(v.a3(c.jS.fD));}var e=(be.bf(this.iv).search("device/transform/")!=-1);d=gG.jF(!e);this.gJ.ku(d);this.kO();console.log("New connection established with "+be.bf(this.iv));var f=be.bf(this.iv);var g=this.gJ.jb;var send=false;if(((f.search("/company/paragonrobotics.com/device/container/2")!=-1))||((f.search("/company/paragonrobotics.com/device/container/3")!=-1))||(f.search("/company/paragonrobotics.com/device/container/1")!=-1)){if(!be.dQ(this.ka.kl,[128,219,129,185,217,1,1])){send=true;}}if(be.dQ(this.iv,[128,219,129,207])){send=true;}gG.lb(this.ka,this.iv,this,true);var now=Math.floor((new Date()).getTime()*32.768);var yA=[];yA=yA.concat(60,101,60,128,175,250,1,1,62,122,212,60,101,60,be.cv(this.ka.kl),62,62,62);b.kn++;this.ka.iA.ld(true,this.iv,0,100,now,this,yA,function(){if((b.gJ.ka)&&(b.gJ.ka.kS)){var h=b.gJ.ka.kS;b.gJ.ka.kS=null;h(true);}gG.ic(b.iv,1000);b.ko();},null,this["hidden"]);}else{if((this.ka)&&(this.ka.kS)){var h=this.ka.kS;this.ka.kS=null;h(true);}}}if(c.jS&&c.jS.fD){console.log("new security domain:"+c.jS.fD);b.ka.iA.lg(b,v.a3(c.jS.fD),c.jT?v.a3(c.jT.fD):null);if(b.k7){b.kX();b.ka.iA.lf(b);}}};gG.gK.prototype.k6=function(){var a=this;var b=this.j3;try{var c=new cP.jH(b);var d=new cP.hO(c);d.jW();var e=d.dn;}catch(f){console.log("incomplete incoming packet");return false;}if(v.D(b,this.jp.jz.kx,10)){this.k5(b);this.j3=this.j3.slice(e);}else if(v.D(b,this.jp.jz.jA,11)){try{var c=new cP.jH(b);var d=new cP.hO(c);d.dn=11;var g=d.ev([152]);var jt=g?g.data:0;g=d.ev([245]);var ju=g?g.data:100;g=d.ev([153]);var cp=g?g.data:0;g=d.ev([175]);var jx=g?g.fD:null;if(jx&&(jx.length===0)){jx=null;}var iW=d.ev([185]).fD;this.j3=this.j3.slice(e);}catch(f){console.log("Received an invalid broadcast from "+be.bf(this.iv));this.j3=[];}if(iW){if(!this.ka.kZ){if(ju){console.log("Received new device broadcast from "+be.bf(this.iv)+" - device:"+be.bf(iW)+", date:"+new Date(cp/32.768));}else{console.log("Device disconnection broadcast from "+be.bf(this.iv)+" - device:"+be.bf(iW)+", date:"+new Date());}}var kl=be.cv(iW);gG.lb(this.ka,kl,this);this.kn++;this.ka.iA.ld(false,kl,jt,ju,cp,this,jx,function(){gG.ic(iW,ju);a.kf();a.ko();});}else{a.kf();}return false;}else if(v.D(b,this.jp.jz.kz,10)){this.j3=this.j3.slice(e);var h=gG.jF();this.gJ.ku(h);}else if(v.D(b,this.jp.jz.kA,10)){var dW=be.dj(b,14).value;if(this.ka.lh){this.ka.lh(dW);}this.j3=this.j3.slice(e);}else if(v.D(b,this.jp.jz.kB,10)){var iR=[];var c=new cP.jH(b);var d=new cP.hO(c);d.dn=10;var i=new cP.jO(d,true);while(i.jP()){if(i.type===122){var j=d.ew();var fD=d.jQ().fD;iR.push(fD);}}this.j3=this.j3.slice(d.dn);if(this.ka.iA.kE){a.kn++;this.ka.iA.kE(this,iR,function(){console.log("done subscribe");a.kX();console.log("done connections");a.ko();});}}else if(v.D(b,this.jp.jz.ky,10)){var c=new cP.jH(b);var d=new cP.hO(c);d.dn=10;var k=0;var l=0;var m=0;var n=0;var o=0;var p;var target;var i=new cP.jO(d,true);while(i.jP()){if(i.type===122){var j=d.ew();if(j.type===200){var fD=d.jQ().fD;k=be.dj(fD,0,true).value;}else if(j.type===202){l=d.jQ().data;}else if(j.type===204){n=d.jQ().data;}else if(j.type===212){target=d.jQ().fD;}else if(j.type===250){var q=d.jQ().data;var p=v.aK(q);}else{d.ew();}}}this.j3=this.j3.slice(d.dn);if(target!=null){var r=false;target=be.cv(target);var r=false;var s=false;var t=false;var yA=be.cv(this.ka.kl);r=v.D(target,yA,yA.length);if(!r){if(!this.ka.kZ){if(v.D(target,[128,219,129,185,217,1,1,210])&&(v.D(yA,[128,219,129,185,217],5))){r=true;}}}if(r){this.lj(k,p,l);}else{if(!this.i1&&!this.kg){this.gJ.close();throw new Error("Peer is trying to forward messages on an unencryped channel");}if(this.ka.iA.lk){this.ka.iA.lk(a,k,l,n,target,p);}else{this.ka.iA.ll(a,target,function(u,Iw){if(Iw&&Iw.lo){a.lj(k,p,l,target);}else if((u==null)||(u==a)){}else{var kQ=null;for(var Ix=0;Ix<u.kp.length;Ix++){if((u.kp[Ix].lq==k)&&(u.kp[Ix].lr==a)){var kQ=u.kp[Ix].kQ;var Iw=u.kp[Ix];break;}}if(kQ==null){gG.ls(a.hU,null,null,function(Iy){if(Iy.lu){var Iz=a.ka.kb.c1();Iz.e2=[175];var IA=gG.jU(Iz,true);a.k$(k,false,true,true,null,IA);}else{var Iw=u.lx(k,a);var kQ=Iw.kQ;u.ly(Iw);u.k$(kQ,true,l,n,target,p);}},p);}else{u.ly(Iw);u.k$(kQ,true,l,n,target,p);}}});}}}else{var u=false;for(var cI=0;cI<this.j7.length;cI++){if((this.j7[cI].j$)&&(this.j7[cI].id==k)){this.j7[cI].j4(this);var Iw=false;if((l)&&(n)){var Ix=this.j7[cI];this.j7.splice(cI,1);Ix.destroy();}else{Ix=this.j7[cI];}if(p&&p.length){if(Ix.i1){try{p=Ix.i1.lC(p);}catch(f){console.log("decrypt error"+f.stack);Ix.g1.e2=[211];var Iy=Ix.bA;Ix.bA=null;if(Iy){try{Iy(Ix);}catch(f){console.log("Error:"+f.stack);}}l=true;Iw=true;u=true;break;}}if(v.D(p,[60,101,60,128,182,210,201,1,1,62,122,202,60,97,1,1,62,62])){Iw=true;}else{Ix.j8(true,p,Ix.g1,function(Iz){if(Iz!=null){var Iy=Ix.bA;Ix.bA=null;if(Iy){try{Iy(Ix);}catch(f){console.log("Error:"+f.stack);}}}});}}if(Iw||((l)&&(n))){if(Ix.lE){Ix.lE(true);}}u=true;break;}}if(!u){if(this.ka.iA.lk){this.ka.iA.lk(a,k,l,n,target,p);}else{for(var cI=0;cI<this.kp.length;cI++){if(this.kp[cI].kQ==k){this.ly(this.kp[cI]);this.kp[cI].lr.k$(this.kp[cI].lq,false,l,n,null,p);u=true;if(l&&n){console.log("destroying route entry");v.clearTimeout(this.kp[cI].ir);this.kp.splice(cI,1);}break;}}if(!u){console.log("no router entry match found:");}}}}}else{this.gJ.close();throw new Error("overflow is "+b.length);}return true;};gG.ls=function(a,b,c,d,e){if(!gG.g_.length){d({lu:false});return;}if(b==null){try{var f=new cP.jH(e);var g=new cP.hO(f);var h=new cP.jO(g,false);while(h.jP()){if(h.type===122){var i=g.ew();if(i.type===200){b=[g.jQ().fD];}else if(i.type===201){c=g.jQ().fD;}}}}catch(j){}}if(a==null){d({lu:true});return;}gG.g_[0](a,b,c,function(k){if(k){d({lu:false});}else{d({lu:true});}});};gG.gK.prototype.lj=function(a,b,c,d){var e=this;var f=this;var g;for(var cI=0;cI<this.j7.length;cI++){if((!this.j7[cI].j$)&&(this.j7[cI].kL==a)){g=this.j7[cI];break;}}if(!g){var h=e.ka.kb.c1();h.gK=e;g=new gG.message([],false,this,h,null);g.id=(a&65535)^(e.id<<16);g.kL=a;g.lF=0;g.kh=setInterval(function(){if(g.lF++>30){e.lG(g.id,c,true);return;}var i=[];i=i.concat(60,101,60,128,182,189,200,1,1,62);i=i.concat(122,200,60,97,be.cj(g.kL,false,true),62);i=i.concat(122,250,60,97,32,1,0,62,62);e.gJ.ku(i);e.gJ.kD();},2000);e.j7.push(g);}else{var h=g.g1;h.gF=null;h.e2=null;h.target=[];}g.j8(false,b,h,function(i){if(d){h.target[0]=be.d2(d,h.target[0]);h.target[0]=be.cv(h.target[0]);}gG.ls(e.hU,g.g1.cw,g.g1.target[0],function(j){if(j.lu){i="error";}if(i===true){h.id=g.id;var k=be.cu(h.target);k=be.cv(k);var yA=be.cv(e.ka.kl);if(v.D(k,[128,219,129,185,217,1,1,210])&&(v.D(yA,[128,219,129,185,217],5))){k=k.slice(7);h.target=[k];}else if(v.D(k,yA,yA.length)){k=k.slice(e.ka.kl.length);h.target=[k];}if(e.hU){h.h7=[e.hU.concat()];}if(e.lc){h.lc=e.lc;}f.kn++;e.ka.kb.fE(h,function(l){var m=gG.jU(g.g1,true);if(g.i1){m=g.i1.lH(m);}e.k$(g.kL,false,c,c,null,m);e.gJ.kD();e.lG(g.id,c,true);f.ko();},d?true:false);}else if((i=="error")){g.g1.e2=[175];var l=gG.jU(g.g1,true);e.k$(g.kL,false,true,true,null,l);e.gJ.kD();e.lG(g.id,true,true);}else if((i=="security")){g.g1.e2=[211];var l=gG.jU(g.g1,true);e.k$(g.kL,false,true,true,null,l);e.gJ.kD();e.lG(g.id,true,true);}else if((i=="share")){e.lG(g.id,c,true);}else if(c&&(i=="commit")){e.lG(g.id,c);}});});};gG.gK.prototype.lG=function(a,b,c){var d=this;var e=this;for(var cI=0;cI<this.j7.length;cI++){if((!this.j7[cI].j$)&&(this.j7[cI].id==a)){var f=this.j7[cI];e.j7.splice(cI,1);f.destroy();e.ka.kb.gA(f.g1,b,function(g,h){if(!c){if(b){var j1=[60,101,60,128,182,210,201,1,1,62,122,202,60,97,1,1,62,62];}else{var j1=null;}var i=gG.jD(a,false,true,true,null,j1);e.gJ.ku(i);}});}}};gG.gK.prototype.lx=function(a,b){for(var dz=0;;dz++){var c=false;for(var cI=0;cI<this.j7.length;cI++){if(this.j7[cI].id==dz){c=true;break;}}if(c===false){for(var cI=0;cI<this.kp.length;cI++){if(this.kp[cI].kQ==dz){c=true;break;}}}if(c===false){break;}}var su={lq:a,kQ:dz,lI:this,lr:b};this.kp.push(su);return su;};gG.gK.prototype.ly=function(a){var b=this;if(a.ir){clearTimeout(a.ir);}a.ir=v.setTimeout(function(){for(var cI=0;cI<b.kp.length;cI++){if(b.kp[cI]===a){b.kp.splice(cI,1);return;}}},8000);};gG.gK.prototype.k$=function(a,b,c,d,e,f){var g=gG.jD(a,b,c,d,e,f);this.gJ.ku(g);this.gJ.kD();return true;};gG.lb=function(a,b,c,d){if(this.kZ&&!d){return;}var e=be.bf(b);if(a.ix[e]&&a.ix[e].lJ){}if(be.dQ(a.kl,b)){return;}a.ix[e]={target:v.a3(b),gK:c,lJ:d};};gG.lK=function(a,b,c,d,e){this.lL=[];this.kZ=true;this.kb=b;this.iA=e;this.lM=[];this.ix={};var f=this;if(d){d=be.cv(d.concat());}this.kb.lN(this,c);this.target=be.d2([128,146],c);this.kl=d;gG.gV.push({io:this,type:"server"});if(a){this.lO=a;this.lO.ka=this;}};gG.lK.prototype.close=function(a){gG.im(this);var b=this;};gG.lK.prototype.lP=function(a,b,c,d,e,f,g){var h=new gG.gJ(a,c,d,e,f,g);lQ.push(h);return h;};gG.lK.prototype.lR=function(a){for(var cI=0;cI<lQ.length;cI++){if(lQ[cI]==a){lQ.splice(cI,1);}}this.iA.kU(a);};gG.lK.prototype.fE=function(a,b){if(a.c2){a.cJ(null,[175]);b(a);return;}var c=be.cu(a.target);c=be.cv(c);var d=be.dj(c,0);var e=c.slice(d.dn);var f=be.cv(e.slice(0,d.value));var b3=d.dn+d.value;d=be.dj(c,b3);var g=c.slice(d.dn,d.dn+d.value);a.target=[c.slice(d.dn+d.value)];var h;for(var cI in this.ix){var v1=this.ix[cI];var dz=be.cv(v1.target);if(v.D(dz,f,dz.length)){h=v1.gK;break;}}if(h){h.gL(a,g,null,null,function(i){i.g1.cJ();b(i.g1);});}else{a.cJ(null,[175]);b(a);}};gG.iZ=function(a,b,c,d,e,f){this.kb=b;this.iA=e;this.cT=this;this.target=be.d2([128,146],c);this.lS=c;this.ix={};this.kb.lN(this,c);this.kS=f;this.gJ=a;this.gJ.ka=this;gG.gV.push({io:this,type:"client"});if(d){d=be.cv(d);this.kl=d;}this.gJ.z();this.gJ.kD();var g=this;this.lT=v.setTimeout(function(){g.lT=null;if(g.gJ.gK&&!g.gJ.gK.iv){for(var cI=0;cI<gG.gV.length;cI++){if(gG.gV[cI].io===g){gG.gV.splice(cI,1);break;}}}if((g.gJ.ka)&&(g.gJ.ka.kS)){var h=g.gJ.ka.kS;g.gJ.ka.kS=null;g.gJ.close(true);h(false,g.gJ.jN,g.gJ.kT);}},5000);};gG.iZ.prototype.close=function(a){if(this.kR){return;}this.kR=true;gG.im(this);this.kb.lU(this.lS);this.gJ.close(a);if(this.lT){clearTimeout(this.lT);}for(var cI=0;cI<gG.ia.length;cI++){if(gG.ia[cI].cT===this){gG.lV(gG.ia[cI]);}}};gG.iZ.prototype.gA=function(a,b,c){for(var cI=0;cI<this.gJ.gK.j7.length;cI++){if(this.gJ.gK.j7[cI].g1.id==a.id){var d=this.gJ.gK.j7[cI];d.lE=c;this.gJ.gK.kG(a,true,d.kM,c);return;}}c(true);};gG.iZ.prototype.fE=function(a,b){if(a.c2){a.cJ(null,[175]);b(a);return;}var c=be.cu(a.target);c=be.cv(c);var d=be.dj(c,0);var b3=d.dn+d.value;d=be.dj(c,b3);if(d.value===0){c=c.slice(d.dn);if((v.D(c,[128,219,129,185,179],5))||(v.D(c,[128,219,129,185,189],5))){var d=be.dj(c,5);var d=be.dj(c,d.dn);var d=be.dj(c,d.dn);}else if(v.D(c,[128,219,129,185,217],5)){var d=be.dj(c,5);}var e=c.slice(0,d.dn);a.target=[c.slice(d.dn)];}else{var e=c.slice(d.dn,d.dn+d.value);a.target=[c.slice(d.dn+d.value)];}for(var cI=0;cI<a.cx.length;cI++){if(a.cx[cI].jX){a.cx.splice(cI,1);cI--;}}this.gJ.gK.gL(a,e,null,null,function(f){f.g1.cJ();b(f.g1);});};gG.lW=function(a){};gG.lW.prototype.fE=function(a,b){a.cJ(null,[175]);b(a);};gG.iA=function(a,b){this.lX=(a==null)?[]:a;this.lY=(a==null)?[]:a.concat();this.km=be.cv(b);this.lZ={l_:[],l$:[]};};gG.iA.prototype.kY=function(a,b,c){c(this.lX);};gG.iA.prototype.l0=function(){return this.lX;};gG.iA.prototype.l1=function(a){var b=v.aM(this.lX);a=be.cv(a);var c=new gG.jr(true,a,0,0,0,[60,62],b);c.lo=true;this.lX.push(c);this.l2(c,a,Date.now());};gG.iA.prototype.l2=function(a,b,c){a.l3=c;for(var cI=this.lY.length-1;cI>=0;cI--){if(be.dQ(this.lY[cI].iW,b)){this.lY.splice(cI,1);break;}}this.lY.push(a);};gG.iA.prototype.ld=function(a,b,c,d,e,f,g,h){try{var i=this;b=be.cv(b);if((this.km)&&(be.dQ(this.km,b))){h();return;}var j=null;for(var cI=0;cI<this.lX.length;cI++){if(be.dQ(this.lX[cI].iW,b)){j=this.lX[cI];}}if(f.gJ.j5){c=10;}var k=false;var l=false;if(j){var m=a&&!j.l4;var n=!a&&j.l4;var o=!f.gJ.j5&&j.gK.gJ.j5;var p=f.gJ.j5&&!j.gK.gJ.j5;var q=j.lo;var r=(j.cp>(e+30*32768));var s=iP.l5;if(s){var t=s.gJ.gK.iv;if(be.dQ(t,b)){n=true;l=true;console.log("rejecting HaloCloud unique broadcast from direct");if(!be.dQ(f.iv,b)){if(h){h();}if(iP.k8){iP.k8();}return;}}}if(n){}else if(m||o||q){k=true;}else if(p||r){}else{k=true;}}else{var u=v.aM(this.lX);var j=new gG.jr(true,b,c,d,e,[60,62],u,f?f.gJ:null,f.j9,g);this.lX.push(j);k=true;}if(k){j.l4=a;j.jt=c;j.ju=d;j.cp=e;j.gK=f;j.jx=g;j.l7=b.concat();}if(k&&f.hU){var v0=this.lZ;if(v0){var j=new gG.jr(true,b,c,d,e,[60,62],0,null,null,g);j.gK=f;for(var cI=0;cI<v0.l_.length;cI++){if(j.gK!==v0.l_[cI]){v0.l_[cI].kW(j);}}var zh=v0.l$;var Iw=0;for(var cI=0;cI<zh.length;cI++){if(be.dQ(b,zh[cI].iW)){zh[cI]=j;Iw++;}}if(Iw===0){zh.push(j);}}}var Ix=be.cj(f.iv.length);var Iy=be.d2(f.ka.target,Ix);var Iy=be.d2(Iy,f.iv);var Iz=be.cv(b);var IA=be.cj(Iz.length);Iy=be.d2(Iy,IA);Iy=be.d2(Iy,Iz);var IC=false;for(var cI=0;cI<iP.mg.length;cI++){if(iP.mg[cI].target==be.bf(b)){IC=true;}}if(!IC){var su={target:be.bf(b),mi:be.bf(f.iv)};iP.mg.push(su);}if(haloS.dv){if(!be.dQ(f.iv,b)){var ID=true;}i.l2(j,b,e);haloS.dv.dA({path:be.bf(b)},function(IE){var j5=(be.dQ(f.iv,b)&&f.gJ.j5);if(IE==null){var IF=be.bf(b);var IG={"path":IF,"date":Date.now(),"data":[0]};if(ID){var IH={"target":{"1":{_type:be.bf(f.iv)}},"type":{_response:j5?"halocloud":"device"},"date":{"share":{_response:e}}};IG["network"]=cP.dx(IH);}else{var protocol=f.gJ.type;var IF=be.bf(b);if((f.gJ.type!="usb")&&(IF.search("/transform/")!=-1)){protocol="websocket";}IG["network"]=cP.dx({"type":{_response:j5?"halocloud":"device"},"date":{"share":{_response:e}},"target":{"1":{_type:"/type/network/"+protocol,"ip":{_response:f.gJ.iU},"port":f.gJ.port?{_response:f.gJ.port}:{}}}});}haloS.dv.dw(IG,function(){if(h){h();}},true);}else{var II=cP.de(IE["network"]);if(II["date"]&&II["date"]._response&&(II["date"]._response<e)){if(h){h();}return;}var IJ=null;var IK=null;var IL=null;if(II["target"]==null){II["target"]={};}if(II["target"]["1"]){if(II["target"]["1"]._type.search("/type/network/")===0){IJ=II["target"]["1"];}else if(II["target"]["1"]._type.search("/company/paragonrobotics.com/device")===0){IL=II["target"]["1"];}else{IK=II["target"]["1"];}}if(II["target"]["2"]){if(II["target"]["2"]._type.search("/type/network/")===0){IJ=II["target"]["2"];}else if(II["target"]["2"]._type.search("/company/paragonrobotics.com/device")===0){IL=II["target"]["2"];}else{IK=II["target"]["2"];}}if(ID){if(IK==null){if(IJ==null){II["target"]["1"]={};IK=II["target"]["1"];}else{II["target"]["2"]={};IK=II["target"]["2"];}IK._type=be.bf(f.iv);}else{var IM=be.bf(f.iv);if((IM==("/company/"+haloView.fP))&&(IK._type!=("/company/"+haloView.fP))){}else{IK._type=be.bf(f.iv);}}II["type"]={_response:j5?"halocloud":"device"};}else{if(IJ==null){II["target"]={"1":{}};IJ=II["target"]["1"];}var protocol=f.gJ.type;var IF=be.bf(b);if((f.gJ.type!="usb")&&(IF.search("/transform/")!=-1)){protocol="websocket";}IJ._type="/type/network/"+protocol;IJ["ip"]={_response:f.gJ.iU};IJ["port"]=f.gJ.port?{_response:f.gJ.port}:{};if(II["target"]["2"]===IJ){console.log("Upgrading direct connection to priority spot for "+IF);II["target"]={"1":IJ,"2":IK};}}for(var y_=0;y_<iP.mg.length;y_++){if(iP.mg[y_].target==IF){iP.mg[y_].i5=II;}}II["date"]={"share":{_response:e}};IE["network"]=cP.dx(II);haloS.dv.dw(IE,function(){if(h){h();}},true);}},true,null,true);}else{i.l2(j,b,e);var IE=f.ka.kb.c1();IE.c2=true;IE.cV(b,Iy,function(IF,IG){IE.destroy();if(h){h();}});}if(iP.k8){iP.k8();}}catch(IF){console.log(IF.stack);}};gG.iA.prototype.ll=function(a,b,c){var d=null;for(var cI=0;cI<this.lX.length;cI++){if(be.dQ(this.lX[cI].iW,b)){c(this.lX[cI].gK,this.lX[cI]);return;}}c();};gG.iA.prototype.lf=function(a){if(a.hU){this.lZ.l_.push(a);}};gG.iA.prototype.kV=function(a){if(a.hU){var v0=this.lZ;if(v0){for(var cI=0;cI<v0.l_.length;cI++){if(v0.l_[cI]==a){v0.l_.splice(cI,1);return;}}}}};gG.iA.prototype.kU=function(a){var b=[];for(var cI=this.lX.length-1;cI>=0;cI--){if(this.lX[cI].gK==a){this.lX.splice(cI,1);}}if(iP.k8){iP.k8();}return;};gG.mj=function(a,b,c){var d=a;var e=function(f){if(f["target"]&&f["target"][b]){var g=f["target"][b];if(g){if((g._type=="/type/network/http")||(g._type=="/type/network/tcp")||(g._type=="/type/network/usb")||(g._type=="/type/network/websocket")){for(var cI=0;cI<gG.ia.length;cI++){var su=gG.ia[cI];if(su.name==d){if(su.mk){if(su.ml.length){su.ml.push(function(){c(su.mk,su,su.name);});}else{c(su.mk,su,su.name);}return;}}}c(f,null,d);}else if(g._type){mm(g._type);}else{c();}}else{c();}}else{c();}};var mm=function(f){d=f;haloS.dv.dA({path:f},function(g){if(g){var mk=cP.de(g["network"]);if(mk["type"]&&(mk["type"]._response=="halocloud")){c(null,null,null,true);return;}if(g["network"]&&(mk!=f)){e(mk);return;}c();}c();},null,null,true);};mm(a);};gG.lV=function(a){if(a.timeout){clearTimeout(a.timeout);}a.cT.close();for(var cI=0;cI<gG.ia.length;cI++){if(gG.ia[cI]===a){gG.ia.splice(cI,1);cI--;}}for(var y_=0;y_<gG.gW.length;y_++){if(gG.gW[y_]==a.gJ){gG.gW.splice(y_,1);break;}}};gG.gH=function(a,b){var c=function(d){gG.mj(a,d,function(e,f,g,h){if(h&&iP.l5){b(iP.l5.gJ.gK,iP.l5,false);return;}if(f){b(f.gJ.gK,f.cT,false);return;}if(e==null){b();return;}var i=e["target"][d];var type=i._type.slice(14);console.log("trying to create new channel of type "+type);if(type=="http"){var cS=mn;}else if(type=="tcp"){cS=mo;}else if(type=="websocket"){cS=mp;}else if(type=="usb"){cS=mq;}var j=function(k,l){gG.gW.push(k);var m=be.cn("network/"+type+"/"+(iP.iY++));var iZ=new gG.iZ(k,cP.cQ,m,iP.iW,iP.iA,function(n){if(!n){for(var y_=0;y_<gG.gW.length;y_++){if(gG.gW[y_]==k){gG.gW.splice(y_,1);break;}}if(e["target"][d+1]){haloS.dv.dA({path:a},function(o){e["target"][d]=e["target"][d+1];delete e["target"][d+1];o["network"]=cP.dx(e);haloS.dv.dw(o,function(){c(d);});},null,null,true);return;}console.log("connection attempt to "+k.iU+" failed");if(l&&(k.type!="usb")){var o=gG.ib(g);var p=new cS.gJ(true,o,i["port"]._response,false,iP.iW);j(p,false);}else{for(var cI=0;cI<mr.ml.length;cI++){mr.ml[cI]();}mr.ml=[];gG.lV(mr);}return;}console.log("starting new channel to:"+g+".."+gG.ia.length);b(k.gK,iZ,true);var q=mr.ml;mr.ml=[];var r=function(s,t){v.setTimeout(function(){console.log("calling back:"+t);s(k.gK,iZ,true);},t);};var s=250;for(var cI=1;cI<q.length;cI++){r(q[cI],s);s+=250;}});mr.gJ=k;mr.cT=iZ;};var mr={name:g,mk:e,ml:[b]};gG.ia.push(mr);if(e["key"]&&e["key"]._type){var rg=e["key"]._type;}var k=(g.search("/transform/")!=-1);if(k){rg=iP.ms+"/key/people";}if(rg){haloS.dv.dA({path:rg},function(l){var m=cP.de(l["data"]);if(k){var n=haloS["loadKeyPair"](rg,m["key"]["private"]._response,m["key"]["public"]._response);}else{var jb=Number(m._type.slice(19));var n=haloS["createNetworkKey"](m["name"]._response,m["key"]._response,"",jb);}console.log("starting ENCRYPTED channel");if(type=="usb"){var o=new cS.gJ(i["ip"]._response,true,iP.iW,n);}else{var o=new cS.gJ(true,i["ip"]._response,i["port"]._response,true,iP.iW,n);}j(o,true);});}else{console.log("starting UNencrypted channel");if(type=="usb"){var l=new cS.gJ(i["ip"]._response,false,iP.iW);}else{var m=(i["port"]._response===443);var port=i["port"]._response;if(window&&window["location"]["href"].search(i["ip"]._response)!=-1){if(window["location"]["href"].search("https")!=-1){m=true;port=443;}else{m=false;port=80;}}var l=new cS.gJ(true,i["ip"]._response,port,m,iP.iW);}j(l,true);}});};c(1);};/* (C) 2021 Halo Automation Systems LLC; This software is proprietary and is NOT to be distributed or shared in any way.*/var mn={};if(typeof require!="undefined"){var http=require("http");var https=require("https");}var li="http://local.paragonrobotics.com/orderSuccess.html";var lm=0;mn.ln=[{type:be.cn("/document/png"),lp:"image/png"},{type:be.cn("/document/html"),lp:"text/html"},{type:be.cn("/document/css"),lp:"text/css"},{type:be.cn("/document/js"),lp:"application/javascript"}];mn.lt=function(a,b){gG.iS(a,mn,80,b);};mn.lv=function(a,b,c){var d=[];for(var cI=0;cI<mn.ln.length;cI++){d.push(mn.ln[cI].type);}a.lw(b,d,function(e,f){console.log("mimeType:"+e);if(e!=null){var g=mn.ln[e].lp;c(g);return;}c();});};mn.lz=function(a){var j1="<html><head><title>404 Not Found</title></head><body bgcolor='white'>"+"<center><h1>404 Not Found</h1></center></body></html>";a["writeHead"](404,{"Content-Type":"text/html","Content-Length":j1.length});a["write"](j1,"binary");a["end"]();};mn.lA=function(a,b,c,d,e,f){var g=v.aU(e);var request=mn.lB(a,b,c,d,g,function(h,i){if(h){var h=v.aV(h);}f(h,i);});return request;};mn.lB=function(a,b,c,d,e,f){if(v.w=="node.js"){if((e!=null)&&(e.length>0)){var headers={"host":a,"Content-Type":"text/plain","Connection":"keep-alive","Content-Length":e.length};}else{headers={"host":a,"Accept-Language":"en-us,en;q=0.5","Accept-Charset":"UTF-8,*","Connection":"keep-alive"};}var mf=(b===443);var cS=(b===443)?https:http;if(mf){if(mn.lD==null){mn.lD=new cS["Agent"]({"keepAlive":true,"maxSockets":2,"maxFreeSockets":3});}}else{if(mn.l6==null){mn.l6=new cS["Agent"]({"keepAlive":true,"maxSockets":2,"maxFreeSockets":3});}}var options={"host":a,"port":b,"path":c,"method":d,"headers":headers,"agent":mf?mn.lD:mn.l6};var request=cS["request"](options,function(g){g["setEncoding"]("ascii");var j3="";var h=false;if((h)||(g["statusCode"]===200)){g["setEncoding"]("utf8");g["addListener"]("data",function(i){j3+=i;});g["addListener"]("end",function(){f(j3);});}else{f();}});request.on("error",function(g){console.log("Error reading HTTP resource");f(null,[184]);});if((e!=null)&&(e.length>0)){request["write"](e,"ascii");}request["end"]();request["name"]=a;return request;}else{if(a.search("http")==-1){if((b===443)||(b===8443)){a="https://"+a;}else{a="http://"+a;}}var g=a+":"+b+c;var l8=g7.l8(g,d,e,null,f,null,null,mn.l9);return l8;}};mn.gJ=function(a,b,c,d,e,f){this.ma=[];this.mb=[];this.iV=true;this.type="http";this.mc="";this.md=0;this.me=new mn.me();this.j$=a;this.mf=d;this.iU=b;this.port=c;this.i6=f;this.bV=e;};mn.gJ.prototype.z=function(){this.gK=new gG.gK(this,this.j$,this.ka,this.iv,this.i6);};mn.gJ.prototype.mh=function(){if(!this.iV){return;}var j1=this.mt();this.mu(j1,true);};mn.gJ.prototype.mt=function(){return this.mv();};mn.gJ.prototype.close=function(a){var b=this;gG.jE(this);if(this.gK){this.gK.close(a);}if(a){b.mw();}else{v.nextTick(function(){b.mw();});}this.iV=false;var Bp=this.mx;this.mx=null;if(Bp){Bp();}};mn.gJ.prototype.mw=function(){var a=this;if(v.w=="node.js"){if(a.my){for(var cI=0;cI<a.my.length;cI++){a.my[cI].destroy();}}if(a.mz){a.mz.abort();a.mz=null;}if(a.mA){a.mA.abort();a.mA=null;}}else{if(a.mz!=null){console.log("aborting longPollRequest");a.mz.abort();a.mz=null;}if(a.mA!=null){console.log("aborting regularRequest");a.mA.abort();a.mA=null;}}};mn.gJ.prototype.ku=function(a){if(a){this.ma=this.ma.concat(a);}};mn.gJ.prototype.kD=function(){if((this.ma.length===0)||(this.mA)){return;}this.k2();};mn.gJ.prototype.mv=function(a){var b=this;var c=[];c=c.concat(101,60,128,191,210,1,1,62);c=c.concat(122,213,60,97,this.bV,62,62);if(a!=null){c=c.concat(a);}return v.aL(c);};mn.gJ.prototype.k2=function(a){if(!a&&(this.ma.length===0)){return;}var b=this.ma;var jL=this.gK.kt;this.mB=false;if(this.j$&&this.mB&&this.mC){if(this.mD){b.unshift(62);b.unshift(62);this.mD=false;}jL=false;}if(!this.j$&&this.mB){jL=false;}mn.mE(this,jL,[],function(){});};mn.mF=function(a,b,c){if(a.gK.j$){a.mu(a.mv(b));}else{a.mG(v.aL(b));}c();};mn.mE=function(a,b,c,d){var e=a.ma;if(b){a.gK.i1.mH(e,function(f){mn.mF(a,f,d);});}else{a.ma=[];mn.mF(a,e,d);}};mn.gJ.prototype.mu=function(a,b){var c=this;c.mI(a,b);};mn.gJ.prototype.mI=function(a,b){var c=this;if(b){var d=1;}else{var d=(this.mA==null)?0:(this.mz==null)?1:2;}var e=mn.lA(this.iU,this.port,"/haloS","POST",a,function(f,g){if(g){c.jN=true;c.kT=true;}if(lm){v.setTimeout(function(){c.mJ(d,f,g);},lm);}else{c.mJ(d,f,g);}});if(d===0){c.mA=e;}else if(d===1){c.mz=e;}else{c.mK=e;}};mn.gJ.prototype.mJ=function(a,b,c){var d=this;if(!d.iV){return;}if(a===0){d.mA=null;}else if(a===1){d.mz=null;}else{d.mK=null;}if(b!=null){if((d.mz==null)){v.nextTick(function(){if(d.iV){d.mh();}});}if(b.length){var j_=v.aK(b);d.gK.j8(j_);}d.kD();}else{console.log("Error reading request response");d.jN=true;d.kT=true;d.close();}};mn.gJ.prototype.mG=function(a){var b=this.mc+a;this.mc="";var c=v.aU(b);if(this.gM!=null){var d=this.gM;this.gM=null;}else if(this.k9!=null){v.clearTimeout(this.la);var d=this.k9;this.k9=null;}else{this.mc=b;return;}d["writeHead"](200,{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"POST","Content-Type":"text/plain","Content-Length":c.length});d["write"](c,"ascii");d["end"]();if(!this.mC){this.mC=true;this.mD=true;}};mn.lK=function(a,b,c,d,e,f,g,h,i,j){this.mL=new mn.mL(a,e,g,h,i);if(v.w!="node.js"){throw new Error("HTTP content server is not supported on this platform.");}this.mM=a;this.mN=[];this.kb=b;this.target=be.d2([60,128,146,62],d);this.kb.lN(this,d);this.mO=c;this.mf=e;this.l$=[];this.kl=f;var k=false;var l=this;gG.gV.push({io:this,type:"server"});console.log((this.mf?"HTTPS":"HTTP")+" Halo server running at 127.0.0.1:"+a);};mn.lK.prototype.close=function(a){gG.im(this);this.mP(0,function(){});};mn.lK.prototype.mP=function(a,b){var c=this;if(a>=this.l$.length){b();}else{this.kb.mQ(this.l$[a].jK,function(d,e){c.mP(a+1,b);});}};mn.lK.prototype.mR=function(a,b,c,d){this.l$.push(a);if(!c){var e=a.jy();for(var cI=0;cI<this.mN.length;cI++){var f=this.mN[cI].gK;if((d)&&(d==f)){continue;}if(f.jo==f.jp.jo.jq){this.mN[cI].ku(e);this.mN[cI].k2();}}}};mn.lK.prototype.mS=function(a,b,c,d,e){var f=false;for(var cI=0;cI<this.l$.length;cI++){if(v.D(this.l$[cI].jK,a)){if(this.l$[cI].mT<b){e();return;}}}var g=v.aM(this.l$);var h=new gG.jr(false,a,b,[60,62],g,c,d.gJ);this.l$.push(h);h.gK=d;h.l7=c.concat();this.mR(h,a,true,d);};mn.lK.prototype.fE=function(a,b){var c=be.cu(a.target);c=be.cv(c);var d=cP.et(c);var e=d.ew().data;var f=d.ew().data;var kM=d.ew().data;a.target[a.target.length-1].splice(0,d.dn);var g;for(var cI=0;cI<this.mN.length;cI++){if((this.mN[cI].id==e)&&(this.mN[cI].jg==f)){g=this.mN[cI];break;}}g.gK.gL(a,kM,function(h){b(h.g1);});};mn.me=function(){};/* (C) 2021 Halo Automation Systems LLC; This software is proprietary and is NOT to be distributed or shared in any way.*/"use strict";var mo={};var mU=0;mo.mV=0;if(typeof require!="undefined"){var net=require("net");var tls=require("tls");var util=require("util");}mo.lt=function(a,b){gG.iS(a,mo,7239,b);};mo.lO=function(a,b,c,d){this.ka=null;var e=this;this.lL=[];this.mW=d;this.mX=c;try{console.log("TCP server running at 0.0.0.0:"+a);var options={"port":this.port,"host":this.iU,"family":4};var f=net["createServer"](function(g){var h=new mo.gJ(false,null,null,null);if(e.k4){h.k4=true;}h.mY=e.mX;h.mZ=g;h.ka=e.ka;h.iU=g["remoteAddress"];h.m_=g["localAddress"];h.port=g["remotePort"];if(e.mX==null){h.z();h.iV=true;}h.m$(g);});f["listen"](a);e.mL=f;}catch(g){throw new Error(g);}};mo.lO.prototype.close=function(a){this.mL.close();console.log("TCP server closed");if(a){a();}};mo.gJ=function(a,b,c,d,e,f){this.ma=[];this.iV=false;this.m0=false;this.j$=a;this.iU=b;this.port=c;this.m1="";this.type="tcp";this.mf=d;this.i6=f;this.bV=e;};mo.gJ.prototype.m$=function(a){var b=this;a["setKeepAlive"](true,120000);a["setTimeout"](0);a["addListener"]("connect",function(){if(a["readyState"]!="open"){a["end"]();}else{b.iV=true;}});a["addListener"]("data",function(c){var d=v.aK(c.toString("binary"));b.j8(d);});a["addListener"]("error",function(c){console.log("TCP error: "+c);a["end"]();b.close();});a["addListener"]("end",function(){console.log("end");a["end"]();b.close();});};mo.gJ.prototype.z=function(){this.gK=new gG.gK(this,this.j$,this.ka,this.iv,this.i6);if(this.k4){this.gK.k4=true;}if(this.j$===true){this.iV=true;var options={"port":this.port,"host":this.iU,"family":4};if(this.mf){var a=tls["connect"](options);}else{a=net["connect"](options);}this.mZ=a;this.m$(a);}};mo.gJ.prototype.close=function(a){gG.jE(this);if(this.gK){this.gK.close(a);}this.mZ["end"]();if(a){this.mZ["destroy"]();}this.iV=false;if(this.mx){this.mx();}};mo.gJ.prototype.ku=function(a){if(a){this.ma=this.ma.concat(a);}};mo.gJ.prototype.kD=function(){if(this.ma.length===0){return;}this.k2();};mo.gJ.prototype.k2=function(a){var b=this;if(!a&&(this.ma.length===0)){return;}if(!this.iV){return;}var c=this.ma;var jL=this.gK.kt;if(jL){this.gK.i1.mH(c,function(d){b.mG(v.aL(d));});}else{this.ma=[];this.mG(v.aL(c));}};mo.gJ.prototype.mG=function(a){var b=this;if((this.j$)&&(!this.m2)){var c=[];c=c.concat(101,60,128,191,210,1,1,62,122,212,60,97,be.cs(this.iU),62,122,213,60,97,this.bV,62,62);var d=v.aL(c);if(mo.mV){this.m1+=d;if(this.m3==null){this.m3=true;this.m4();}}else{this.mZ["write"](d,"binary");}this.m2=true;}if(mU){v.setTimeout(function(){b.mZ["write"](a,"binary");},mU);}else{if(mo.mV){this.m1+=a;if(this.m3==null){this.m3=true;this.m4();}}else{if(Buffer.isBuffer(a)){this.mZ["write"](a);}else{this.mZ["write"](a,"binary");}}}};mo.gJ.prototype.m4=function(){var a=this;if(this.m1.length===0){this.m3=null;return;}mo.mV=Math.ceil(Math.random()*1);var b=this.m1.slice(0,mo.mV);this.m1=this.m1.slice(mo.mV);v.setTimeout(function(){a.mZ["write"](b,"binary");a.m4();},10);};mo.gJ.prototype.j8=function(a,b,c){if(typeof a=="string"){var a=v.aK(m5);}var d=this;if((!this.j$)&&(!this.m6)){try{console.log("inData:"+a);if(v.D(a,[101,60,128,191,210,1,1],7)){var e=new cP.jH(a);var f=new cP.hO(e);f.dn=7;if(v.D(a.slice(f.dn,f.dn+5),[62,122,211,60,97])){f.dn+=5;this.m7=f.ew().data;}if(v.D(a.slice(f.dn,f.dn+5),[62,122,212,60,97])){f.dn+=5;this.jY=f.ew().data;}if(v.D(a.slice(f.dn,f.dn+5),[62,122,213,60,97])){f.dn+=5;this.m8=f.jW();this.iv=this.m8;a=a.slice(f.dn+2);this.m6=true;}}}catch(g){console.log("error:"+g.stack);}}if((!this.j$)&&(!this.m6)){return;}if(a.length){if(this.mY){this.mY(this.jY,this.m8,a,d);}else{this.gK.j8(a);}}};/* (C) 2021 Halo Automation Systems LLC; This software is proprietary and is NOT to be distributed or shared in any way.*/var mp={};if(typeof require!="undefined"){var net=require("net");try{var websocket=require("websocket");}catch(a){}}mp.lO=function(b,c,d,e){this.ka=null;var f=this;this.lL=[];this.mW=e;this.mX=d;try{console.log("TCP server running at 127.0.0.1:"+b);var g=net.m9(function(h){console.log("creating incoming:"+h.readyState);var i=new mp.gJ(false,null,null,null);i.mY=f.mX;i.mZ=h;i.ka=f.ka;f.lL.push(i);i.m$(h);});g.na(b);}catch(a){}};mp.gJ=function(b,c,d,e,f,g,h,i,j){this.ma=[];this.iV=false;this.m0=false;this.j$=b;this.iU=c;this.port=d;this.type="websocket";this.mf=e;this.i6=g;this.bV=f;this.m6=false;this.nb=h;this.nc=i;this.nd=j;if(this.nb){this.ne=true;}};mp.gJ.prototype.z=function(){var b=this;var cL=function(){b.gK=new gG.gK(b,b.j$,b.ka,b.iv,b.i6);if(b.mf){}if(b.j$===true){if((Number(b.port)===443)||(Number(b.port)===4443)){var c="wss://"+b.iU+":"+b.port;}else{c="ws://"+b.iU+":"+b.port;}if(typeof WebSocket!="undefined"){b.mZ=new WebSocket(c,"haloS");}else if(typeof MozWebSocket!="undefined"){b.mZ=new MozWebSocket(c,"haloS");}else{try{var d=websocket["w3cwebsocket"];b.mZ=new d(c,"haloS");}catch(a){throw new Error("No valid Websocket module was found. Try 'npm install websocket' to install.");return;}}b.mZ["onopen"]=function(){console.log("Websocket open");b.iV=true;b.kD();};b.mZ["onerror"]=function(){console.log("Websocket error");b.jN=true;b.kT=true;b.close(true);};b.mZ["onclose"]=function(){console.log("Websocket close");b.jN=true;b.close(true);};b.mZ["onmessage"]=function(e){var f=v.aV(e.data);b.j8(f);};}else{}};var c=function(d,e){if((d==null)||(d.length<20)){console.log("error getting authentication token for mTLS");b.jN=true;b.close(true);}else{b.m7=d.toString().slice(0,20);console.log("received mTLS token:"+b.m7);b.nf=d.toString().slice(22);b.ng=setInterval(function(){b.mZ.send("");},9.5*1000*60);cL();}};if(this.ne){try{g7.l8("https://"+this.nb+"/getsessionid","GET",null,null,function(d,e){c(d,e);});}catch(a){var fs=require("fs");var https=require("https");var options={"hostname":this.nb,"port":443,"path":"/getsessionid","method":"GET","key":this.nc,"cert":this.nd};var d=https.request(options,function(e){e.on("data",function(f,g){c(f,g);});e.on("error",function(){console.log("error getting authentication token for mTLS");b.jN=true;b.close(true);});});d.end();}}else{cL();}};mp.gJ.prototype.close=function(b){if(this.ng){clearInterval(this.ng);}gG.jE(this);if(this.gK){this.gK.close(b);}if(this.mZ&&this.mZ["close"]){this.mZ["close"]();}this.iV=false;var Bp=this.mx;this.mx=null;if(Bp){Bp();}};mp.gJ.prototype.ku=function(b){if(b){while(b.length>250000){this.ma=b.slice(0,250000);this.k2();b=b.slice(250000);}this.ma=this.ma.concat(b);}};mp.gJ.prototype.kD=function(){if(this.ma.length===0){return;}this.k2();};mp.gJ.prototype.k2=function(b){var c=this;if(!b&&(this.ma.length===0)){return;}var jL=c.gK.kt;if(!this.iV){return;}if(this.nh){return;}this.nh=true;var d=function(e){if(jL){c.gK.i1.mH(e,function(f){c.mG(v.aL(f));});}else{c.ma=[];c.mG(v.aL(e));}};v.setTimeout(function(){c.nh=false;var e=c.ma;if(jL&&c.j$&&c.mf&&c.mC){if(c.mD){e.unshift(62,62);c.mD=false;jL=false;c.gK.kt=false;}}if(!c.j$&&c.mf){jL=false;}const Ig=31950;if(c.ne){if(e.length>Ig){console.log("sending chunked data, as frame length is "+e.length);var f=1;while(e.length>Ig){var g=e.slice(0,Ig);var h=[];h=h.concat(60,101,60,128,182,137,200,1,1,62,122,236,60,97,be.cj(f++),62,122,250,60,97,be.df(g),62,62);d(h);e=e.slice(Ig);}var h=[];h=h.concat(60,101,60,128,182,137,200,1,1,62,122,172,60,97,1,1,62,122,236,60,97,be.cj(f),62,122,250,60,97,be.df(e),62,62);d(h);return;}}d(e,jL);},25);};mp.gJ.prototype.mG=function(b){if(haloS.h_){console.log("out1");}try{if((this.j$)&&(!this.m2)){var c=[];c=c.concat(101,60,128,191,210,1,1,62);if(this.ni){c=c.concat(122,210,60,97,be.cs(this.ni),62);}if(this.m7){c=c.concat(122,211,60,97,be.cs(this.m7),62);}c=c.concat(122,212,60,97,be.cs(this.iU),62,122,213,60,97,this.bV,62,62);var d=v.aL(c);b=d+b;this.m2=true;}if(haloS.h_){console.log("ws sending out data:"+v.aK(b));}if(!this.j$){this.mZ.sendUTF(v.aU(b));}else{this.mZ.send(v.aU(b));if(!this.mC){this.mC=true;}}}catch(a){console.log(a.stack);}};mp.gJ.prototype.j8=function(b,c,d){if(typeof b=="string"){var b=v.aK(b);}var e=this;if(haloS.h_){console.log("inData:"+b.length);}var f=function(g,h,i){if(e.nj==null){e.nj=[];}e.nj[h]=i;if(g){e.nk=true;e.nl=h;}if(e.nk){console.log("checking if we have everything");var j=true;for(var cI=1;cI<=e.nl;cI++){if(e.nj[cI]==null){j=false;}}if(j){var k=[];for(var cI=1;cI<=e.nl;cI++){k=k.concat(e.nj[cI]);}e.nj=[];e.nk=false;e.j8(k,c,d);}}};if(v.D(b.slice(0,10),[60,101,60,128,182,137,200,1,1,62])){var g=new cP.jH(b);var h=new cP.hO(g);h.dn=10;var i=new cP.jO(h,true);console.log("parsing chunked packet: "+b.length);while(i.jP()){if(i.type===122){var j=h.ew();if(j.type===172){var k=h.jQ().data;}else if(j.type===236){var dc=h.jQ().data;}else if(j.type===250){var l=v.aK(h.jQ().data);}}}f(k,dc,l);return;}if((!this.j$)&&(!this.m6)){try{if(v.D(b,[101,60,128,191,210,1,1],7)){var g=new cP.jH(b);var h=new cP.hO(g);h.dn=7;if(v.D(b.slice(h.dn,h.dn+5),[62,122,211,60,97])){h.dn+=5;this.m7=h.ew().data;}if(v.D(b.slice(h.dn,h.dn+5),[62,122,212,60,97])){h.dn+=5;this.jY=h.ew().data;}if(v.D(b.slice(h.dn,h.dn+5),[62,122,213,60,97])){h.dn+=5;this.m8=h.jW();this.iv=this.m8;b=b.slice(h.dn+2);this.m6=true;}}}catch(a){console.log("error:"+a.stack);}}if((!this.j$)&&(!this.m6)){return;}if(this.mY){this.mY(this.jY,this.m8,b,e);}else{this.gK.j8(b);}};/* (C) 2021 Halo Automation Systems LLC; This software is proprietary and is NOT to be distributed or shared in any way.*/"use strict";var mq={};if(typeof require!="undefined"){var util=require("util");}mq.lX=[];mq.nm=function(a,b,c){if(b>=a.length){c();return;}if(a[b]["opened"]){mq.nm(a,b+1,c);return;}var d=a[b]["serialNumber"];var e=d.replace("NG","/company/paragonrobotics.com/device/transform/");e=e.replace(/-/g,"");haloS.dv.dA({path:e},function(f){var g=false;if(f&&f["network"]){var mk=cP.de(f["network"]);if((mk._type=="/type/network/usb")&&mk["ip"]._response==d){g=true;}}var options={"type":"usb","address":a[b]["serialNumber"],"closeCallback":function(){}};haloS["connectToSpecificGateway"](options,function(h){haloS["disconnectFromSpecificGateway"]("usb",a[b]["serialNumber"],function(){mq.nm(a,b+1,c);});});});};mq.nn=function(a){if((navigator["usb"]==null)||(navigator["usb"]["getDevices"]==null)){a();return;}navigator["usb"]["getDevices"]().then(function(b){mq.lX=b;mq.nm(b,0,function(){a(true);});});};mq.lt=function(a){if((navigator["usb"]==null)||(navigator["usb"]["getDevices"]==null)){a();return;}const r0=[{"vendorId":4292}];var b=navigator["usb"]["requestDevice"]({"filters":r0});b.then(function(c){if(c){mq.nn(a);}else{a();}},function(){a();});};mq.gW=[];mq.gJ=function(a,b,c,d){this.ma=[];this.no=[];this.iV=false;this.m0=false;this.np=a;this.iU=a;this.type="usb";this.mf=b;this.i6=d;this.bV=c;for(var cI=0;cI<mq.lX.length;cI++){if(mq.lX[cI]["serialNumber"]==a){this.nq=mq.lX[cI];}}};mq.gJ.prototype.z=function(){var a=this;mq.gW.push({nq:a.nq,gJ:this});this.gK=new gG.gK(this,true,this.ka,this.iv,this.i6);if(this.k4){this.gK.k4=true;}if(a.nq){a.iV=true;if(a.nq["opened"]===false){console.log("opening USB");a.nq["open"]().then(function(){a.nq["selectConfiguration"](1).then(function(){console.log("claiming USB interface");a.nq["claimInterface"](0).then(function(){a.nq["controlTransferOut"]({"requestType":"class","recipient":"interface","request":34,"value":0,"index":0}).then(function(){console.log("USB device opened");mq.nr(a.nq);a.ns=true;a.nt();},function(){a.close();});});});});}else{a.nq["controlTransferOut"]({"requestType":"class","recipient":"interface","request":37,"value":0,"index":0}).then(function(){console.log("USB device reopened");a.ns=true;a.nt();},function(){a.close();});}}};mq.gJ.prototype.nt=function(){var a=this;if(a.ns&&a.no.length){var b=v.aI(v.aL(a.no));a.no=[];if(a.nq["opened"]===true){var c=a.nq["transferOut"](1,b);}else{a.close();return;}c.then(function(d){},function(d){a.close();});}};mq.nr=function(a){var b=this;try{if(a["opened"]!==false){var c=a["transferIn"](2,512);var d=Date.now();c.then(function(e){if(e["data"]&&e["data"]["buffer"]){var Bq=v.aJ(e["data"]["buffer"]);var f=v.aK(Bq);for(var cI=0;cI<mq.gW.length;cI++){if(mq.gW[cI].nq===a){mq.gW[cI].gJ.j8(f);}}}else{console.log("return from transfer in:"+e["status"]);}mq.nr(a);},function(e){for(var cI=0;cI<mq.gW.length;cI++){if(mq.gW[cI].nq===a){console.log("error caught in data wait, so closing interface");mq.gW[cI].gJ.close();}}});}}catch(e){}};mq.gJ.prototype.close=function(a){var b=this;gG.jE(this);if(b.gK){b.gK.close(a);}var c=function(){console.log("USB device is now closed");if(b.mx){b.mx();}};this.iV=false;b.ns=false;for(var cI=0;cI<mq.gW.length;cI++){if(mq.gW[cI].gJ===this){mq.gW.splice(cI,1);break;}}if(b.nq==null){c();return;}v.setTimeout(function(){if(b.nq["opened"]===true){console.log("closing USB endpoint");b.nq["controlTransferOut"]({"requestType":"class","recipient":"interface","request":35,"value":0,"index":0}).then(function(){if(b.nq["opened"]===true){console.log("closing USB interface");b.nq["close"]().then(c,c);}},c);}else{c();}},500);};mq.gJ.prototype.ku=function(a){if(a){this.ma=this.ma.concat(a);}};mq.gJ.prototype.kD=function(){if(this.ma.length===0){return;}this.k2();};mq.gJ.prototype.k2=function(){var a=this;if(!this.iV){return;}if(this.ma.length===0){return;}var b=this.ma;var jL=this.gK.kt;if(jL){this.gK.i1.mH(b,function(c){a.mG(v.aL(c));});}else{this.ma=[];this.mG(v.aL(b));}};mq.gJ.prototype.mG=function(a){var b=this;var c=v.aK(a);if(!this.m2){var d=[];d=d.concat(101,60,128,191,210,1,1,62,122,213,60,97,this.bV,62,62);c=d.concat(c);this.m2=true;}b.no=b.no.concat(c);b.nt();};mq.gJ.prototype.j8=function(a){if(typeof a=="string"){var a=v.aK(m5);}var b=this;if(this.mY){this.mY(this.jY,this.m8,a,b);}else{this.gK.j8(a);}};/* (C) 2021 Halo Automation Systems LLC; This software is proprietary and is NOT to be distributed or shared in any way.*/"use strict";var cP={};if(typeof require!="undefined"){}cP.nu=false;cP.nv=200;cP.gS=0;cP.e5=1;cP.nw=2;cP.eP=3;cP.nx=false;cP.ey={ny:0};cP.nz=0;cP.nA=0;cP.cQ=null;cP.nB=null;cP.nC=function(a){if((!a)||(a.length===0)){return true;}var b=a[0];if((b===0)&&(a.length!==1)){return false;}if(b<32){if(a.length!=(b&15)+1){return false;}}return true;};cP.dF=function(a,b){var c=1;for(var cI in a){c++;}while(a[c]!=null){c++;}a[c]=b;return c;};cP.nD=function(a){var keys=Object["keys"](a);var item=a[keys[keys.length-1]];delete a[keys[keys.length-1]];return item;};cP.nE=function(a,b,c){var d=1;while(a[d]){if((a[d]==b)||((c!=null)&&(c==d))){delete a[d];var e=d+1;while(a[e]){a[e-1]=a[e];e++;}if(a[e-1]!==b){delete a[e-1];}return d;}d++;}};cP.nF=function(a,b,c){while(a.jP()){if(a.type===94){var d=b.ew();var e=b.ew();if(c["_runners"]==null){c["_runners"]=[];}c["_runners"].push({match:be.bf(d.fD),target:be.bf(e.fD)});}else if(a.type===97){var d=b.ew();if((d.type===60)||(d.fD[0]>=128)){c["_responseTarget"]=be.bf(d.fD);}else{c["_response"]=d.data;}}else if(a.type===101){var d=b.ew();if(c["_type"]==null){c["_type"]=be.bf(d.fD);}else{if(c["_typeOther"]==null){c["_typeOther"]=[];}c["_typeOther"].push(be.bf(d.fD));}}else if(a.type===122){var d=b.ew();var f=b.ew();if(f.fD[0]===0){c[be.bf(d.fD)]=NaN;}else{var g=new cP.jH(f.fD);var h=new cP.hO(g);var i=new cP.jO(h);var j={};cP.nF(i,h,j);c[be.bf(d.fD)]=j;}}else if((a.type===49)||(a.type===50)){if(c["_other"]==null){c["_other"]=[];}var k=[a.type];c["_other"].push({"data":k});}else{var d=b.ew();if(c["_other"]==null){c["_other"]=[];}var k=[a.type];k=k.concat(d.fD);c["_other"].push({"data":k});}}};cP.de=function(a){if(a==null){return {};}else if((a.length===1)&&(a[0]===0)){return NaN;}var b=new cP.jH(a);var c=new cP.hO(b);var d=new cP.jO(c);var e={};cP.nF(d,c,e);return e;};cP.dx=function(a,b){var nH=new ArrayBuffer(10000);var nG=new Uint8Array(nH);nG[0]=60;var c={nG:nG,b3:1,nH:nH};var d=b&&b.nI;var nJ=b&&b.nJ;cP.nK(c,a,d,nJ);return (new Uint8Array(c.nH,0,c.b3));};cP.nK=function(a,b,c,d){var e=function(f){while((f.length+a.b3)>(a.nH["byteLength"]-1000)){var nH=new ArrayBuffer(a.nH["byteLength"]+(10000+(f.length+a.b3)-(a.nH["byteLength"])));new Uint8Array(nH)["set"](new Uint8Array(a.nH));a.nH=nH;a.nG=new Uint8Array(nH);}for(var g=0;g<f.length;g++){a.nG[a.b3++]=f[g];}};if((typeof b=="number")&&(isNaN(b))){a.b3--;a.nG[a.b3++]=0;return;}if(b==null){a.nG[a.b3++]=62;return;}if(a.b3>(a.nH["byteLength"]-1000)){var nH=new ArrayBuffer(a.nH["byteLength"]+10000);new Uint8Array(nH)["set"](new Uint8Array(a.nH));a.nH=nH;a.nG=new Uint8Array(nH);}var cx=[];var gF=[];var f=[];var d_=[];var g=[];for(var cI in b){if(b[cI]==null){continue;}if(cI=="_other"){for(var dz=0;dz<b[cI].length;dz++){var su=b[cI][dz];e(su["data"]);}}else if(cI=="_runners"){cx.push(b[cI]);}else if(cI=="_response"){gF.push(b[cI]);}else if(cI=="_responseTarget"){f.push(b[cI]);}else if(cI=="_type"){d_.push(b[cI]);}else if(cI=="_typeOther"){for(var dz=0;dz<b[cI].length;dz++){d_.push(b[cI][dz]);}}else{var h=false;if(!d){var yi=be.cn(cI);for(var dz=0;dz<g.length;dz++){var yd=be.cn(g[dz].name);if((yd.length<yi.length)&&be.dQ(yd,yi,yd.length)){g.splice(dz,0,{name:cI,data:b[cI]});h=true;break;}}}if(!h){g.push({name:cI,data:b[cI]});}}}for(var cI=0;cI<cx.length;cI++){for(var dz=0;dz<cx[cI].length;dz++){var CB=be.cn(cx[cI][dz].target);if(CB==null){CB=[60,62];}a.nG[a.b3++]=94;e(be.cn(cx[cI][dz].match));e(CB);}}for(var cI=0;cI<gF.length;cI++){if(typeof gF[cI]=="string"){a.nG[a.b3++]=97;e(be.cs(gF[cI]));}else if(typeof gF[cI]=="number"){a.nG[a.b3++]=97;e(be.cj(gF[cI],null,null,c));}else if(gF[cI]!=null){a.nG[a.b3++]=97;e(be.df(gF[cI]));}}for(var cI=0;cI<f.length;cI++){var y_=be.cn(f[cI]);if(y_.length===3){y_=be.cv(y_);}a.nG[a.b3++]=97;e(y_);}for(var cI=0;cI<d_.length;cI++){a.nG[a.b3++]=101;e(be.cn(d_[cI]));}if(!d){var i=[];while(g.length){var j=null;var k=255;for(var cI=0;cI<g.length;cI++){var ez=be.cv(be.cn(g[cI].name));if(ez[0]<k){j=cI;k=ez[0];}}i.push(g[j]);g.splice(j,1);}g=i;}for(var cI=0;cI<g.length;cI++){a.nG[a.b3++]=122;e(be.cn(g[cI].name));a.nG[a.b3++]=60;if(typeof g[cI].data=="string"){a.nG[a.b3++]=97;e(be.cs(g[cI].data));a.nG[a.b3++]=62;}else if(typeof g[cI].data=="number"){if(isNaN(g[cI].data)){a.b3--;a.nG[a.b3++]=0;}else{a.nG[a.b3++]=97;e(be.cj(g[cI].data));a.nG[a.b3++]=62;}}else if(g[cI].data instanceof Array){a.nG[a.b3++]=97;e(be.df(g[cI].data));a.nG[a.b3++]=62;}else{cP.nK(a,g[cI].data,c,d);}}a.nG[a.b3++]=62;};cP.c7=function(a,b){if((typeof a=="number")&&(isNaN(a))){return [0];}var c=[60];var d=b&&b.nI;var nJ=b&&b.nJ;c=cP.nL(c,a,d,nJ);return c;};cP.nL=function(a,b,c,d){if(b==null){a.push(62);return a;}var cx=[];var gF=[];var e=[];var d_=[];var f=[];for(var cI in b){if(b[cI]==null){continue;}if(cI=="_other"){for(var dz=0;dz<b[cI].length;dz++){var su=b[cI][dz];for(var g=0;g<su["data"].length;g++){a.push(su["data"][g]);}}}else if(cI=="_runners"){cx.push(b[cI]);}else if(cI=="_response"){gF.push(b[cI]);}else if(cI=="_responseTarget"){e.push(b[cI]);}else if(cI=="_type"){d_.push(b[cI]);}else if(cI=="_typeOther"){for(var dz=0;dz<b[cI].length;dz++){d_.push(b[cI][dz]);}}else{var h=false;if(!d){var yi=be.cn(cI);for(var dz=0;dz<f.length;dz++){var yd=be.cn(f[dz].name);if((yd.length<yi.length)&&be.dQ(yd,yi,yd.length)){f.splice(dz,0,{name:cI,data:b[cI]});h=true;break;}}}if(!h){f.push({name:cI,data:b[cI]});}}}for(var cI=0;cI<cx.length;cI++){for(var dz=0;dz<cx[cI].length;dz++){var CB=be.cn(cx[cI][dz].target);if(CB==null){CB=[60,62];}a=a.concat(94,be.cn(cx[cI][dz].match),CB);}}for(var cI=0;cI<gF.length;cI++){if(typeof gF[cI]=="string"){a=a.concat(97,be.cs(gF[cI]));}else if(typeof gF[cI]=="number"){a=a.concat(97,be.cj(gF[cI],null,null,c));}else if(gF[cI]!=null){a=a.concat(97,be.df(gF[cI]));}}for(var cI=0;cI<e.length;cI++){var y_=be.cn(e[cI]);if(y_.length===3){y_=be.cv(y_);}a=a.concat(97,y_);}for(var cI=0;cI<d_.length;cI++){a=a.concat(101,be.cn(d_[cI]));}if(!d){var i=[];while(f.length){var j=null;var k=255;for(var cI=0;cI<f.length;cI++){var ez=be.cv(be.cn(f[cI].name));if(ez[0]<k){j=cI;k=ez[0];}}i.push(f[j]);f.splice(j,1);}f=i;}for(var cI=0;cI<f.length;cI++){a=a.concat(122,be.cn(f[cI].name),60);if(typeof f[cI].data=="string"){a=a.concat(97,be.cs(f[cI].data),62);}else if(typeof f[cI].data=="number"){if(isNaN(f[cI].data)){a.pop();a.push(0);}else{a=a.concat(97,be.cj(f[cI].data),62);}}else if(f[cI].data instanceof Array){a=a.concat(97,be.df(f[cI].data),62);}else{var l=cP.nL([],f[cI].data,c,d);a=a.concat(l);}}a=a.concat(62);return a;};cP.nM=function(a,b){if(b==null){b="   ";}return "{\n"+cP.nN(a,0,b)+"}\n";};cP.nN=function(a,b,c){var gM="";if(a["_other"]!=null){for(var cI=0;cI<b;cI++){gM+=c;}gM+="\"_other\":"+JSON.stringify(a["_other"],true)+",\n";}if(a["_runners"]!=null){for(var cI=0;cI<b;cI++){gM+=c;}gM+="\"_runners\":"+JSON.stringify(a["_runners"],true)+",\n";}if(a["_type"]!=null){for(var cI=0;cI<b;cI++){gM+=c;}gM+="\"_type\":"+JSON.stringify(a["_type"])+",\n";}if(a["_response"]!=null){for(var cI=0;cI<b;cI++){gM+=c;}gM+="\"_response\":"+JSON.stringify(a["_response"])+",\n";}if(a["_responseTarget"]!=null){for(var cI=0;cI<b;cI++){gM+=c;}gM+="\"_responseTarget\":"+JSON.stringify(a["_responseTarget"])+",\n";}var wb=0;for(var dz in a){wb++;if((dz!="_type")&&(dz!="_response")&&(dz!="_responseTarget")&&(dz!="_runners")&&(dz!="_other")&&(dz!="_typeOther")){for(var cI=0;cI<b;cI++){gM+=c;}gM+="\""+dz+"\": {\n";gM+=cP.nN(a[dz],b+1,c);for(var cI=0;cI<b;cI++){gM+=c;}gM+="},\n";}}if(wb){gM=gM.slice(0,-2)+"\n";}return gM;};cP.jH=function(a){this.data=a;};cP.hO=function(a){this.ki=a;if(a==null){this.ki=new cP.jH();}this.dn=0;this.jX=[128];this.nO=[128];this.gQ=[];this.cT=cP.cQ;this.nP=false;this.kN=false;this.c2=false;this.gR=[];this.target=[];this.cw=null;this.eX=[];this.cx=[];this.gF=null;this.e2=null;this.h7=[];this.nQ=0;};cP.hO.prototype.eu=function(){if(this.dn>=this.ki.data.length){throw new Error("1: Reached end of data during parsing");}return this.ki.data[this.dn++];};cP.hO.prototype.nR=function(){console.log("DUMPING STATE:");var a=be.cu(this.target);console.log("  target(raw):"+this.target);console.log("  target:"+be.bf(a));console.log("  message:"+this.cw);console.log("  runners:"+JSON.stringify(this.cx));console.log("  frames:"+JSON.stringify(this.eX));console.log("  position:"+this.dn);console.log("  response:"+this.gF);console.log("  error:"+this.e2);};cP.hO.prototype.ev=function(a){var b=this.dn;var c=new cP.jO(this,true);while(c.jP()){if(c.type===122){var nT=this.jW();if(v.D(nT,a)){var d=this.jQ();this.dn=b;return d;}}}this.dn=b;return;};cP.hO.prototype.nS=function(a){a=be.cv(a);var b=this.dn;var c=new cP.jO(this);while(c.jP()){if(c.type===122){nT=this.jW();if(nU(nT,a)){return true;}}}this.dn=b;return false;};cP.hO.prototype.jQ=function(){var a=this.eu();var b=false;if(a===60){a=this.eu();b=true;}if(a!==97){throw new Error("Error parsing child response start (parse).."+a);}var nT=this.ew();if(b===true){this.eu();}return nT;};cP.hO.prototype.nV=function(){var a=this.eu();var b=this.eu();if((a!==60)||(b!==101)){throw new Error("Error parsing child link start (parse).."+a+".."+b);}var nT=this.ew();this.eu();return nT;};cP.hO.prototype.ew=function(){var a={};var b=null;a.fD=this.jW();a.type=a.fD[0];if(a.type<=24){b=be.dj(a.fD,0);a.data=b.value;}else if((a.type===32)||(a.type===35)){b=be.dk(a.fD,0);a.data=b.value;}return a;};cP.hO.prototype.nW=function(){var a=63;while(a===63){a=this.eu();}this.dn--;if((a===1)||(a===2)||(a===4)||(a===8)||(a===20)||(a===24)){var b=be.dj(this.ki.data,this.dn);this.dn=b.dn;return b.value;}else{throw new Error("Error parsing number type (type is "+a+")");}};cP.nX=function(a,b){var c=cP.et(a);if(b){c.dn=b;}var d=new cP.jO(c);var e=[];var f=[];var g=false;while(d.jP()){if(d.type===122){if(!g){e=a.slice(0,c.dn-1);g=true;}var h=c.jW();var i=f.length;for(var dz=0;dz<f.length;dz++){if(be.cK(h,f[dz])){i=dz;break;}}var tZ=c.jW();f.splice(i,0,[h,tZ]);}}if(!g){e=a.slice(0,c.dn-1);}return [e,f,c.dn];};cP.hO.prototype.jW=function(a,b){if(b==null){b=63;while(b===63){b=this.eu();}}var c=this.dn;var d;if(b<=16){this.dn+=b;}else if(b===20){this.dn+=4;}else if(b===24){this.dn+=8;}else if((b===32)||(b===35)){var e=this.nW();if(e<0){throw new Error("String has negative length");}this.dn+=e;}else if(b===60){while(true){while(this.ki.data[this.dn]===63){this.dn++;}if(this.ki.data[this.dn]===62){break;}this.jW(false);}this.dn++;}else if((b===56)||(b===69)){this.jW(false);}else if((b>63)&&(b<128)){var f=(b&3);for(var g=0;g<f;g++){this.jW(false);}}if(this.dn>this.ki.data.length){throw new Error("1: Reached end of data during parsing (end snippet:"+this.ki.data.slice(-20)+")");}if(a!==false){return this.ki.data.slice(c-1,this.dn);}};cP.hO.prototype.nY=function(){var a=63;while(a===63){a=this.eu();}return a;};cP.jO=function(a,b){this.g1=a;this.nZ=false;if(b==null){b=false;}this.n_=b;this.n$=a.dn;};cP.jO.prototype.jP=function(){if(this.n0===true){return false;}if(this.nZ===false){this.type=this.g1.nY();if(!this.n_){if(this.type===0){this.n0=true;return false;}else if(this.type===60){this.type=this.g1.nY();}else{this.n1=true;}}if(this.type===62){this.n0=true;return false;}this.n$=this.g1.dn;this.nZ=true;return true;}this.g1.dn=this.n$;this.g1.jW(false,this.type);if(this.n1){this.n0=true;return false;}this.type=this.g1.nY();if(this.type===62){this.n0=true;return false;}this.n$=this.g1.dn;return true;};cP.hO.prototype.cJ=function(a,b){if(this.n2){return;}this.cT.g2.g3=true;this.cT.g2.hO=this;if(!cP.nC(a)){throw new Error("Responding with bad response format:"+a);}if(!cP.nC(b)){throw new Error("Responding with bad error format:"+b);}if(a!=null){this.cT.g2.data=a;}else if(this.cT.g2.data==null){this.cT.g2.data=this.gF;}if(b!=null){this.cT.g2.jN=b;}else if(this.cT.g2.jN==null){this.cT.g2.jN=this.e2;}};cP.hO.prototype.n3=function(a,b){this.cJ(a,b);while(this.cT.g2.g3===true){cP.g4(this.cT.g2);}};cP.g4=function(a){a.g3=false;var b=a.hO;if(a.data!=null){b.gF=a.data;}if(a.jN!=null){b.e2=a.jN;}a.data=null;a.jN=null;var data=b.gF;var jN=b.e2;cP.gN(b,data,jN);};cP.gN=function(a,b,c){if(a.gR.length===0){return;}var d=a.gQ.pop();var e=a.gR.pop();if(e==cP.nw){a.gF=null;a.e2=null;var f=b;if((f==null)||(!f.length)){d(null,c);}else{if(f[0]<=24){var g=be.dj(f,0);d(g.value,c);}else if((f[0]===32)||(f[0]===35)){d(v.aL(f,f[1]+2),c);}else{d(f,c);}}}else if(e==cP.gS){d(a,c);}else if(e==cP.eP){a.gF=null;a.e2=null;if(b==null){d(false,c);}else{d(true,c);}}else{a.gF=null;a.e2=null;d(b,c);}};cP.hO.prototype.eA=function(a,b){var c;if(a===0){c=be.cj(b);}else if(a===1){c=be.cs(b);}else if(a===2){c=be.df(b);}else{c=b.concat();}this.cJ(c);};cP.hO.prototype.n4=function(a){this.cJ(null,a);};cP.hO.prototype.n5=function(a,b){if((a[0]===158)&&(a.length===1)){this.cJ(b);}else{if((typeof a)!="object"){throw new Error("h11 only accepts arrays for the target name");}for(var cI=this.cx.length-1;cI>=0;cI--){if(a.length===1){if(this.cx[cI][2]==a){this.cx[cI].splice(3);this.cx[cI]=this.cx[cI].concat(b,62);break;}}else{if(v.D(this.cx[cI].slice(2,2+a.length),a)){this.cx[cI].splice(2+a.length);this.cx[cI]=this.cx[cI].concat(b,62);break;}}}}};cP.hO.prototype.e4=function(a,b,c,d){var e=false;if(a==null){a=[162];}var f=be.cv(b.concat());if((f.length>0)&&(f[0]===128)){e=true;}var g=this;this.gF=null;this.e2=null;g.gQ.push(d);g.gR.push(c);g.target=[];var h=g.cx.length;this.n6(f,a,cP.e5,function(i,j){for(var k=g.cx.length-1;k>h-1;k--){if(g.cx[k].n7){g.cx.splice(k,1);}}if(i!=null){g.cJ(i,j);}else{h=g.cx.length;g.n8(f,a,cP.e5,function(l,m){for(var k=g.cx.length-1;k>h-1;k--){if(g.cx[k].n7){g.cx.splice(k,1);}}if(l!=null){g.cJ(l,m);}else{if(e===true){var n=g.target.length;g.eO(a,f,cP.e5,function(o){g.target.splice(n);g.cJ(o,m);});}else{g.cJ(null,m);}}});}});};cP.hO.prototype.ec=function(a,b){var c=cP.eP;this.e4([156],a,c,b);};cP.hO.prototype.es=function(a,b,c){var d=cP.e5;this.e4(b,a,d,c);};cP.hO.prototype.n9=function(a,b){var c=cP.e5;this.e4(this.cw,a,c,b);};cP.hO.prototype.cG=function(a,b,c){var d=cP.nw;this.e4(b,a,d,c);};cP.hO.prototype.cA=function(a,b){var c=cP.nw;this.e4(null,a,c,b);};cP.hO.prototype.n6=function(a,b,c,d){this.gQ.push(d);this.gR.push(c);this.oa(a,b,this.cx.length-1);};cP.hO.prototype.oa=function(a,b,c){var d=this;if(c>=0){var e=this.cx[c];if((e==null)||!v.D(a,e.cy,e.cy.length)){d.oa(a,b,c-1);}else{var f=true;var hw=a.concat();if(a[0]===128){f=true;}var g=0;var h;var i;this.gF=null;this.e2=null;if(e.jX&&e.jY){i=be.dg(e.jX,e.jY);}else{i=null;}var j=this.cT.gT(this);j.cw=b;if(!f){j.eX=[];}j.dn=0;hw.splice(0,e.cy.length);if(hw.length){j.target.push(hw);}j.ki.data=this.cx[c].data;j.target=[hw.concat()];j.nO=i;if(i){console.log("runnertarget:"+i);j.jX=i.concat();}else{j.jX=null;}j.ob=this.ob;if((j.ki.data.length===1)&&(j.ki.data[0]===0)){j.oc(j.jX,cP.e5,function(k,l){if(k){d.cJ(k,l);}else{d.oa(a,b,c-1);}});}else{j.od(true,null,cP.e5,function(k,l){if(k){d.cJ(k,l);}else{d.oa(a,b,c-1);}});}}}else{this.cJ(null,[175]);}};cP.hO.prototype.n8=function(a,b,c,d){var hw=be.cv(a);var e;var f=null;var g=false;var h=hw[0];var i=null;var j=[];var k=[];this.gQ.push(d);this.gR.push(c);this.gF=null;this.e2=null;for(var cI=0;cI<this.eX.length;cI++){var l=0;var m=63;while((m===63)||(m===60)){m=this.eX[cI].nodeName[l++];}if(m!=h){continue;}if((m===1)&&(this.eX[cI].nodeName[l++]!=hw[1])){continue;}if(!i){i=this.cT.gT(this);}i.dn=0;var n=this.eX[cI].nodeName;if((typeof Buffer!="undefined")&&(Buffer["isBuffer"](n))){n=Array.prototype.slice.call(n,0);}else{n=n.concat();}if(n[0]==h){var o=(n.length<=hw.length)?true:false;var p=o?n.length:hw.length;if(v.D(hw,n,p)){if(o){if(this.eX[cI].oe!=null){f=this.eX[cI].oe.concat();e=this.eX[cI].of;og=this.eX[cI].oh;}else{if(this.eX[cI].jX!=null){f=be.dg(this.eX[cI].jX,n);}else{f=n.concat();}e=this.eX[cI].data;var og=0;}hw.splice(0,n.length);g=true;break;}else{var q=be.dg(this.eX[cI].jX,hw);n.splice(0,hw.length);var j={jX:q,nodeName:n,data:this.eX[cI].data,oe:this.eX[cI].oe,of:this.eX[cI].of,oh:this.eX[cI].oh};k.push(j);}}}}if(!g){this.cJ();}else{i.ki.data=e;i.dn=og;if((b[0]===162)&&(hw.length===0)&&((e[0]===97)||((e[0]===60)&&(e[1]===97)))){if(e[0]===97){i.dn=1;}else if((e[0]===60)&&(e[1]===97)){i.dn=2;}var r=i.jW();this.cJ(r);return;}i.eX=k;i.nO=f;if(f){i.jX=f.concat();}else{i.jX=null;}if(hw.length){i.target.push(hw);}i.cw=b;i.ob=this.ob;i.oi=this.eX[cI];var s=this;if((i.ki.data.length===1)&&(i.ki.data[0]===0)){i.oc(f,cP.e5,function(t,u){s.cJ(t,u);});}else{i.od(null,null,cP.e5,function(t,u){var Iw=e;s.cJ(t,u);});}}};cP.hO.prototype.oj=function(){var result=this.ok();this.jW(false);return result;};cP.hO.prototype.ok=function(){var a=this.eu();if(a===80){if((this.cw[0]===171)||(this.cw[0]===172)||(this.cw[0]===214)){return true;}return false;}else if(a===81){var b=this.jW();for(var cI=0;cI<this.h7.length;cI++){if(v.D(b,this.h7[cI])){return true;}}return false;}else if(a===82){var c=this.ok();var d=this.ok();return (c&&d);}else if(a===85){var e=this.jW();if(v.D(e,this.cw)){return true;}return false;}else if(a===93){return (!this.ok());}return false;};cP.hO.prototype.ol=function(a,b){if(a==null){a=this.jW();}var c=be.cv(a);var d=this.eX.length;if((b!==true)&&(this.dn<this.ki.data.length)){var e=this.dn;var f=new cP.jO(this,true);while(f.jP()){if(f.type===122){var g=this.dn;var nodeName=this.jW(true);var oh=this.dn;var tZ=this.jW(true);var h={jX:this.nO,nodeName:be.cv(nodeName),data:tZ,of:this.ki.data,oh:oh,oe:this.jX};this.eX.push(h);}}this.dn=e;}var i=be.cu(this.target);var j=be.dg(c,i);var k=this;var l=this.n6(j,this.cw,cP.e5,function(m,n){if(m){k.eX.splice(d);k.cJ(m,n);}else{var o=k.eX.length-1;var p=k.cT.gT(k);p.ob=k.ob;p.target=[j];p.nQ=k.nQ+1;if(p.nQ>cP.nv){k.cJ(null,[175]);}else{p.om([128],cP.e5,function(q,r){k.oo=p.oo;k.op=p.op;k.gF=p.gF;k.e2=p.e2;p.eX.splice(d);k.cJ(q,r);});}return true;}return true;});return true;};cP.hO.prototype.oq=function(a){if(a==null){a={};a.or=this.cx.length;a.data=[];}var b={};var c=this.jW();var d=this.jW();if((typeof Buffer!="undefined")&&(Buffer["isBuffer"](d))){d=Array.prototype.slice.call(d,0);}b.target=d.concat();var jX=d.concat();d=be.cv(d);var e=this.eX.length-1;var cI;var f;var g;var h=d.concat();for(var dz=0;dz<=e;dz++){if(v.D(this.eX[dz].nodeName,d,this.eX[dz].nodeName.length)){f=this.eX[dz].data.concat();g=this.eX[dz].jX;}}if(f==null){var i=this.dn;var j=new cP.jO(this,true);while(j.jP()){if(j.type===122){var k=this.jW();var l=v.a0(k,d);if(l.match==l.length){d.splice(0,l.match);if(d.length===0){f=this.jW();g=this.nO.concat();break;}else{this.jW(false);}}else{this.jW(false);}}}this.dn=i;}if(f){c=be.cv(c);var m={jX:g,cy:c,jY:jX,data:f,n7:true};this.cx.push(m);a.ot=this.cx.length-1;b.ou=this.cx.length-1;a.data.push(b);}return a;};cP.fb=function(a){var b=a.cw;if(b.length===1){if((b[0]===156)||(b[0]===163)||(b[0]===164)||(b[0]===214)||(b[0]===171)||(b[0]===172)){return false;}}return true;};cP.hO.prototype.ov=function(a,b,c,d){var e=this;while(a.jP()){if(a.type===122){c.push(122);var nodeName=a.g1.jW();for(var cI=0;cI<nodeName.length;cI++){c.push(nodeName[cI]);}var f=a.g1.dn;var g=a.g1.jW();var h=be.d2(b,nodeName);c.push(0);var i=cP.et(g);var j=new cP.jO(i);e.ov(j,h,[60],d,function(k,l){});}else{var k=a.g1.jW(true,a.type);for(var cI=0;cI<k.length;cI++){c.push(k[cI]);}}}c.push(62);d.push({ow:b,data:c});};cP.hO.prototype.ox=function(a,b,c){var d=this;while(a.jP()){if(a.type===122){var nodeName=a.g1.jW();var e=a.g1.jW();if(e[0]===0){var ow=be.d2(b.target,nodeName);var target=ow.concat();target=be.cv(target);if(target[0]===128){target.shift();}var f=target.concat();var g=this.cT.oy;g.gx(b,f,d,function(h,i){if(h){var j=cP.et(h);var k=new cP.jO(j);d.ox(k,i,function(){d.ox(a,b,c);});}else{console.log("??????????????");}});return;}}}c();};cP.hO.prototype.oz=function(a){var b=this.dn;this.dn=a;var c=this;if(this.cw[0]===156){c.cJ([1,1]);}else if(this.cw[0]===163){this.jW(false);c.cJ(this.ki.data.slice(a,this.dn));}else if((this.cw[0]===164)){var j_=[60];var d=new cP.jO(this,false);while(d.jP()){if(d.type===122){j_.push(d.type);j_=v.M(j_,j_.length,0,this.jW(true));this.jW(false);j_.push(0);}else{j_=v.M(j_,j_.length,0,this.jW(true,d.type));}}j_.push(62);c.cJ(j_);}else if(this.cw[0]===214){this.es([60,214,250,62],null,function(e,f){if(e==null){c.cJ(e,f);return;}var g=[];if(c.gE){var a=c.dn;c.jW(true);c.ki.data=v.M(c.ki.data,a,c.dn-a,e);g.push({ow:c.jX,data:c.ki.data});}else{var a=c.dn;c.jW();var h=e;c.ki.data=v.M(c.ki.data,a,c.dn-a,h);g.push({ow:c.jX,data:c.ki.data});}cP.oA(g.length-1,g,c,function(){c.cJ([1,1]);});});}else if(this.cw[0]===171){this.es([60,171,155,62],null,function(e,f){if(e==null){c.cJ(null,f);return;}e=be.cv(e);var g=false;var d=new cP.jO(c);var h;var i;var j=false;var k=c.ki.data[c.dn];var l=e;var m=e.slice(-2);if((m[0]===60)&&(m[1]===62)){l=l.slice(0,-2);}while(d.jP()){if(i==null){i=c.dn-1;}var b3=c.dn-1;var n=c.jW(true,d.type);n=be.cv(n);if(v.D(n,l,l.length)){j=true;}if((be.cK(n,e)===false)&&(h==null)){h=b3;}}if(h==null){h=c.dn-1;}if(!j){var o=c.ki.data;if(k===0){c.ki.data.splice(0,1);}c.ki.data=v.M(c.ki.data,h,0,e);if((k!==0)&&(k!==60)){c.ki.data=v.M(c.ki.data,h,0,60);c.ki.data=v.M(c.ki.data,h+1+e.length,0,62);}var o=c.ki.data;cP.oB(c.jX,o,c);}else{c.cJ([1,1]);}});}else if(this.cw[0]===172){console.log("DELETING");this.cG([60,172,155,62],null,function(e,f){if(e==null){c.cJ(null,f);return;}var g=v.aK(e);g=be.cv(g);var h=false;var i=c.ki.data;var j=0;var k=cP.et(i);k.dn=c.dn;var d=new cP.jO(k);while(d.jP()){var l=k.dn-1;var m=k.dn;k.jW(false,d.type);var n=c.ki.data.slice(l,k.dn);if(v.D(n,g,g.length)){h=true;c.ki.data=v.M(c.ki.data,l-j,k.dn-l,[]);j+=(k.dn-l);d.nZ=false;d.g1.dn=l;}}if(h){cP.oB(c.jX,c.ki.data,c);}else{c.cJ([1,1]);}});}else{this.dn=b;return false;}return true;};cP.oA=function(a,b,c,d){if(a<0){d();return;}var jX=b[a].ow;var data=b[a].data;var target=jX.concat();target=be.cv(target);if(target[0]===128){target.shift();}if(data.length===0){data.push(0);}if((target.length>0)&&(target[0]===145)){target.shift();var e=true;}if(c.f7==null){if(e){var f=c.cT.oy;}else{var f=c.cT.oC;}}else{var f=c.f7;}if(c.oi){c.oi.of=data;}if(f){f.gy(c.oD,target,data,c,function(g){cP.oA(a-1,b,c,d);});}else{c.ki.data.splice(0,c.ki.data.length);for(var cI=0;cI<data.length;cI++){c.ki.data.push(data[cI]);}c.ki.data=be.dh(c.ki.data);cP.oA(a-1,b,c,d);}};cP.oB=function(a,b,c){var target=a.concat();target=be.cv(target);if(target[0]===128){target.shift();}if(b.length===0){b.push(0);}if((target.length>0)&&(target[0]===145)){target.shift();var d=true;}if(c.f7==null){if(d){var e=c.cT.oy;}else{var e=c.cT.oC;}}else{var e=c.f7;}if(c.oi){c.oi.of=b;}if(e){e.gy(c.oD,target,b,c,function(f){c.cJ([1,1]);});}else{c.ki.data.splice(0,c.ki.data.length);for(var cI=0;cI<b.length;cI++){c.ki.data.push(b[cI]);}c.cJ([1,1]);}};cP.hO.prototype.om=function(a,b,c){this.oc(a,b,c,true);};cP.hO.prototype.oc=function(a,b,c,d){if(!this.cT.oC){c();return;}if(c!=null){this.gQ.push(c);}if(b!=null){this.gR.push(b);}var e=this;var target=a.concat();target=be.cv(target);if(target[0]===128){var f=be.cv(be.cu(this.target));if((f[1]===219)&&(this.cT.oC.gC)){var g=be.bf(f);var h=g.split("/");if(g.search("/company/paragonrobotics.com/")===0){if(g.search("/company/paragonrobotics.com/device/")===0){target=be.cv(be.cn(h.slice(1,8).join("/")));this.target=[be.cv(be.cn(h.slice(8).join("/")))];}else{target=be.cv(be.cn(h.slice(1,4).join("/")));this.target=[be.cv(be.cn(h.slice(4).join("/")))];}}else{target=f.slice(1);this.target=[];}}else{target.shift();}}var i=target.concat();if((target.length>0)&&(target[0]===145)&&(this.cT.oy!=null)){i.shift();var j=this.cT.oy;}else{var j=this.cT.oC;}var k=false;if(i.length===0){e.oD=null;}j.gx(e.oD,i,this,function(l,m){if(l){try{e.ki=new cP.jH(l);if(e.ki.data.length===0){throw new Error("Load data length is zero");}else if(e.ki.data[0]===0){}else if((e.ki.data.length>0)&&(e.ki.data[0]!==60)){if((typeof Buffer!="undefined")&&(Buffer["isBuffer"](e.ki.data))){var n=new Buffer(e.ki.data.length+2);n[0]=60;n[n.length-1]=62;e.ki.data["copy"](n,1,0,e.ki.data.length);e.ki.data=n;}else{e.ki.data.push(62);e.ki.data.unshift(60);}}e.jX=target.concat();e.oD=m;e.nO=target.concat();e.dn=0;e.process(false,true,d);if(k){while(e.cT.g2.g3===true){cP.g4(e.cT.g2);}}}catch(o){console.log("Error:"+o.stack);}}else{while(e.cT.g2.g3===true){cP.g4(e.cT.g2);}}});k=true;};cP.hO.prototype.oE=function(a,b,c,d){if(a[0]===97){if((b)&&(this.cw[0]===162)){this.cJ(a.slice(1));return true;}}else if(a[0]===101){if((b===true)||(c===2)){if(this.ol(a.slice(1),(d!==60))){return true;}}}else if(a[0]===104){this.oF("19: permission error");return true;}return false;};cP.hO.prototype.od=function(a,b,c,d){this.gQ.push(d);this.gR.push(c);this.process(a,b);};cP.hO.prototype.process=function(a,b,c){var d;var e;var f;var g;var h;var i=false;if((this.target.length===0)||(this.target[this.target.length-1].length===0)){var j=true;if(this.cw[0]!==162){if(this.oz(this.dn)){return;}}}else{var j=false;}var k=this.cx.length;var l=this.dn;if(c){if(this.target.length&&(this.target[this.target.length-1][0]===128)){this.target[this.target.length-1].shift();if(this.target[this.target.length-1].length===0){this.target.pop();if(this.target.length===0){var j=true;if((this.cw[0]!==162)&&(this.oz(this.dn))){return;}}}else{var m=be.cu(this.target);m=be.cv(m);var result=false;if(m[0]===248){result=d9.fk(this);}else if(m[0]===175){result=d9.fi(this);}else if(m[0]===153){result=d9.fj(this);}else if(m[0]===154){result=d9.fg(this);}else if(m[0]===159){result=d9.fh(this);}else if(m[0]===156){result=d9.fa(this);}else if(m[0]===146){this.target[this.target.length-1].shift();var n=this.target[this.target.length-1][0];for(var cI=0;cI<this.cT.cR.length;cI++){var o=this.cT.cR[cI].f6;if(v.D(o,this.target[this.target.length-1],o.length)){this.target[this.target.length-1].splice(0,o.length);var p=false;var q=this;if(this.cT.cR[cI].ez){this.cT.cR[cI].ez(this,function(r){r.cJ();if(p){while(r.cT.g2.g3===true){cP.g4(r.cT.g2);}}});}else{this.cT.gz(this,this.cT.cR[cI].cS.cT);this.cT.cR[cI].cS.fE(this,function(r,s){if(s){cP.gN(r,r.gF,r.e2);}if(p){while(r.cT.g2.g3===true){cP.g4(r.cT.g2);}}});}p=true;return;}}}if(result){return;}}}}var r=1;var s=this.dn;var n=this.eu();main_process_loop:while(1){if(n!==60){g=n;}else{g=this.nY();}if((j)&&((g===62)||(g>95)||((n!==60)&&(g!==95)))){if((this.cw[0]!==162)&&(this.oz(s))){return;}}if((g===122)&&(!j)&&(r===1)){f=this.jW();f=Array["from"](f);d=v.a0(f,this.target[this.target.length-1]);if(d.match==d.length){this.target[this.target.length-1].splice(0,d.length);while(this.target.length&&(this.target[this.target.length-1].length===0)){this.target.pop();}if(this.target.length===0){j=true;}var g=this.nY();if((g===0)&&(this.cT.oC)){if(this.nO){var t=be.dg(this.nO,f);this.oc(t);}return;}else if((this.ki.data[this.dn+4]===170)&&(this.ki.data[this.dn+3]===157)&&(this.ki.data[this.dn+2]===128)&&(this.ki.data[this.dn]===101)){if(this.nO){var t=be.dg(this.nO,f);this.oc(t);}return;}else{if(this.nO){this.nO=be.dg(this.nO,f);}n=g;s=this.dn-1;}}else{this.jW(false);}continue;}else if((g===94)&&(r===1)){h=this.oq(h);}else if((g===95)&&(r===1)){if(this.oj()){var u=this.jW();this.jW(false);if(this.oE(u,j,r,n)){return;}}else{this.jW(false);var Iw=this.jW();if(this.oE(Iw,j,r,n)){return;}}}else if((g===97)&&(r===1)){var Ix=this.jW(true,g);if(this.oE(Ix,j,r,n)){return;}}else if((g===101)&&(r===2)){var Ix=this.jW(true,g);var Iy=be.cv(be.cu(this.target));if(this.oE(Ix,j,r,n)){return;}}else if((g===62)||(n!==60)){if(r===2){break main_process_loop;}else{this.dn=s;r=2;n=this.eu();}}else{this.jW(false,g);}}this.cJ(null,[175]);};cP.et=function(a){var b=new cP.jH(a);var c=new cP.hO(b);c.oG=true;return c;};cP.oH=function(a){a=be.cv(a);var b=new cP.jH(a);var c=new cP.hO(b);return c;};cP.hO.prototype.dI=function(a,b){var c=[];c=c.concat(60,97,b,62);var d={jX:null,cy:be.cv(a),jY:[],data:c};this.cx.push(d);};cP.hO.prototype.e$=function(){this.cx.pop();};cP.hO.prototype.eZ=function(a,b){var c={jX:null,cy:be.cv(a),jY:[],data:b};this.cx.push(c);};cP.hO.prototype.oI=function(a,b){var c=[];c=c.concat(60,97,b,62);var d={jX:null,nodeName:be.cv(a),data:c};this.eX.push(d);};cP.hO.prototype.oJ=function(a,b){var c={jX:null,nodeName:be.cv(a),data:b};this.eX.push(c);};cP.hO.prototype.oK=function(){this.eX.pop();};cP.hO.prototype.eO=function(a,b,c,d){var e=this;var oM=be.cv(b.concat());if(oM[0]!==128){this.e4(a,b,c,d);}else{if(cP.nu){for(var cI=0;cI<oL.length;cI++){if(!v.D(oL[cI].oM,oM)){continue;}if(!v.D(oL[cI].message,a)){continue;}if(!v.D(oL[cI].eX,this.eX)){continue;}if(!v.D(oL[cI].cx,this.cx)){continue;}this.gF=oL[cI].gF;this.e2=oL[cI].e2;d();return;}}this.cw=a;this.target=[oM];if(cP.nu){var f={};f.message=a.concat();f.oM=oM.concat();f.eX=this.eX.concat();f.cx=this.cx.concat();}try{if((this.oG)||(!this.cT.oC)){this.dn=0;if(d!=null){this.gQ.push(d);}if(c!=null){this.gR.push(c);}this.process(false,true);}else{var g=this.cx.length;this.om([128],c,function(h,i){for(var j=e.cx.length-1;j>g-1;j--){if(e.cx[j].n7){e.cx.splice(j,1);}}d(h,i);});}}catch(h){this.cJ(null,[60,175,162,62]);}}while(this.cT.g2.g3===true){cP.g4(this.cT.g2);}};cP.hO.prototype.cX=function(a,b,c){var d=[];b=be.di(b);if(this.oN){d=d.concat(122,b,0);}else{d=d.concat(122,b,60,62);}this.oO(a,d,c);};cP.hO.prototype.oO=function(a,b,c){b=be.dh(b);this.dI([60,171,155,62],b);var d=this;this.eO([171],a,cP.eP,function(e,f){d.cx.pop();c(e,f);});};cP.hO.prototype.oP=function(a,b){var c=this;this.oQ(a,function(d,e){if(d===true){c.dN(a,function(f,g){var h=cP.de(f);var i=1;while(true){if(h[i]==null){break;}i++;}c.cX(a,be.cj(i),function(j,k){if(j===true){var l=be.d2(a,be.cj(i));b(l,i);return;}b();});});}else{b(null,be.cs("Parent does not exist"));}});};cP.hO.prototype.cW=function(a,b,c){var d=[];d=d.concat(122,b);this.oR(a,d,c);};cP.hO.prototype.oR=function(a,b,c){var d=be.df(b);this.dI([60,172,155,62],d);var e=this;this.eO([172],a,cP.eP,function(f,g){e.cx.pop();c(f,g);});};cP.hO.prototype.oS=function(a,b,c,d){var e=this;var f=be.d2(a,b);e.dL(f,6000000,function(g,h){if(g==null){d(null,h);return;}var i=g;e.cW(a,b,function(j){e.cX(a,c,function(k){var l=be.d2(a,c);e.cZ(l,i,function(m){d();});});});});};cP.hO.prototype.oT=function(a,b){this.eO([162],a,cP.e5,b);};cP.hO.prototype.oQ=function(a,b){this.eO([156],a,cP.eP,b);};cP.hO.prototype.dN=function(a,b){this.eO([164],a,cP.e5,b);};cP.hO.prototype.cZ=function(a,b,c,d){var e=cP.et(b);var f=new cP.jO(e);var g=[];var h=this;var i=false;var d=(d!=null)?d:i;cP.oU(d,null,[],a,f,[60],0,g,function(j,k){h.oV(g,c);});};cP.hO.prototype.oV=function(a,b){if(a.length===0){b(true);}else{var c=this;var d=a.pop();c.dI([60,214,250,62],d.data);c.eO([214],d.target,cP.eP,function(e,f){if(f!=null){b(false);return;}c.cx.pop();if(a.length%50!==49){c.oV(a,b);}else{v.nextTick(function(){c.oV(a,b);});}});}};cP.oU=function(a,b,c,d,e,f,g,h,i){var j={target:d,hb:c,b3:g,oW:b,children:[]};if(b!=null){b.children.push(j);}var k=e.g1.ki.data;if((k.length===1)&&(k[0]===0)){j.data=[0];j.hc=true;}else{while(e.jP()){if(e.type===122){f.push(122);var nodeName=e.g1.jW();for(var cI=0;cI<nodeName.length;cI++){f.push(nodeName[cI]);}var l=e.g1.dn;var m=e.g1.jW();if(a||(m.length>2000000)){f.push(0);var n=cP.et(m);var o=new cP.jO(n);var p=be.dg(d,nodeName);cP.oU(a,j,nodeName,p,o,[60],l,h,function(q,r){});}else{for(var cI=0;cI<m.length;cI++){f.push(m[cI]);}}}else{var q=e.g1.jW(true,e.type);for(var cI=0;cI<q.length;cI++){f.push(q[cI]);}}}f.push(62);j.data=f.concat();}if(h!=null){h.push(j);}i(j);};cP.hO.prototype.oX=function(a,b,c,d,e){var f=this;this.eO([163],a,cP.e5,function(g,h){if(h){d(null,[175]);return;}if(g==null){g=[0];}if((c.length+g.length)>b){d(null,[236]);return;}var i=g;var j=cP.et(g);var k=new cP.jO(j);f.oY(k,a,b,c,d);});};cP.hO.prototype.oY=function(a,b,c,d,e){var f=this;if(a.jP()){if(a.type===122){d.push(122);var nodeName=a.g1.jW();for(var cI=0;cI<nodeName.length;cI++){d.push(nodeName[cI]);}var g=a.g1.jW();d.push(60);v.nextTick(function(){if(g[0]===0){var h=be.dg(b,nodeName);f.oX(h,c,d,function(i,j){if(j!=null){d.pop();d.push(0);}f.oY(a,b,c,d,e);});}else{var i=cP.et(g);var j=new cP.jO(i);f.oY(j,b,c,d,function(){f.oY(a,b,c,d,e);});}});}else{var h=a.g1.jW(true,a.type);for(var i=0;i<h.length;i++){d.push(h[i]);}f.oY(a,b,c,d,e);}}else{d.push(62);e();}};cP.hO.prototype.dL=function(a,b,c){if(b==null){b=1000000;}var d=[60];this.oX(a,b,d,function(e,f){if(f){c(e,f);}else{c(d);}},true);};cP.hO.prototype.oZ=function(a,b){var c=this;this.eO([163],a,cP.e5,function(d,e){if(e){b(null,[175]);return;}b(d);});};cP.hO.prototype.fy=function(a,b,c){var d=[];d=d.concat(60,97,b,62);this.fr(a,d,c);};cP.hO.prototype.fr=function(a,b,c){this.dI([60,214,250,62],b);var d=this;this.eO([214],a,cP.eP,function(e,f){d.cx.pop();c(e,f);});};cP.hO.prototype.lw=function(a,b,c){for(var cI=0;cI<b.length;cI++){var d=[];d=d.concat(60,122,60,147,200,62,60,97,b[cI],62,62);this.eZ(b[cI],d);}var e=be.dg(a,[60,147,200,62]);this.o_(e,null,function(f,g){if(f==null){c(f,g);}else{for(var cI=0;cI<b.length;cI++){if(v.D(b[cI],f)){c(cI);return;}}c(null,[60,62]);}});};cP.hO.prototype.cV=function(a,b,c){var d=this;var e=a.concat();e=be.cv(e);this.kj(e,function(f){var g=[];g=g.concat(60,101,b,62);d.fr(a,g,c);});};cP.hO.prototype.o$=function(a,b){var c=this;var d=a.concat();d=be.cv(d);this.kj(d,function(e){c.fr(a,[0],b);});};cP.hO.prototype.o0=function(a,b,c){var d=this;var e=a.concat();e=be.cv(e);e.splice(0,1);this.cX([128],e,function(f){var g=[];g=g.concat(101,b);d.fr(a,g,c);});};cP.hO.prototype.mQ=function(a,b){this.oR(a,[101],b);};cP.hO.prototype.o_=function(a,b,c){if(b==null){b=[162];}this.eO(b,a,cP.e5,c);};cP.hO.prototype.o1=function(a,b){var c=this;this.dN(a,function(d,e){if(d&&(d[1]===97)){var dz=d.slice(2,-1);var BH=be.dk(dz,0);b(BH.value,e);}else if(d&&(d[1]===101)){var f=be.d2(a,[200]);var g=be.d2(a,[201]);c.o1(f,function(h,i){if(h==null){b(null,i);return;}c.o1(g,function(j,k){if(j==null){b(null,k);return;}b(""+h+j);});});}else{b(null,e);}});};cP.hO.prototype.dJ=function(a,b){this.eO([162],a,cP.nw,b);};cP.hO.prototype.kj=function(a,b){var c=this;var d=be.cv(a);c.oQ(d,function(e){if(e===true){b(true);}else{var f=[];var g=d.concat();cP.o2(c,g,f,b);}});};cP.o2=function(a,b,c,d){var e=cP.et(b);var f=[];var g=[];for(var cI=0;;cI++){var h=e.jW(true);if(e.dn>=e.ki.data.length){g=v.M(h,null,0,c);break;}else{f=v.M(f,null,0,h);}}if(g.length===0){d(false);}else{a.oQ(f,function(i){if(i===true){var j=be.dh(g);a.cX(f,j,function(k){d(true);});}else{cP.o2(a,f,g,d);}});}};cP.hO.prototype.o3=function(a,b,c){if(a==null){this.fM(function(d){c(null,b);});}else{this.destroy(function(d){if(d==null){c(null,b);}else{c(a,b);}});}};cP.hO.prototype.destroy=function(a){this.cT.gA(this,true,a);};cP.hO.prototype.fM=function(a){this.cT.gA(this,false,a);};cP.cT=function(a,b,c,d){this.o4=[];this.g2={};this.o5=[];this.h7=[];this.cR=[];this.id=cP.nz++;this.o6=[];this.o7=[];this.o8=d;if((a==null)&&(cP.cQ)){a=cP.cQ.oC;}if(cP.cQ==null){cP.cQ=this;}if(a==null){this.oC=f4.f5([60,122,154,0,122,156,0,122,159,0,122,175,0,122,182,0,122,145,0,122,219,0,122,243,0,62]);}else{this.oC=a;}this.oy=b;this.lN(new d9.cS(),[60,128,181,62]);if(c!==false){this.lN(new f2.cS(a),[60,128,243,62]);}};cP.o9=function(a){var b=new cP.cT(f4.f5(a),null);return b;};cP.cT.prototype.lN=function(a,b){b=be.cv(b);if(b[0]===128){b.shift();}var c={f6:b,cS:a};for(var cI=0;cI<this.cR.length;cI++){if(v.D(this.cR[cI].f6,b)){this.cR.splice(cI,1);cI--;}}this.cR.push(c);};cP.cT.prototype.cU=function(a,b){b=be.cv(b);if(b[0]===128){b.shift();}var c={f6:b,ez:a};this.cR.push(c);};cP.cT.prototype.lU=function(a){var b=a.concat();b=be.cv(b);for(var cI=0;cI<this.cR.length;cI++){if(v.D(this.cR[cI].f6,b)){this.cR.splice(cI,1);}}};cP.cT.prototype.fE=function(a,b,c){try{var d=a.cT;a.cT=this;var e=be.cv(be.cu(a.target));a.target=[];a.target.push(e);var f=c?[128]:[128,145];if(this.hj&&(a.cw[0]===170)){this.hj.process(a,false,function(g){if(b!=null){b(a);}});}else if(this.hj&&(a.cw[0]===144)){this.hj.process(a,true,function(g){if(b!=null){b(a);}});}else{a.om(f,cP.gS,function(g){a.cT=d;var h=b;b=null;h(g);});}while(this.g2.g3===true){cP.g4(this.g2);}}catch(g){console.log("Error:"+g+"\n"+g.stack);if(b!=null){b(a);}}};cP.cT.prototype.pa=function(a,b){this.o5.push({hU:a,i6:b});};cP.cT.prototype.pb=function(){this.o5.pop();};cP.cT.prototype.pc=function(a){for(var cI=0;cI<this.o5.length;cI++){if(v.D(this.o5[cI].hU,a)){return this.o5[cI].i6;}}};cP.cT.prototype.pd=function(a){this.h7.push(a);};cP.cT.prototype.pe=function(){this.h7.pop();};cP.cT.prototype.pf=function(a){for(var cI=0;cI<this.o5.length;cI++){if(v.D(a,this.o5[cI].hU)){return this.o5[cI].i6;}}};cP.cT.prototype.c1=function(a){if((a==null)&&(this.pg!=null)){a=new cP.jH(this.pg);}var b=new cP.hO(a);b.cT=this;for(var cI=0;cI<this.h7.length;cI++){b.h7.push(this.h7[cI].concat());}b.id=cP.nA++;return b;};cP.cT.prototype.gT=function(a){var b=new cP.hO();b.kN=a.kN;b.cx=a.cx;b.eX=a.eX;var c=be.cu(a.target);c=be.cv(c);b.target=[c];b.cw=a.cw;b.nQ=a.nQ+1;b.cT=a.cT;b.id=a.id;b.dH=a.dH;b.nP=a.nP;b.gF=a.gF;b.e2=a.e2;b.h7=a.h7;b.gK=a.gK;b.c2=a.c2;b.gQ=a.gQ.concat();b.gR=a.gR.concat();return b;};cP.cT.prototype["returnFullDuplicateState"]=function(a){var b=new cP.hO(new cP.jH(a.ki.data));b.kN=a.kN;b.cx=v.ac(a.cx);b.eX=v.ac(a.eX);b.target=[];b.target=v.ac(a.target);b.cw=a.cw;b.nQ=a.nQ;b.cT=a.cT;b.id=a.id;b.dH=a.dH;b.nP=a.nP;b.gF=a.gF;b.e2=a.e2;b.h7=a.h7;b.c2=a.c2;b.gQ=a.gQ.concat();b.gR=a.gR.concat();return b;};cP.cT.prototype.gz=function(a,b){if(b==null){return;}for(var cI=0;cI<this.o6.length;cI++){if(this.o6[cI].ph==a.id){for(var dz=0;dz<this.o6[cI].hB.length;dz++){if(this.o6[cI].hB[dz]===b){return;}}this.o6[cI].hB.push(b);}}this.o6.push({ph:a.id,hB:[b]});};cP.cT.prototype.gA=function(a,b,c){var d=this;for(var cI=0;cI<this.o6.length;cI++){if(this.o6[cI].ph==a.id){var e=this.o6[cI];d.o6.splice(cI,1);this.pi(0,e.hB,true,a,c);return;}}if(c){c(true);}};cP.cT.prototype.pi=function(a,b,c,d,e){if(a>=b.length){if(e){e(true);}return;}var f=this;b[a].gA(d,c,function(g){f.pi(a+1,b,c,d,e);});};cP.cT.prototype.fy=function(a,b,c){var d=this.c1();d.fy(a,b,function(e,f){d.o3(e,f,c);});};cP.cT.prototype.fr=function(a,b,c){var d=this.c1();d.fr(a,b,function(e,f){d.o3(e,f,c);});};cP.cT.prototype.dN=function(a,b){var c=this.c1();c.dN(a,function(d,e){c.o3(d,e,b);});};cP.cT.prototype.cZ=function(a,b,c,d){var e=this.c1();e.cZ(a,b,function(f,g){e.o3(f,g,c);},d);};cP.cT.prototype.dL=function(a,b,c){var d=this.c1();d.dL(a,b,function(e,f){d.o3(e,f,c);});};cP.cT.prototype.kj=function(a,b){var c=this.c1();c.kj(a,function(d,e){c.o3(d,e,b);});};cP.cT.prototype.lw=function(a,b,c){var d=this.c1();d.lw(a,b,function(e,f){d.o3(e,f,c);});};cP.cT.prototype.cV=function(a,b,c){var d=this.c1();d.cV(a,b,function(e,f){d.o3(e,f,c);});};cP.cT.prototype.o0=function(a,b,c){var d=this.c1();d.o0(a,b,function(e,f){d.o3(e,f,c);});};cP.cT.prototype.mQ=function(a,b){var c=this.c1();c.mQ(a,function(d,e){c.o3(d,e,b);});};cP.cT.prototype.o_=function(a,b,c){var d=this.c1();d.o_(a,b,function(e,f){d.o3(e,f,c);});};cP.cT.prototype.oT=function(a,b){var c=this.c1();c.oT(a,function(d,e){c.o3(d,e,b);});};cP.cT.prototype.eO=function(a,b,c,d){var e=this.c1();e.eO(a,b,c,function(f,g){e.o3(f,g,d);});};cP.cT.prototype.dJ=function(a,b){var c=this.c1();c.dJ(a,function(d,e){c.o3(d,e,b);});};cP.cT.prototype.pj=function(a,b){var c=this.c1();c.dI([170,153],be.cj(Date.now()+1000*60*60*60));c.dJ(a,function(d,e){c.o3(d,e,b);});};cP.cT.prototype.o1=function(a,b){var c=this.c1();c.o1(a,function(d,e){c.o3(d,e,b);});};cP.cT.prototype.cX=function(a,b,c){var d=this.c1();d.cX(a,b,function(e,f){d.o3(e,f,c);});};cP.cT.prototype.oP=function(a,b){var c=this.c1();c.oP(a,function(d,e){if(d==null){var v0=null;var v1=[182];}else{v0=[60,62];}c.o3(v0,v1,function(){b(d,e);});});};cP.cT.prototype.oO=function(a,b,c){var d=this.c1();d.oO(a,b,function(e,f){d.o3(e,f,c);});};cP.cT.prototype.cW=function(a,b,c){var d=this.c1();d.cW(a,b,function(e,f){d.o3(e,f,c);});};cP.cT.prototype.oR=function(a,b,c){var d=this.c1();d.oR(a,b,function(e,f){d.o3(e,f,c);});};cP.cT.prototype.oQ=function(a,b){var c=this.c1();c.oQ(a,function(d,e){c.o3(d,e,b);});};/* (C) 2021 Halo Automation Systems LLC; This software is proprietary and is NOT to be distributed or shared in any way.*/"use strict";var aZ={};aZ.pk=function(a,b){this.pl=a;this.pm=b;};aZ.pn=function(a,b){if(b==null){b=8;}var c=[];var d=(1<<b)-1;var length=a.length*b;for(var cI=0;cI<length;cI+=b){c[cI>>5]|=(a.charCodeAt(cI/b)&d)<<(32-b-cI%32);}return c;};aZ.po=function(a){var b=[];var length=a.length;for(var cI=0;cI<length;cI+=2){var c=parseInt(a.substr(cI,2),16);if(!isNaN(c)){b[cI>>3]|=c<<(24-(4*(cI%8)));}else{return "INVALID HEX STRING";}}return b;};aZ.pp=function(a,b){var c=b?"0123456789ABCDEF":"0123456789abcdef";var d="";var length=a.length*4;for(var cI=0;cI<length;cI++){d+=c.charAt((a[cI>>2]>>((3-cI%4)*8+4))&15)+c.charAt((a[cI>>2]>>((3-cI%4)*8))&15);}return d;};aZ.pq=function(a,b){var c=[];var length=a.length*4;for(var cI=0;cI<length;cI++){var d=((a[cI>>2]>>((3-cI%4)*8+4))&15)*16+((a[cI>>2]>>((3-cI%4)*8))&15);c.push(d);}return c;};aZ.pr=function(a){var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var c="";var length=a.length*4;for(var cI=0;cI<length;cI+=3){var d=(((a[cI>>2]>>8*(3-cI%4))&255)<<16)|(((a[cI+1>>2]>>8*(3-(cI+1)%4))&255)<<8)|((a[cI+2>>2]>>8*(3-(cI+2)%4))&255);for(var dz=0;dz<4;dz++){if(cI*8+dz*6>a.length*32){c+="=";}else{c+=b.charAt((d>>6*(3-dz))&63);}}}return c;};aZ.ps=function(a,b){if(b<32){return (a<<b)|(a>>>(32-b));}else{return a;}};aZ.pt=function(a,b){if(b<32){return (a>>>b)|(a<<(32-b));}else{return a;}};aZ.pu=function(a,b){if(b<32){return new aZ.pk((a.pl>>>b)|(a.pm<<(32-b)),(a.pm>>>b)|(a.pl<<(32-b)));}else if(b===32){return new aZ.pk(a.pm,a.pl);}else{return aZ.pu(aZ.pu(a,32),b-32);}};aZ.pv=function(a,b){if(b<32){return a>>>b;}else{return 0;}};aZ.pw=function(a,b){if(b<32){return new aZ.pk(a.pl>>>b,a.pm>>>b|(a.pl<<(32-b)));}else if(b===32){return new aZ.pk(0,a.pl);}else{return aZ.pw(aZ.pw(a,32),b-32);}};aZ.px=function(a,b,c){return a^b^c;};aZ.py=function(a,b,c){return (a&b)^(~a&c);};aZ.pz=function(a,b,c){return new aZ.pk((a.pl&b.pl)^(~a.pl&c.pl),(a.pm&b.pm)^(~a.pm&c.pm));};aZ.pA=function(a,b,c){return (a&b)^(a&c)^(b&c);};aZ.pB=function(a,b,c){return new aZ.pk((a.pl&b.pl)^(a.pl&c.pl)^(b.pl&c.pl),(a.pm&b.pm)^(a.pm&c.pm)^(b.pm&c.pm));};aZ.pC=function(a){return aZ.pt(a,2)^aZ.pt(a,13)^aZ.pt(a,22);};aZ.pD=function(a){var b=aZ.pu(a,28);var c=aZ.pu(a,34);var d=aZ.pu(a,39);return new aZ.pk(b.pl^c.pl^d.pl,b.pm^c.pm^d.pm);};aZ.pE=function(a){return aZ.pt(a,6)^aZ.pt(a,11)^aZ.pt(a,25);};aZ.pF=function(a){var b=aZ.pu(a,14);var c=aZ.pu(a,18);var d=aZ.pu(a,41);return new aZ.pk(b.pl^c.pl^d.pl,b.pm^c.pm^d.pm);};aZ.pG=function(a){return aZ.pt(a,7)^aZ.pt(a,18)^aZ.pv(a,3);};aZ.pH=function(a){var b=aZ.pu(a,1);var c=aZ.pu(a,8);var d=aZ.pw(a,7);return new aZ.pk(b.pl^c.pl^d.pl,b.pm^c.pm^d.pm);};aZ.pI=function(a){return aZ.pt(a,17)^aZ.pt(a,19)^aZ.pv(a,10);};aZ.pJ=function(a){var b=aZ.pu(a,19);var c=aZ.pu(a,61);var d=aZ.pw(a,6);return new aZ.pk(b.pl^c.pl^d.pl,b.pm^c.pm^d.pm);};aZ.pK=function(a,b){var c=(a&65535)+(b&65535);var d=(a>>>16)+(b>>>16)+(c>>>16);return ((d&65535)<<16)|(c&65535);};aZ.pL=function(a,b,c,d){var e=(a&65535)+(b&65535)+(c&65535)+(d&65535);var f=(a>>>16)+(b>>>16)+(c>>>16)+(d>>>16)+(e>>>16);return ((f&65535)<<16)|(e&65535);};aZ.pM=function(a,b,c,d,e){var f=(a&65535)+(b&65535)+(c&65535)+(d&65535)+(e&65535);var g=(a>>>16)+(b>>>16)+(c>>>16)+(d>>>16)+(e>>>16)+(f>>>16);return ((g&65535)<<16)|(f&65535);};aZ.pN=function(a,b){var c=(a.pm&65535)+(b.pm&65535);var d=(a.pm>>>16)+(b.pm>>>16)+(c>>>16);var pm=((d&65535)<<16)|(c&65535);c=(a.pl&65535)+(b.pl&65535)+(d>>>16);d=(a.pl>>>16)+(b.pl>>>16)+(c>>>16);var pl=((d&65535)<<16)|(c&65535);return new aZ.pk(pl,pm);};aZ.pO=function(a,b,c,d){var e=(a.pm&65535)+(b.pm&65535)+(c.pm&65535)+(d.pm&65535);var f=(a.pm>>>16)+(b.pm>>>16)+(c.pm>>>16)+(d.pm>>>16)+(e>>>16);var pm=((f&65535)<<16)|(e&65535);e=(a.pl&65535)+(b.pl&65535)+(c.pl&65535)+(d.pl&65535)+(f>>>16);f=(a.pl>>>16)+(b.pl>>>16)+(c.pl>>>16)+(d.pl>>>16)+(e>>>16);var pl=((f&65535)<<16)|(e&65535);return new aZ.pk(pl,pm);};aZ.pP=function(a,b,c,d,e){var f=(a.pm&65535)+(b.pm&65535)+(c.pm&65535)+(d.pm&65535)+(e.pm&65535);var g=(a.pm>>>16)+(b.pm>>>16)+(c.pm>>>16)+(d.pm>>>16)+(e.pm>>>16)+(f>>>16);var pm=((g&65535)<<16)|(f&65535);f=(a.pl&65535)+(b.pl&65535)+(c.pl&65535)+(d.pl&65535)+(e.pl&65535)+(g>>>16);g=(a.pl>>>16)+(b.pl>>>16)+(c.pl>>>16)+(d.pl>>>16)+(e.pl>>>16)+(f>>>16);var pl=((g&65535)<<16)|(f&65535);return new aZ.pk(pl,pm);};aZ.pQ=function(a,b){var c=[];var yd;var yi;var Bp;var Bq;var v1;var d;var e=aZ.py;var f=aZ.px;var g=aZ.pA;var h=aZ.ps;var i=aZ.pK;var j=aZ.pM;var k=[1732584193,4023233417,2562383102,271733878,3285377520];var l=[1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782];a[b>>5]|=128<<(24-b%32);a[((b+1+64>>9)<<4)+15]=b;var m=a.length;for(var cI=0;cI<m;cI+=16){yd=k[0];yi=k[1];Bp=k[2];Bq=k[3];v1=k[4];for(var CB=0;CB<80;CB++){if(CB<16){c[CB]=a[CB+cI];}else{c[CB]=h(c[CB-3]^c[CB-8]^c[CB-14]^c[CB-16],1);}if(CB<20){d=j(h(yd,5),e(yi,Bp,Bq),v1,l[CB],c[CB]);}else if(CB<40){d=j(h(yd,5),f(yi,Bp,Bq),v1,l[CB],c[CB]);}else if(CB<60){d=j(h(yd,5),g(yi,Bp,Bq),v1,l[CB],c[CB]);}else{d=j(h(yd,5),f(yi,Bp,Bq),v1,l[CB],c[CB]);}v1=Bq;Bq=Bp;Bp=h(yi,30);yi=yd;yd=d;}k[0]=i(yd,k[0]);k[1]=i(yi,k[1]);k[2]=i(Bp,k[2]);k[3]=i(Bq,k[3]);k[4]=i(v1,k[4]);}return k;};aZ.pR=function(a,b,c){var d=[];var yd;var yi;var Bp;var Bq;var v1;var e;var BG;var f;var qa;var qb;var g;var h;var i;var j;var k;var l;var m;var n;var o;var p;var q;var r;var s;var t;var u;var Iw;if(c==="SHA-224"||c==="SHA-256"){h=64;i=((b+1+64>>9)<<4)+15;j=16;k=1;u=Number;l=aZ.pK;m=aZ.pL;n=aZ.pM;o=aZ.pG;p=aZ.pI;q=aZ.pC;r=aZ.pE;t=aZ.pA;s=aZ.py;Iw=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];if(c==="SHA-224"){g=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428];}else{g=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];}}else if(c==="SHA-384"||c==="SHA-512"){h=80;i=((b+1+128>>10)<<5)+31;j=32;k=2;u=aZ.pk;l=aZ.pN;m=aZ.pO;n=aZ.pP;o=aZ.pH;p=aZ.pJ;q=aZ.pD;r=aZ.pF;t=aZ.pB;s=aZ.pz;Iw=[new aZ.pk(1116352408,3609767458),new aZ.pk(1899447441,602891725),new aZ.pk(3049323471,3964484399),new aZ.pk(3921009573,2173295548),new aZ.pk(961987163,4081628472),new aZ.pk(1508970993,3053834265),new aZ.pk(2453635748,2937671579),new aZ.pk(2870763221,3664609560),new aZ.pk(3624381080,2734883394),new aZ.pk(310598401,1164996542),new aZ.pk(607225278,1323610764),new aZ.pk(1426881987,3590304994),new aZ.pk(1925078388,4068182383),new aZ.pk(2162078206,991336113),new aZ.pk(2614888103,633803317),new aZ.pk(3248222580,3479774868),new aZ.pk(3835390401,2666613458),new aZ.pk(4022224774,944711139),new aZ.pk(264347078,2341262773),new aZ.pk(604807628,2007800933),new aZ.pk(770255983,1495990901),new aZ.pk(1249150122,1856431235),new aZ.pk(1555081692,3175218132),new aZ.pk(1996064986,2198950837),new aZ.pk(2554220882,3999719339),new aZ.pk(2821834349,766784016),new aZ.pk(2952996808,2566594879),new aZ.pk(3210313671,3203337956),new aZ.pk(3336571891,1034457026),new aZ.pk(3584528711,2466948901),new aZ.pk(113926993,3758326383),new aZ.pk(338241895,168717936),new aZ.pk(666307205,1188179964),new aZ.pk(773529912,1546045734),new aZ.pk(1294757372,1522805485),new aZ.pk(1396182291,2643833823),new aZ.pk(1695183700,2343527390),new aZ.pk(1986661051,1014477480),new aZ.pk(2177026350,1206759142),new aZ.pk(2456956037,344077627),new aZ.pk(2730485921,1290863460),new aZ.pk(2820302411,3158454273),new aZ.pk(3259730800,3505952657),new aZ.pk(3345764771,106217008),new aZ.pk(3516065817,3606008344),new aZ.pk(3600352804,1432725776),new aZ.pk(4094571909,1467031594),new aZ.pk(275423344,851169720),new aZ.pk(430227734,3100823752),new aZ.pk(506948616,1363258195),new aZ.pk(659060556,3750685593),new aZ.pk(883997877,3785050280),new aZ.pk(958139571,3318307427),new aZ.pk(1322822218,3812723403),new aZ.pk(1537002063,2003034995),new aZ.pk(1747873779,3602036899),new aZ.pk(1955562222,1575990012),new aZ.pk(2024104815,1125592928),new aZ.pk(2227730452,2716904306),new aZ.pk(2361852424,442776044),new aZ.pk(2428436474,593698344),new aZ.pk(2756734187,3733110249),new aZ.pk(3204031479,2999351573),new aZ.pk(3329325298,3815920427),new aZ.pk(3391569614,3928383900),new aZ.pk(3515267271,566280711),new aZ.pk(3940187606,3454069534),new aZ.pk(4118630271,4000239992),new aZ.pk(116418474,1914138554),new aZ.pk(174292421,2731055270),new aZ.pk(289380356,3203993006),new aZ.pk(460393269,320620315),new aZ.pk(685471733,587496836),new aZ.pk(852142971,1086792851),new aZ.pk(1017036298,365543100),new aZ.pk(1126000580,2618297676),new aZ.pk(1288033470,3409855158),new aZ.pk(1501505948,4234509866),new aZ.pk(1607167915,987167468),new aZ.pk(1816402316,1246189591)];if(c==="SHA-384"){g=[new aZ.pk(3418070365,3238371032),new aZ.pk(1654270250,914150663),new aZ.pk(2438529370,812702999),new aZ.pk(355462360,4144912697),new aZ.pk(1731405415,4290775857),new aZ.pk(41048885895,1750603025),new aZ.pk(3675008525,1694076839),new aZ.pk(1203062813,3204075428)];}else{g=[new aZ.pk(1779033703,4089235720),new aZ.pk(3144134277,2227873595),new aZ.pk(1013904242,4271175723),new aZ.pk(2773480762,1595750129),new aZ.pk(1359893119,2917565137),new aZ.pk(2600822924,725511199),new aZ.pk(528734635,4215389547),new aZ.pk(1541459225,327033209)];}}a[b>>5]|=128<<(24-b%32);a[i]=b;var Ix=a.length;for(var cI=0;cI<Ix;cI+=j){yd=g[0];yi=g[1];Bp=g[2];Bq=g[3];v1=g[4];e=g[5];BG=g[6];f=g[7];for(var CB=0;CB<h;CB++){if(CB<16){d[CB]=new u(a[CB*k+cI],a[CB*k+cI+1]);}else{d[CB]=m(p(d[CB-2]),d[CB-7],o(d[CB-15]),d[CB-16]);}qa=n(f,r(v1),s(v1,e,BG),Iw[CB],d[CB]);qb=l(q(yd),t(yd,yi,Bp));f=BG;BG=e;e=v1;v1=l(Bq,qa);Bq=Bp;Bp=yi;yi=yd;yd=l(qa,qb);}g[0]=l(yd,g[0]);g[1]=l(yi,g[1]);g[2]=l(Bp,g[2]);g[3]=l(Bq,g[3]);g[4]=l(v1,g[4]);g[5]=l(e,g[5]);g[6]=l(BG,g[6]);g[7]=l(f,g[7]);}switch(c){case "SHA-224":return [g[0],g[1],g[2],g[3],g[4],g[5],g[6]];case "SHA-256":return g;case "SHA-384":return [g[0].pl,g[0].pm,g[1].pl,g[1].pm,g[2].pl,g[2].pm,g[3].pl,g[3].pm,g[4].pl,g[4].pm,g[5].pl,g[5].pm];case "SHA-512":return [g[0].pl,g[0].pm,g[1].pl,g[1].pm,g[2].pl,g[2].pm,g[3].pl,g[3].pm,g[4].pl,g[4].pm,g[5].pl,g[5].pm,g[6].pl,g[6].pm,g[7].pl,g[7].pm];default:return [];}};aZ.hash=function(a,b){this.pS=8;this.pT="=";this.pU=0;this.pV=null;this.pW=null;this.pX=null;this.pY=null;this.pZ=null;this.p_=null;this.p$=null;if("HEX"===b){if(0!==(a.length%2)){return "TEXT MUST BE IN BYTE INCREMENTS";}this.p_=a.length*4;this.p$=aZ.po(a);}else if(("ASCII"===b)||("undefined"===typeof (b))){this.p_=a.length*this.pS;this.p$=aZ.pn(a,this.pS);}else{return "UNKNOWN TEXT INPUT TYPE";}};aZ.hash.prototype.a_=function(a,b){var c=null;var message=this.p$.slice();switch(b){case "HEX":c=aZ.pp;break;case "B64":c=aZ.pr;break;case "ARRAY":c=aZ.pq;break;default:return "FORMAT NOT RECOGNIZED";}switch(a){case "SHA-1":if(this.pV===null){this.pV=aZ.pQ(message,this.p_);}return c(this.pV,this.pU);case "SHA-224":if(this.pW===null){this.pW=aZ.pR(message,this.p_,a);}return c(this.pW,this.pU);case "SHA-256":if(this.pX===null){this.pX=aZ.pR(message,this.p_,a);}return c(this.pX,this.pU);case "SHA-384":if(this.pY===null){this.pY=aZ.pR(message,this.p_,a);}return c(this.pY,this.pU);case "SHA-512":if(this.pZ===null){this.pZ=aZ.pR(message,this.p_,a);}return c(this.pZ,this.pU);default:return "HASH NOT RECOGNIZED";}};aZ.hash.prototype.p0=function(a,b,c,d){var e=null;var rg=null;var f=null;var g=null;var h=[];var i=[];var j=null;var k=null;var l=null;var m=null;switch(d){case "HEX":e=aZ.pp;break;case "B64":e=aZ.pr;break;case "ARRAY":e=aZ.pq;break;default:return "FORMAT NOT RECOGNIZED";}switch(c){case "SHA-1":f=64;m=160;break;case "SHA-224":f=64;m=224;break;case "SHA-256":f=64;m=256;break;case "SHA-384":f=128;m=384;break;case "SHA-512":f=128;m=512;break;default:return "HASH NOT RECOGNIZED";}if("HEX"===b){if(0!==(a.length%2)){return "KEY MUST BE IN BYTE INCREMENTS";}rg=aZ.po(a);l=a.length*4;}else if("ASCII"===b){rg=aZ.pn(a,this.pS);l=a.length*this.pS;}else{return "UNKNOWN KEY INPUT TYPE";}g=f*8;j=(f/4)-1;if(f<(l/8)){if("SHA-1"===c){rg=aZ.pQ(rg,l);}else{rg=aZ.pR(rg,l,c);}rg[j]&=4294967040;}else if(f>(l/8)){rg[j]&=4294967040;}for(var cI=0;cI<=j;cI++){h[cI]=rg[cI]^909522486;i[cI]=rg[cI]^1549556828;}if("SHA-1"===c){k=aZ.pQ(h.concat(this.p$),g+this.p_);k=aZ.pQ(i.concat(k),g+m);}else{k=aZ.pR(h.concat(this.p$),g+this.p_,c);k=aZ.pR(i.concat(k),g+m,c);}return (e(k,this.pU));};aZ.p1=function(a,b){var c=new aZ.hash("paragonrobotics.com"+a+b,"ASCII");return c.a_("SHA-256","ARRAY");};/* (C) 2021 Halo Automation Systems LLC; This software is proprietary and is NOT to be distributed or shared in any way.*/"use strict";var gj={};if(typeof require!="undefined"){if(v.w=="node.js"){var p2=require("crypto");var util=require("util");}else{var p2=null;}}else{var p2=null;}gj.p3=[];gj.p4=[];gj.p5=true;gj.p6={};gj.p7=[1,2,4,8,16,32,64,128,27,54,108,216];gj.p8=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125];gj.p9=[2774754246,2222750968,2574743534,2373680118,234025727,3177933782,2976870366,1422247313,1345335392,50397442,2842126286,2099981142,436141799,1658312629,3870010189,2591454956,1170918031,2642575903,1086966153,2273148410,368769775,3948501426,3376891790,200339707,3970805057,1742001331,4255294047,3937382213,3214711843,4154762323,2524082916,1539358875,3266819957,486407649,2928907069,1780885068,1513502316,1094664062,49805301,1338821763,1546925160,4104496465,887481809,150073849,2473685474,1943591083,1395732834,1058346282,201589768,1388824469,1696801606,1589887901,672667696,2711000631,251987210,3046808111,151455502,907153956,2608889883,1038279391,652995533,1764173646,3451040383,2675275242,453576978,2659418909,1949051992,773462580,756751158,2993581788,3998898868,4221608027,4132590244,1295727478,1641469623,3467883389,2066295122,1055122397,1898917726,2542044179,4115878822,1758581177,0,753790401,1612718144,536673507,3367088505,3982187446,3194645204,1187761037,3653156455,1262041458,3729410708,3561770136,3898103984,1255133061,1808847035,720367557,3853167183,385612781,3309519750,3612167578,1429418854,2491778321,3477423498,284817897,100794884,2172616702,4031795360,1144798328,3131023141,3819481163,4082192802,4272137053,3225436288,2324664069,2912064063,3164445985,1211644016,83228145,3753688163,3249976951,1977277103,1663115586,806359072,452984805,250868733,1842533055,1288555905,336333848,890442534,804056259,3781124030,2727843637,3427026056,957814574,1472513171,4071073621,2189328124,1195195770,2892260552,3881655738,723065138,2507371494,2690670784,2558624025,3511635870,2145180835,1713513028,2116692564,2878378043,2206763019,3393603212,703524551,3552098411,1007948840,2044649127,3797835452,487262998,1994120109,1004593371,1446130276,1312438900,503974420,3679013266,168166924,1814307912,3831258296,1573044895,1859376061,4021070915,2791465668,2828112185,2761266481,937747667,2339994098,854058965,1137232011,1496790894,3077402074,2358086913,1691735473,3528347292,3769215305,3027004632,4199962284,133494003,636152527,2942657994,2390391540,3920539207,403179536,3585784431,2289596656,1864705354,1915629148,605822008,4054230615,3350508659,1371981463,602466507,2094914977,2624877800,555687742,3712699286,3703422305,2257292045,2240449039,2423288032,1111375484,3300242801,2858837708,3628615824,84083462,32962295,302911004,2741068226,1597322602,4183250862,3501832553,2441512471,1489093017,656219450,3114180135,954327513,335083755,3013122091,856756514,3144247762,1893325225,2307821063,2811532339,3063651117,572399164,2458355477,552200649,1238290055,4283782570,2015897680,2061492133,2408352771,4171342169,2156497161,386731290,3669999461,837215959,3326231172,3093850320,3275833730,2962856233,1999449434,286199582,3417354363,4233385128,3602627437,974525996];gj.qa=[1667483301,2088564868,2004348569,2071721613,4076011277,1802229437,1869602481,3318059348,808476752,16843267,1734856361,724260477,4278118169,3621238114,2880130534,1987505306,3402272581,2189565853,3385428288,2105408135,4210749205,1499050731,1195871945,4042324747,2913812972,3570709351,2728550397,2947499498,2627478463,2762232823,1920132246,3233848155,3082253762,4261273884,2475900334,640044138,909536346,1061125697,4160222466,3435955023,875849820,2779075060,3857043764,4059166984,1903288979,3638078323,825320019,353708607,67373068,3351745874,589514341,3284376926,404238376,2526427041,84216335,2593796021,117902857,303178806,2155879323,3806519101,3958099238,656887401,2998042573,1970662047,151589403,2206408094,741103732,437924910,454768173,1852759218,1515893998,2694863867,1381147894,993752653,3604395873,3014884814,690573947,3823361342,791633521,2223248279,1397991157,3520182632,0,3991781676,538984544,4244431647,2981198280,1532737261,1785386174,3419114822,3200149465,960066123,1246401758,1280088276,1482207464,3486483786,3503340395,4025468202,2863288293,4227591446,1128498885,1296931543,859006549,2240090516,1162185423,4193904912,33686534,2139094657,1347461360,1010595908,2678007226,2829601763,1364304627,2745392638,1077969088,2408514954,2459058093,2644320700,943222856,4126535940,3166462943,3065411521,3671764853,555827811,269492272,4294960410,4092853518,3537026925,3452797260,202119188,320022069,3974939439,1600110305,2543269282,1145342156,387395129,3301217111,2812761586,2122251394,1027439175,1684326572,1566423783,421081643,1936975509,1616953504,2172721560,1330618065,3705447295,572671078,707417214,2425371563,2290617219,1179028682,4008625961,3099093971,336865340,3739133817,1583267042,185275933,3688607094,3772832571,842163286,976909390,168432670,1229558491,101059594,606357612,1549580516,3267534685,3553869166,2896970735,1650640038,2442213800,2509582756,3840201527,2038035083,3890730290,3368586051,926379609,1835915959,2374828428,3587551588,1313774802,2846444000,1819072692,1448520954,4109693703,3941256997,1701169839,2054878350,2930657257,134746136,3132780501,2021191816,623200879,774790258,471611428,2795919345,3031724999,3334903633,3907570467,3722289532,1953818780,522141217,1263245021,3183305180,2341145990,2324303749,1886445712,1044282434,3048567236,1718013098,1212715224,50529797,4143380225,235805714,1633796771,892693087,1465364217,3115936208,2256934801,3250690392,488454695,2661164985,3789674808,4177062675,2560109491,286335539,1768542907,3654920560,2391672713,2492740519,2610638262,505297954,2273777042,3924412704,3469641545,1431677695,673730680,3755976058,2357986191,2711706104,2307459456,218962455,3216991706,3873888049,1111655622,1751699640,1094812355,2576951728,757946999,252648977,2964356043,1414834428,3149622742,370551866];gj.qb=[1673962851,2096661628,2012125559,2079755643,4076801522,1809235307,1876865391,3314635973,811618352,16909057,1741597031,727088427,4276558334,3618988759,2874009259,1995217526,3398387146,2183110018,3381215433,2113570685,4209972730,1504897881,1200539975,4042984432,2906778797,3568527316,2724199842,2940594863,2619588508,2756966308,1927583346,3231407040,3077948087,4259388669,2470293139,642542118,913070646,1065238847,4160029431,3431157708,879254580,2773611685,3855693029,4059629809,1910674289,3635114968,828527409,355090197,67636228,3348452039,591815971,3281870531,405809176,2520228246,84545285,2586817946,118360327,304363026,2149292928,3806281186,3956090603,659450151,2994720178,1978310517,152181513,2199756419,743994412,439627290,456535323,1859957358,1521806938,2690382752,1386542674,997608763,3602342358,3011366579,693271337,3822927587,794718511,2215876484,1403450707,3518589137,0,3988860141,541089824,4242743292,2977548465,1538714971,1792327274,3415033547,3194476990,963791673,1251270218,1285084236,1487988824,3481619151,3501943760,4022676207,2857362858,4226619131,1132905795,1301993293,862344499,2232521861,1166724933,4192801017,33818114,2147385727,1352724560,1014514748,2670049951,2823545768,1369633617,2740846243,1082179648,2399505039,2453646738,2636233885,946882616,4126213365,3160661948,3061301686,3668932058,557998881,270544912,4293204735,4093447923,3535760850,3447803085,202904588,321271059,3972214764,1606345055,2536874647,1149815876,388905239,3297990596,2807427751,2130477694,1031423805,1690872932,1572530013,422718233,1944491379,1623236704,2165938305,1335808335,3701702620,574907938,710180394,2419829648,2282455944,1183631942,4006029806,3094074296,338181140,3735517662,1589437022,185998603,3685578459,3772464096,845436466,980700730,169090570,1234361161,101452294,608726052,1555620956,3265224130,3552407251,2890133420,1657054818,2436475025,2503058581,3839047652,2045938553,3889509095,3364570056,929978679,1843050349,2365688973,3585172693,1318900302,2840191145,1826141292,1454176854,4109567988,3939444202,1707781989,2062847610,2923948462,135272456,3127891386,2029029496,625635109,777810478,473441308,2790781350,3027486644,3331805638,3905627112,3718347997,1961401460,524165407,1268178251,3177307325,2332919435,2316273034,1893765232,1048330814,3044132021,1724688998,1217452104,50726147,4143383030,236720654,1640145761,896163637,1471084887,3110719673,2249691526,3248052417,490350365,2653403550,3789109473,4176155640,2553000856,287453969,1775418217,3651760345,2382858638,2486413204,2603464347,507257374,2266337927,3922272489,3464972750,1437269845,676362280,3752164063,2349043596,2707028129,2299101321,219813645,3211123391,3872862694,1115997762,1758509160,1099088705,2569646233,760903469,253628687,2960903088,1420360788,3144537787,371997206];gj.qc=[3332727651,4169432188,4003034999,4136467323,4279104242,3602738027,3736170351,2438251973,1615867952,33751297,3467208551,1451043627,3877240574,3043153879,1306962859,3969545846,2403715786,530416258,2302724553,4203183485,4011195130,3001768281,2395555655,4211863792,1106029997,3009926356,1610457762,1173008303,599760028,1408738468,3835064946,2606481600,1975695287,3776773629,1034851219,1282024998,1817851446,2118205247,4110612471,2203045068,1750873140,1374987685,3509904869,4178113009,3801313649,2876496088,1649619249,708777237,135005188,2505230279,1181033251,2640233411,807933976,933336726,168756485,800430746,235472647,607523346,463175808,3745374946,3441880043,1315514151,2144187058,3936318837,303761673,496927619,1484008492,875436570,908925723,3702681198,3035519578,1543217312,2767606354,1984772923,3076642518,2110698419,1383803177,3711886307,1584475951,328696964,2801095507,3110654417,0,3240947181,1080041504,3810524412,2043195825,3069008731,3569248874,2370227147,1742323390,1917532473,2497595978,2564049996,2968016984,2236272591,3144405200,3307925487,1340451498,3977706491,2261074755,2597801293,1716859699,294946181,2328839493,3910203897,67502594,4269899647,2700103760,2017737788,632987551,1273211048,2733855057,1576969123,2160083008,92966799,1068339858,566009245,1883781176,4043634165,1675607228,2009183926,2943736538,1113792801,540020752,3843751935,4245615603,3211645650,2169294285,403966988,641012499,3274697964,3202441055,899848087,2295088196,775493399,2472002756,1441965991,4236410494,2051489085,3366741092,3135724893,841685273,3868554099,3231735904,429425025,2664517455,2743065820,1147544098,1417554474,1001099408,193169544,2362066502,3341414126,1809037496,675025940,2809781982,3168951902,371002123,2910247899,3678134496,1683370546,1951283770,337512970,2463844681,201983494,1215046692,3101973596,2673722050,3178157011,1139780780,3299238498,967348625,832869781,3543655652,4069226873,3576883175,2336475336,1851340599,3669454189,25988493,2976175573,2631028302,1239460265,3635702892,2902087254,4077384948,3475368682,3400492389,4102978170,1206496942,270010376,1876277946,4035475576,1248797989,1550986798,941890588,1475454630,1942467764,2538718918,3408128232,2709315037,3902567540,1042358047,2531085131,1641856445,226921355,260409994,3767562352,2084716094,1908716981,3433719398,2430093384,100991747,4144101110,470945294,3265487201,1784624437,2935576407,1775286713,395413126,2572730817,975641885,666476190,3644383713,3943954680,733190296,573772049,3535497577,2842745305,126455438,866620564,766942107,1008868894,361924487,3374377449,2269761230,2868860245,1350051880,2776293343,59739276,1509466529,159418761,437718285,1708834751,3610371814,2227585602,3501746280,2193834305,699439513,1517759789,504434447,2076946608,2835108948,1842789307,742004246];gj.qd=[1353184337,1399144830,3282310938,2522752826,3412831035,4047871263,2874735276,2466505547,1442459680,4134368941,2440481928,625738485,4242007375,3620416197,2151953702,2409849525,1230680542,1729870373,2551114309,3787521629,41234371,317738113,2744600205,3338261355,3881799427,2510066197,3950669247,3663286933,763608788,3542185048,694804553,1154009486,1787413109,2021232372,1799248025,3715217703,3058688446,397248752,1722556617,3023752829,407560035,2184256229,1613975959,1165972322,3765920945,2226023355,480281086,2485848313,1483229296,436028815,2272059028,3086515026,601060267,3791801202,1468997603,715871590,120122290,63092015,2591802758,2768779219,4068943920,2997206819,3127509762,1552029421,723308426,2461301159,4042393587,2715969870,3455375973,3586000134,526529745,2331944644,2639474228,2689987490,853641733,1978398372,971801355,2867814464,111112542,1360031421,4186579262,1023860118,2919579357,1186850381,3045938321,90031217,1876166148,4279586912,620468249,2548678102,3426959497,2006899047,3175278768,2290845959,945494503,3689859193,1191869601,3910091388,3374220536,0,2206629897,1223502642,2893025566,1316117100,4227796733,1446544655,517320253,658058550,1691946762,564550760,3511966619,976107044,2976320012,266819475,3533106868,2660342555,1338359936,2720062561,1766553434,370807324,179999714,3844776128,1138762300,488053522,185403662,2915535858,3114841645,3366526484,2233069911,1275557295,3151862254,4250959779,2670068215,3170202204,3309004356,880737115,1982415755,3703972811,1761406390,1676797112,3403428311,277177154,1076008723,538035844,2099530373,4164795346,288553390,1839278535,1261411869,4080055004,3964831245,3504587127,1813426987,2579067049,4199060497,577038663,3297574056,440397984,3626794326,4019204898,3343796615,3251714265,4272081548,906744984,3481400742,685669029,646887386,2764025151,3835509292,227702864,2613862250,1648787028,3256061430,3904428176,1593260334,4121936770,3196083615,2090061929,2838353263,3004310991,999926984,2809993232,1852021992,2075868123,158869197,4095236462,28809964,2828685187,1701746150,2129067946,147831841,3873969647,3650873274,3459673930,3557400554,3598495785,2947720241,824393514,815048134,3227951669,935087732,2798289660,2966458592,366520115,1251476721,4158319681,240176511,804688151,2379631990,1303441219,1414376140,3741619940,3820343710,461924940,3089050817,2136040774,82468509,1563790337,1937016826,776014843,1511876531,1389550482,861278441,323475053,2355222426,2047648055,2383738969,2302415851,3995576782,902390199,3991215329,1018251130,1507840668,1064563285,2043548696,3208103795,3939366739,1537932639,342834655,2262516856,2180231114,1053059257,741614648,1598071746,1925389590,203809468,2336832552,1100287487,1895934009,3736275976,2632234200,2428589668,1636092795,1890988757,1952214088,1113045200];gj.qe=[2817806672,1698790995,2752977603,1579629206,1806384075,1167925233,1492823211,65227667,4197458005,1836494326,1993115793,1275262245,3622129660,3408578007,1144333952,2741155215,1521606217,465184103,250234264,3237895649,1966064386,4031545618,2537983395,4191382470,1603208167,2626819477,2054012907,1498584538,2210321453,561273043,1776306473,3368652356,2311222634,2039411832,1045993835,1907959773,1340194486,2911432727,2887829862,986611124,1256153880,823846274,860985184,2136171077,2003087840,2926295940,2692873756,722008468,1749577816,4249194265,1826526343,4168831671,3547573027,38499042,2401231703,2874500650,686535175,3266653955,2076542618,137876389,2267558130,2780767154,1778582202,2182540636,483363371,3027871634,4060607472,3798552225,4107953613,3188000469,1647628575,4272342154,1395537053,1442030240,3783918898,3958809717,3968011065,4016062634,2675006982,275692881,2317434617,115185213,88006062,3185986886,2371129781,1573155077,3557164143,357589247,4221049124,3921532567,1128303052,2665047927,1122545853,2341013384,1528424248,4006115803,175939911,256015593,512030921,0,2256537987,3979031112,1880170156,1918528590,4279172603,948244310,3584965918,959264295,3641641572,2791073825,1415289809,775300154,1728711857,3881276175,2532226258,2442861470,3317727311,551313826,1266113129,437394454,3130253834,715178213,3760340035,387650077,218697227,3347837613,2830511545,2837320904,435246981,125153100,3717852859,1618977789,637663135,4117912764,996558021,2130402100,692292470,3324234716,4243437160,4058298467,3694254026,2237874704,580326208,298222624,608863613,1035719416,855223825,2703869805,798891339,817028339,1384517100,3821107152,380840812,3111168409,1217663482,1693009698,2365368516,1072734234,746411736,2419270383,1313441735,3510163905,2731183358,198481974,2180359887,3732579624,2394413606,3215802276,2637835492,2457358349,3428805275,1182684258,328070850,3101200616,4147719774,2948825845,2153619390,2479909244,768962473,304467891,2578237499,2098729127,1671227502,3141262203,2015808777,408514292,3080383489,2588902312,1855317605,3875515006,3485212936,3893751782,2615655129,913263310,161475284,2091919830,2997105071,591342129,2493892144,1721906624,3159258167,3397581990,3499155632,3634836245,2550460746,3672916471,1355644686,4136703791,3595400845,2968470349,1303039060,76997855,3050413795,2288667675,523026872,1365591679,3932069124,898367837,1955068531,1091304238,493335386,3537605202,1443948851,1205234963,1641519756,211892090,351820174,1007938441,665439982,3378624309,3843875309,2974251580,3755121753,1945261375,3457423481,935818175,3455538154,2868731739,1866325780,3678697606,4088384129,3295197502,874788908,1084473951,3273463410,635616268,1228679307,2500722497,27801969,3003910366,3837057180,3243664528,2227927905,3056784752,1550600308,1471729730];gj.qf=[4098969767,1098797925,387629988,658151006,2872822635,2636116293,4205620056,3813380867,807425530,1991112301,3431502198,49620300,3847224535,717608907,891715652,1656065955,2984135002,3123013403,3930429454,4267565504,801309301,1283527408,1183687575,3547055865,2399397727,2450888092,1841294202,1385552473,3201576323,1951978273,3762891113,3381544136,3262474889,2398386297,1486449470,3106397553,3787372111,2297436077,550069932,3464344634,3747813450,451248689,1368875059,1398949247,1689378935,1807451310,2180914336,150574123,1215322216,1167006205,3734275948,2069018616,1940595667,1265820162,534992783,1432758955,3954313000,3039757250,3313932923,936617224,674296455,3206787749,50510442,384654466,3481938716,2041025204,133427442,1766760930,3664104948,84334014,886120290,2797898494,775200083,4087521365,2315596513,4137973227,2198551020,1614850799,1901987487,1857900816,557775242,3717610758,1054715397,3863824061,1418835341,3295741277,100954068,1348534037,2551784699,3184957417,1082772547,3647436702,3903896898,2298972299,434583643,3363429358,2090944266,1115482383,2230896926,0,2148107142,724715757,287222896,1517047410,251526143,2232374840,2923241173,758523705,252339417,1550328230,1536938324,908343854,168604007,1469255655,4004827798,2602278545,3229634501,3697386016,2002413899,303830554,2481064634,2696996138,574374880,454171927,151915277,2347937223,3056449960,504678569,4049044761,1974422535,2582559709,2141453664,33005350,1918680309,1715782971,4217058430,1133213225,600562886,3988154620,3837289457,836225756,1665273989,2534621218,3330547729,1250262308,3151165501,4188934450,700935585,2652719919,3000824624,2249059410,3245854947,3005967382,1890163129,2484206152,3913753188,4238918796,4037024319,2102843436,857927568,1233635150,953795025,3398237858,3566745099,4121350017,2057644254,3084527246,2906629311,976020637,2018512274,1600822220,2119459398,2381758995,3633375416,959340279,3280139695,1570750080,3496574099,3580864813,634368786,2898803609,403744637,2632478307,1004239803,650971512,1500443672,2599158199,1334028442,2514904430,4289363686,3156281551,368043752,3887782299,1867173430,2682967049,2955531900,2754719666,1059729699,2781229204,2721431654,1316239292,2197595850,2430644432,2805143000,82922136,3963746266,3447656016,2434215926,1299615190,4014165424,2865517645,2531581700,3516851125,1783372680,750893087,1699118929,1587348714,2348899637,2281337716,201010753,1739807261,3683799762,283718486,3597472583,3617229921,2704767500,4166618644,334203196,2848910887,1639396809,484568549,1199193265,3533461983,4065673075,337148366,3346251575,4149471949,4250885034,1038029935,1148749531,2949284339,1756970692,607661108,2747424576,488010435,3803974693,1009290057,234832277,2822336769,201907891,3034094820,1449431233,3413860740,852848822,1816687708,3100656215];gj.qg=[1364240372,2119394625,449029143,982933031,1003187115,535905693,2896910586,1267925987,542505520,2918608246,2291234508,4112862210,1341970405,3319253802,645940277,3046089570,3729349297,627514298,1167593194,1575076094,3271718191,2165502028,2376308550,1808202195,65494927,362126482,3219880557,2514114898,3559752638,1490231668,1227450848,2386872521,1969916354,4101536142,2573942360,668823993,3199619041,4028083592,3378949152,2108963534,1662536415,3850514714,2539664209,1648721747,2984277860,3146034795,4263288961,4187237128,1884842056,2400845125,2491903198,1387788411,2871251827,1927414347,3814166303,1714072405,2986813675,788775605,2258271173,3550808119,821200680,598910399,45771267,3982262806,2318081231,2811409529,4092654087,1319232105,1707996378,114671109,3508494900,3297443494,882725678,2728416755,87220618,2759191542,188345475,1084944224,1577492337,3176206446,1056541217,2520581853,3719169342,1296481766,2444594516,1896177092,74437638,1627329872,421854104,3600279997,2311865152,1735892697,2965193448,126389129,3879230233,2044456648,2705787516,2095648578,4173930116,0,159614592,843640107,514617361,1817080410,4261150478,257308805,1025430958,908540205,174381327,1747035740,2614187099,607792694,212952842,2467293015,3033700078,463376795,2152711616,1638015196,1516850039,471210514,3792353939,3236244128,1011081250,303896347,235605257,4071475083,767142070,348694814,1468340721,2940995445,4005289369,2751291519,4154402305,1555887474,1153776486,1530167035,2339776835,3420243491,3060333805,3093557732,3620396081,1108378979,322970263,2216694214,2239571018,3539484091,2920362745,3345850665,491466654,3706925234,233591430,2010178497,728503987,2845423984,301615252,1193436393,2831453436,2686074864,1457007741,586125363,2277985865,3653357880,2365498058,2553678804,2798617077,2770919034,3659959991,1067761581,753179962,1343066744,1788595295,1415726718,4139914125,2431170776,777975609,2197139395,2680062045,1769771984,1873358293,3484619301,3359349164,279411992,3899548572,3682319163,3439949862,1861490777,3959535514,2208864847,3865407125,2860443391,554225596,4024887317,3134823399,1255028335,3939764639,701922480,833598116,707863359,3325072549,901801634,1949809742,4238789250,3769684112,857069735,4048197636,1106762476,2131644621,389019281,1989006925,1129165039,3428076970,3839820950,2665723345,1276872810,3250069292,1182749029,2634345054,22885772,4201870471,4214112523,3009027431,2454901467,3912455696,1829980118,2592891351,930745505,1502483704,3951639571,3471714217,3073755489,3790464284,2050797895,2623135698,1430221810,410635796,1941911495,1407897079,1599843069,3742658365,2022103876,3397514159,3107898472,942421028,3261022371,376619805,3154912738,680216892,4282488077,963707304,148812556,3634160820,1687208278,2069988555,3580933682,1215585388,3494008760];gj.qh=function(a){return (a&255);};gj.qi=function(a){return ((a>>8)&255);};gj.qj=function(a){return ((a>>16)&255);};gj.qk=function(a){return ((a>>24)&255);};gj.ql=function(a,b,c,d){return gj.qi(gj.p9[a&255])|(gj.qi(gj.p9[(b>>8)&255])<<8)|(gj.qi(gj.p9[(c>>16)&255])<<16)|(gj.qi(gj.p9[d>>>24])<<24);};gj.qm=function(a,b,c,d){return gj.p8[(a&255)]|(gj.p8[((d>>8)&255)]<<8)|(gj.p8[((c>>16)&255)]<<16)|(gj.p8[((b>>24)&255)]<<24);};gj.jL=function(a,b){var v0;var c;var d;var e;var f;var Fs=a[0];var Ft=a[1];var g=a[2];var h=a[3];c=Fs^b.qn[0];d=Ft^b.qn[1];e=g^b.qn[2];f=h^b.qn[3];for(v0=1;v0<b.qo;v0++){Fs=gj.p9[c&255]^gj.qa[(d>>8)&255]^gj.qb[(e>>16)&255]^gj.qc[(f>>24)&255];Ft=gj.p9[d&255]^gj.qa[(e>>8)&255]^gj.qb[(f>>16)&255]^gj.qc[(c>>24)&255];g=gj.p9[e&255]^gj.qa[(f>>8)&255]^gj.qb[(c>>16)&255]^gj.qc[(d>>24)&255];h=gj.p9[f&255]^gj.qa[(c>>8)&255]^gj.qb[(d>>16)&255]^gj.qc[(e>>24)&255];c=Fs^b.qn[v0*4+0];d=Ft^b.qn[v0*4+1];e=g^b.qn[v0*4+2];f=h^b.qn[v0*4+3];}a[0]=gj.ql(c,d,e,f)^b.qn[v0*4+0];a[1]=gj.ql(d,e,f,c)^b.qn[v0*4+1];a[2]=gj.ql(e,f,c,d)^b.qn[v0*4+2];a[3]=gj.ql(f,c,d,e)^b.qn[v0*4+3];return a;};gj.qp=function(a,b){var v0;var c;var d;var e;var f;var Fs=a[0];var Ft=a[1];var g=a[2];var h=a[3];c=Fs^b.qq[0];d=Ft^b.qq[1];e=g^b.qq[2];f=h^b.qq[3];for(v0=1;v0<b.qo;v0++){Fs=gj.qd[c&255]^gj.qe[(f>>8)&255]^gj.qf[(e>>16)&255]^gj.qg[(d>>24)&255];Ft=gj.qd[d&255]^gj.qe[(c>>8)&255]^gj.qf[(f>>16)&255]^gj.qg[(e>>24)&255];g=gj.qd[e&255]^gj.qe[(d>>8)&255]^gj.qf[(c>>16)&255]^gj.qg[(f>>24)&255];h=gj.qd[f&255]^gj.qe[(e>>8)&255]^gj.qf[(d>>16)&255]^gj.qg[(c>>24)&255];c=Fs^b.qq[v0*4+0];d=Ft^b.qq[v0*4+1];e=g^b.qq[v0*4+2];f=h^b.qq[v0*4+3];}a[0]=gj.qm(c,d,e,f)^b.qq[v0*4+0];a[1]=gj.qm(d,e,f,c)^b.qq[v0*4+1];a[2]=gj.qm(e,f,c,d)^b.qq[v0*4+2];a[3]=gj.qm(f,c,d,e)^b.qq[v0*4+3];return a;};gj.qr=function(a){var cI;var dz;var Fe=a.length;var yi=new Array(Fe/4);if(!a||Fe%4){return;}for(cI=0,dz=0;dz<Fe;dz+=4){yi[cI++]=a[dz]|(a[dz+1]<<8)|(a[dz+2]<<16)|(a[dz+3]<<24);}return yi;};gj.qs=function(a){var dz;var cI=0;var b=a.length;var v0=new Array(b*4);for(dz=0;dz<b;dz++){v0[cI++]=gj.qh(a[dz]);v0[cI++]=gj.qi(a[dz]);v0[cI++]=gj.qj(a[dz]);v0[cI++]=gj.qk(a[dz]);}return v0;};gj.i6=function(a,b){if(a==null){a=256;}this.fY=a/32;if(a===256){this.qo=14;}else if(a===192){this.qo=12;}else{this.qo=10;}if(b==null){if(p2){var c=p2["randomBytes"](this.fY*4);b=v.aK(c.toString("binary"));}else{b=new Array();for(var d=0;d<this.fY*4;d++){b.push(Math.floor(Math.random()*256));}}}this.qt=b;this.qn=new Array();this.qq=new Array();this.type="aes";this.qu=function(){var e;for(var dz=0;dz<this.fY;dz++){this.qn[dz]=(this.qt[4*dz])|(this.qt[4*dz+1]<<8)|(this.qt[4*dz+2]<<16)|(this.qt[4*dz+3]<<24);}for(dz=this.fY;dz<4*(this.qo+1);dz++){e=this.qn[dz-1];if(dz%this.fY===0){e=((gj.qb[(e>>8)&255]&255)|((gj.qb[(e>>16)&255]&255)<<8)|((gj.qb[(e>>24)&255]&255)<<16)|((gj.qb[e&255]&255)<<24))^gj.p7[Math.floor(dz/this.fY)-1];}else if(this.fY>6&&dz%this.fY===4){e=((gj.qb[(e>>24)&255]&255)<<24)|((gj.qb[(e>>16)&255]&255)<<16)|((gj.qb[(e>>8)&255]&255)<<8)|(gj.qb[e&255]&255);}this.qn[dz]=this.qn[dz-this.fY]^e;}};this.qu();this.qv=function(){var e=0;for(var dz=0;dz<(4*(this.qo+1));dz+=4){this.qq[e]=this.qn[4*this.qo-e];this.qq[e+1]=this.qn[4*this.qo-e+1];this.qq[e+2]=this.qn[4*this.qo-e+2];this.qq[e+3]=this.qn[4*this.qo-e+3];e+=4;}for(var dz=4;dz<4*(this.qo);dz++){this.qq[dz]=gj.qd[gj.qb[(this.qq[dz])&255]&255]^gj.qe[gj.qb[(this.qq[dz]>>8)&255]&255]^gj.qf[gj.qb[(this.qq[dz]>>16)&255]&255]^gj.qg[gj.qb[(this.qq[dz]>>24)&255]&255];}};this.qv();};gj.i6.prototype.qw=function(){var a=[];a=a.concat(60,101,60,128,186,187,200,1,1,62,122,211,60,97,be.df(this.qt),62,62);return a;};gj.qx=function(a,b,c){var d;var yi;var e;var f;var g;var h;var o8=16-(b.length%16);if(o8<16){for(var cI=0;cI<o8;cI++){b.push(0);}}if(p2){var i=v.aL(c.qt);var j=v.aL(a);var k=v.aL(b);var l=p2["createCipheriv"]("aes-256-cbc",Buffer["from"](i,"binary"),Buffer["from"](j,"binary"));var m=l.update(k,"binary","binary");return v.aK(m);}else{var n=new Array();yi=gj.qr(a);e=yi[0];f=yi[1];g=yi[2];h=yi[3];for(var Cb=0;Cb<b.length/16;Cb++){d=b.slice(Cb*16,(Cb+1)*16);yi=gj.qr(d);yi[0]^=e;yi[1]^=f;yi[2]^=g;yi[3]^=h;yi=gj.jL(yi,c);e=yi[0];f=yi[1];g=yi[2];h=yi[3];var v0=gj.qs(yi);n=n.concat(v0);}return n;}};gj.qy=function(a){return gj.qs(a);};gj.qz=function(a,b){var c;var yi;var d;var e;var f;var g;var o8=16-(a.length%16);if(o8<16){for(var cI=0;cI<o8;cI++){a.push(0);}}if(p2){var h=v.aL(b.qt);var i=v.aL([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);var j=v.aL(a);var k=p2["createCipheriv"]("aes-256-cbc",Buffer["from"](h,"binary"),Buffer["from"](i,"binary"));var l=k.update(j,"binary","binary");var m=l.slice(-16);return v.aK(m);}else{d=0;e=0;f=0;g=0;for(var Cb=0;Cb<a.length/16;Cb++){c=a.slice(Cb*16,(Cb+1)*16);yi=gj.qr(c);yi[0]^=d;yi[1]^=e;yi[2]^=f;yi[3]^=g;yi=gj.jL(yi,b);d=yi[0];e=yi[1];f=yi[2];g=yi[3];}return gj.qs(yi);}};gj.qA=function(a,b,c){var d=new Array();var e;var Cb;var yi;var Bp;if(p2){var i6=v.aL(c.qt);var f=v.aL(a);var g=v.aL(b);if(!i6||i6.length!==32){throw new Error("Key length is not 32 bytes");}var h=p2["createDecipheriv"]("aes-256-cbc",Buffer["from"](i6,"binary"),Buffer["from"](f,"binary"));var i=h.update(g+"aaaabbbbccccdddd","binary","binary");return v.aK(i);}else{Cb=(b.length/16)-1;yi=gj.qr(b.slice(Cb*16,(Cb+1)*16));b=a.concat(b);for(Cb=(b.length/16)-1;Cb>0;Cb--){Bp=gj.qp(yi,c);yi=gj.qr(b.slice((Cb-1)*16,(Cb)*16));Bp[0]^=yi[0];Bp[1]^=yi[1];Bp[2]^=yi[2];Bp[3]^=yi[3];d=gj.qs(Bp).concat(d);}return d;}};gj.qB=function(a){return (v.D(a.slice(0,9),[60,101,60,128,186,187,1,1,62]));};gj.gm=function(a,b,c){var i6=new gj.i6(256,a);var d=new gj.i1(i6,b,null,false);d.qC=256*256*256;return d.kJ(c);};gj.gk=function(a,b){var i6=new gj.i6(256,a);var c=new gj.i1(i6,null,null,true);c.qC=256*256*256;return c.qD(b);};gj.i1=function(a,b,c,d){this.i6=a;this.ke=b;this.cT=c;this.qE=1;this.qF=1;this.qG=false;this.qH=false;this.qI=d;this.type="aes";this.k3=[];};gj.i1.prototype.qJ=function(){var a=gj.qK(this.i6,this.ke,this.qI);if(!this.qI){this.qL=a.qL;}this.qG=true;return a.data;};gj.i1.prototype.lH=function(a){var EY=[];if(!this.qG){EY=this.qJ();}var b=gj.qM(this.i6,this.ke,a,this.qE,this.qL,this.qI,this.qC);this.qE=b.b3;EY=EY.concat(b.data);return EY;};gj.i1.prototype.mH=function(a,b){var EY=[];if(!this.qG){EY=this.qJ();}var c=gj.qM(this.i6,this.ke,a,this.qE,this.qL,this.qI,this.qC);this.qE=c.b3;EY=EY.concat(c.data);a.splice(0,a.length);b(EY);};gj.i1.prototype.kJ=function(a){var EY=this.lH(a);return EY.concat(this.qN());};gj.i1.prototype.qD=function(a){return this.lC(a);};gj.i1.prototype.qN=function(){return [62,62];};gj.i1.prototype.lC=function(a){var b=this.k3.concat(a);this.k3=b;try{if(!this.qH){var c=gj.qO(b);if(c.qL){this.qL=c.qL;}this.qH=true;}c=gj.lC(this.i6,this.ke,b,this.qF,this.qL,this.qI,this.qC);this.qF=c.b3;return c.data;}catch(d){if(d.message.slice(0,1)=="1"){return [];}else{throw new Error("Decrypt error");}}};gj.i1.prototype.kc=function(a,b){var c=this;var d=this.k3.concat(a);this.k3=d;try{if(!this.qH){var e=gj.qO(d);if(this.qI){this.qL=e.qL;this.ke=e.ke;}this.qH=true;}if(this.i6==null){var f=null;for(var cI=0;cI<this.ke.length;cI++){if((this.ke[cI]===194)&&(this.ke.length>(cI+32))){f=this.ke.slice(cI+4,cI+4+32);this.ke=this.ke.slice(0,cI);this.ke.push(62);break;}}var g=iP.iW?be.cv(iP.iW):null;var h=be.cv(this.ke);if(g&&v.D(g,h,g.length)){var i=h.slice(g.length);i=be.d2([60,128,145,62],i);i=be.d2(i,[211]);}else{var i=be.d2(this.ke,[211]);}if(gj.p6[be.bf(this.ke)]){var j=gj.p6[be.bf(this.ke)].i6;c.i6=new gj.i6(256,j);c.qP(d,b);}else{c.gK.qQ=true;this.cT.dJ(i,function(k,l){try{if(k!=null){k=v.aK(k);if(k.length===64){var CB=new gj.i6(256,f);var m=gj.qA([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],k,CB);if((m.length!==64)||(!v.D(m.slice(0,32),f))){throw new Error("Decrypt error");}k=m.slice(32);}c.i6=new gj.i6(256,k);if(c.gK&&iP.qR){iP.qR(true,be.bf(i),null,c.gK,function(n){if(!n){throw new Error("Password sign in is not allowed for this user");}else{c.qP(d,b);}});}else{c.qP(d,b);}}else{var n=function(o){var p=o+"/basic";var end=be.cv(be.cn(p));end.unshift(end.length-1);while(end.length<32){end.push(255);}return (new gj.i6(256,end));};var o=be.bf(c.ke);if(iP.qS==null){iP.qS={qT:{}};}if((iP.qS.qT[o]==null)||(iP.qS.qT[o].dW<Date.now()-4*60*60*1000)){console.log("Can't find key for "+o);iP.qS.qT[o]={dW:Date.now()};}if(o.search("basic")!=-1){if(gj.p5){var cI=o.indexOf("basic");o=o.slice(0,cI-1);c.i6=n(o);c.qP(d,b);}else{throw new Error("Decrypt error");}}else{throw new Error("Decrypt error");}}}catch(p){if(p.message.slice(0,1)=="1"){b(null,null,null);}else{b(null,true,[173]);}}c.gK.qQ=false;if(c.gK.qU){c.gK.qU(c.gK);}});}}else{c.qP(d,b);}}catch(k){if(k.message.slice(0,1)=="1"){b(null,null,null);}else{b(null,true,[173]);}}};gj.i1.prototype.qP=function(a,b){var c=gj.lC(this.i6,this.ke,a,this.qF,this.qL,this.qI);this.qF=c.b3;b(c.data,c.close);};gj.qK=function(a,b,c){var d=[60,101,60,128,186];var e;var f;var g=new Date();var h=g.getTime();var dU=Math.floor(h/(Math.pow(2,32)));var i=[(dU>>8)&255,(dU)&255,(h>>24)&255,(h>>16)&255,(h>>8)&255,(h>>0)&255,Math.random()*255&255,Math.random()*255&255,0,0,0,0,0,0,0,0];if(a.type=="aes"){d.push(187);}d.push(1,1,62);if(!c){d.push(122,200,60,97);d=d.concat(be.df(i.slice(0,8)),62);if(true){if(false){var j=gj.qV(qL,a.qt,qW);d.push(122,211,60,97);d=d.concat(be.cj(j.length),j,62);}else if(b){d=d.concat(122,211,60,101,b,62);}else{d.push(122,211,60,101,60,147,211,62,62);}}var k=i.concat();}d.push(122,250,60);return {data:d,qL:k};};gj.qM=function(a,b,c,d,e,f,g){var h=Array(c.length*2+300);var i=0;var cI=d;var j=0;var k=function(l){for(var cI=0;cI<l.length;cI++){h[i++]=l[cI];}};if(g==null){g=256;}g-=(16-3);for(;;cI++){if(j>=c.length){break;}else if((c.length-j)<g){var l=(c.length-j);}else{var l=g;}var m=c.slice(j,j+l);j+=l;m=be.cj(m.length).concat(m);var data=[];data=data.concat(122,be.cj(cI),60);k(data);var dU=Math.floor(cI/(Math.pow(2,32)));e[8]=((dU>>32)&255);if(f){e[8]|=128;}e[9]=(dU>>16)&255;e[10]=(dU>>8)&255;e[11]=(dU)&255;e[12]=(cI>>24)&255;e[13]=(cI>>16)&255;e[14]=(cI>>8)&255;e[15]=cI&255;if(true){var n=gj.qz(m.concat(),a);var o=[];o=o.concat(122,200,60,97,be.df(n),62);k(o);}var p=gj.qx(e,m,a);var o=[];o=o.concat(122,201,60,97,be.df(p),62);k(o);h[i++]=62;}return {b3:cI,data:h.slice(0,i)};};gj.qX=function(a,b,c,d,e,f,g,h){var i=gj.qK(e,f);var j=i.data;var i=gj.qM(e,f,a,1,i.qL,false);j=j.concat(i.data);j.push(62,62);return j;};gj.qY=function(a){var b=new cP.jH(a);var c=new cP.hO(b);var d=new cP.jO(c);while(d.jP()){if(d.type===122){qZ=c.ew();if(qZ.type===211){c.eu();c.eu();qZ=c.jW();return qZ;}}}};gj.qO=function(a){var ke=[];var b=new cP.jH(a);var c=new cP.hO(b);var d=new cP.jO(c);while(d.jP()){if(d.type===101){var e=c.ew();if(v.D(e.fD,[60,128,186,187,1,1,62])){var jw=true;var f=true;var g=true;}}else if(d.type===122){var qZ=c.ew();if(qZ.type===200){var h=v.aK(c.jQ().data);while(h.length<16){h.push(0);}}else if(qZ.type===211){c.eu();c.eu();qZ=c.ew();c.eu();ke=qZ.fD;}else if(qZ.type===250){c.eu();a.splice(0,c.dn);return {qL:h,ke:ke};}}}throw new Error("Invalid header");};gj.lC=function(a,b,c,d,e,f,g){var h=new cP.jH(c);var i=new cP.hO(h);var j=new cP.jO(i,true);var k=[];var l=true;if(g==null){g=256;}while(j.jP()){var m=i.dn;if(j.type===122){var nodeName=i.ew().data;if(nodeName!=d){if(cP.nx){console.log("securityAes error: counter incorrect...is "+nodeName+" and should be "+d);d=nodeName;}else{throw new Error("securityAes error: counter incorrect...is "+nodeName+" and should be "+d);}}var n=new cP.jO(i);while(n.jP()){if(n.type===122){var nodeName=i.ew();if(nodeName.type===200){var o=v.aK(i.jQ().data);}else if(nodeName.type===201){var p=i.jQ().data;var q=v.aK(p);var r=[];var dU=Math.floor(d/(Math.pow(2,32)));e[8]=((dU>>24)&255);if(!f){e[8]|=128;}e[9]=(dU>>16)&255;e[10]=(dU>>8)&255;e[11]=(dU)&255;e[12]=(d>>24)&255;e[13]=(d>>16)&255;e[14]=(d>>8)&255;e[15]=d&255;r=gj.qA(e,q,a);var s=gj.qz(r.concat(),a);if(!v.D(s,o)){throw new Error("Authentication failed..data:"+r+".."+e);}var t=be.dj(r,0);var u=r.length-(t.dn+t.value);if((u<0)||(u>15)){}r=r.slice(t.dn,t.dn+t.value);d++;k=k.concat(r);}}}}if(i.dn==h.data.length){l=false;break;}}if(l){i.dn++;}c.splice(0,i.dn);return {data:k,b3:d,close:l};};gj.q_=function(a,b,c,d){d=(d!=null)?d:"paragonrobotics.com";var e=[];if(c===0){var f=new gj.i6(256);var g=new aZ.hash(d+a+b,"ASCII");var h=g.a_("SHA-256","ARRAY");for(var cI=0;cI<32;cI++){h[cI]^=f.qt[cI];}}else if(c===1){var i=new aZ.hash(d+a+b,"ASCII");var j=i.a_("SHA-256","ARRAY");var f=new gj.i6(256,j);var h=j;}return f;};/* (C) 2021 Halo Automation Systems LLC; This software is proprietary and is NOT to be distributed or shared in any way.*/"use strict";var ks={};if(typeof require!="undefined"){var p2;if(v.w=="node.js"){p2=require("crypto");var util=require("util");}else{p2=null;}}else{var p2=null;}function aI(a){var b=new Uint8Array(a.length);for(var c=0;c<a.length;c++){b[c]=a.charCodeAt(c);}return b;}function aJ(a){var b="";var c=new Uint8Array(a);for(var d=0;d<a["byteLength"];d++){b+=String.fromCharCode(c[d]);}return b;}ks.q$=[48,89,48,19,6,7,42,134,72,206,61,2,1,6,8,42,134,72,206,61,3,1,7,3,66,0];ks.q0=[48,129,135,2,1,0,48,19,6,7,42,134,72,206,61,2,1,6,8,42,134,72,206,61,3,1,7,4,109,48,107,2,1,1,4];ks.q1=[161,68,3];ks.qw=function(a){var b={_type:"/type/security/people/1","key":{_response:a["key"]["public"]}};return cP.c7(b);};ks.q2=function(a,b){if(p2){var c=p2["createECDH"]("prime256v1");var d=c["generateKeys"]("binary","uncompressed");var e={_type:"/type/security/key/people/elliptical-256","name":a,"key":{"private":v.aK(c["getPrivateKey"]("binary","uncompressed")),"public":v.aK(d)}};b(e);}else{var crypto=window["crypto"]||window["msCrypto"];var f=function(){var cL=function(){var g=ks.q3;var nc=g["_malloc"](400);var h=g["_malloc"](1);var i=g["_malloc"](400);var j=g["_malloc"](1);var k=g["_malloc"](1000);if(typeof crypto!=="undefined"){var l=new Uint8Array(1000);crypto["getRandomValues"](l);}else{var m=[];for(var cI=0;cI<8000;cI++){m.push(Math.floor(Math.random()*256));}var l=new Uint8Array(m);}g["HEAPU8"]["set"](l,k);var n=g["ccall"]("createKeyPair","number",["number","number"],[k,nc,h,i,j]);var o=g["HEAPU8"]["subarray"](h,h+1)[0];var p=g["HEAPU8"]["subarray"](nc,nc+o);var q=g["HEAPU8"]["subarray"](j,j+1)[0];var r=g["HEAPU8"]["subarray"](i,i+q);if(p[7]===0){p=p.slice(8,8+32);}else{p=p.slice(7,7+32);}r=r.slice(26);var e={_type:"/type/security/key/people/elliptical-256","name":a,"key":{"private":v.aK(aJ(p)),"public":v.aK(aJ(r))}};g["_free"](nc);g["_free"](h);g["_free"](i);g["_free"](j);g["_free"](g);b(e);};if(ks.q3==null){ks.q3=new iP.q4.cS({q5:"/javascript/cryptoShim.wasm"});ks.q3.q6(function(){cL();});}else{cL();}};if(crypto&&crypto["subtle"]){console.log("Using WebCrypto for key generation");var g=crypto["subtle"]["generateKey"]({"name":"ECDH","namedCurve":"P-256"},true,["deriveKey","deriveBits"]);g.then(function(h){var i=crypto["subtle"]["exportKey"]("raw",h["publicKey"]);i.then(function(j){var k=crypto["subtle"]["exportKey"]("pkcs8",h["privateKey"]);k.then(function(l){var m=v.aK(aJ(l));var n=m[35];m=m.slice(36,36+n);var o=v.aK(aJ(j));var e={_type:"/type/security/key/people/elliptical-256","name":a,"key":{"private":m,"public":o}};b(e);});k["catch"](function(l){console.log("Error with WebCrypto export, so trying WebAssembly approach");f();});});i["catch"](function(j){console.log("Error with WebCrypto export, so trying WebAssembly approach");f();});});}else{f();}}};ks.q7=function(a,b,c,d){var e={_type:"/type/security/key/people/elliptical-256","name":a,"certificate":d,"key":{"public":(typeof c=="string")?v.aK(c):c}};if(b){e["key"]["private"]=(typeof b=="string")?v.aK(b):b;}return e;};var q8="-----BEGIN PUBLIC KEY-----\nMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEgX55ioMWqRq6omFmc4dF+fLvIWXm\nf6eOGb+tOjN7+jSV75JBky0wWTq1Q+iNlcOHvasbmDbr4Y8y3lsFLRbs6A==\n-----END PUBLIC KEY-----";var q9=[48,89,48,19,6,7,42,134,72,206,61,2,1,6,8,42,134,72,206,61,3,1,7,3,66,0,4,129,126,121,138,131,22,169,26,186,162,97,102,115,135,69,249,242,239,33,101,230,127,167,142,25,191,173,58,51,123,250,52,149,239,146,65,147,45,48,89,58,181,67,232,141,149,195,135,189,171,27,152,54,235,225,143,50,222,91,5,45,22,236,232];ks.ra=function(a,b,c,d){function e(f,g){var h=v.aK(f);var i=v.aK(g);while(i.length<66){i.unshift(0);}var wb=[];wb=wb.concat(ks.q0,h.length,h,ks.q1,i.length,i);var f=v.aL(wb);var j=aI(f);return window.crypto["subtle"]["importKey"]("pkcs8",j,{"name":"ECDH","namedCurve":"P-256"},true,["deriveKey"]);}function f(g){const h="-----BEGIN PUBLIC KEY-----";const i="-----END PUBLIC KEY-----";const j=g.substring(h.length,g.length-i.length);const k=window["atob"](j.replace(/\n/g,""));const l=aI(k);return window.crypto["subtle"]["importKey"]("spki",l,{"name":"ECDSA","namedCurve":"P-256"},true,["verify"]);}function g(h){var i=v.aK(h);i=ks.q$.concat(i);const j=aI(v.aL(i));return window.crypto["subtle"]["importKey"]("spki",j,{"name":"ECDH","namedCurve":"P-256"},true,[]);}var h=function(i,j,k){console.log("err:"+i);d();};e(a,b).then(function(i){ks.rb=i;f(q8).then(function(j){var k=j;g(c).then(function(l){var m=l;d(k,m);},h);},h);},h);};ks.rc=function(a,b,c,d){if(p2){if(Array.isArray(c)===false){c=cP.dx(c);}b=new Uint8Array(b);var e=Buffer["from"](ks.q$);var f=Buffer["from"](aI(a));var g=Buffer.concat([e,f],e.length+f.length);var rc=p2["createVerify"]("SHA256");rc["write"](c,"buffer");rc["end"]();function length(h){return ("00"+(h.length/2).toString(16)).slice(-2).toString();}var h=Array.prototype["map"].call(b,function(i){return ("00"+i.toString(16)).slice(-2);}).join("");var v0=h.substring(0,h.length/2);var i=h.substring(h.length/2);var j=true;var k=true;while(v0.indexOf("00")===0){v0=v0.substring(2);j=false;}if(j&&parseInt(v0.substring(0,2),16)>127){v0="00"+v0;}while(i.indexOf("00")===0){i=i.substring(2);k=false;}if(k&&parseInt(i.substring(0,2),16)>127){i="00"+i;}var l="02"+length(v0)+v0+"02"+length(i)+i;var m="30"+length(l)+l;var n=rc["verify"]({"key":g,"format":"der","type":"spki"},Buffer["from"](m,"hex"),"buffer");d(n);}else{function o(p){const q=aI(p);return window.crypto["subtle"]["importKey"]("raw",q,{"name":"ECDSA","namedCurve":"P-256"},true,["verify"]);}if(Array.isArray(c)===false){var c=cP.dx(c);}o(a).then(function(p){window.crypto["subtle"]["verify"]({name:"ECDSA",hash:{name:"SHA-256"}},p,b,c).then(function(q){d(q);});});}};ks.rd=function(a,b,c,d,e){if(a!=="ECDSA"){throw new Error("Unsupported algorithm for signing");}if(b==null||d==null){throw new Error("No data or no key passed in");}if(p2){throw new Error("Unsupported for nodejs");}else{if(Array.isArray(d)===false){var d=cP.dx(d);}function f(g,h){var i=v.aK(g);var j=v.aK(h);while(j.length<66){j.unshift(0);}var wb=[];wb=wb.concat(ks.q0,i.length,i,ks.q1,j.length,j);var g=v.aL(wb);var k=aI(g);return window.crypto["subtle"]["importKey"]("pkcs8",k,{"name":"ECDSA","namedCurve":"P-256"},true,["sign"]);}f(b,c).then(function(g){window.crypto["subtle"]["sign"]({name:"ECDSA",hash:{name:"SHA-256"}},g,d).then(function(h){e(h);});});}};ks.i1=function(a,b,c){this.i6=a;this.ke=[];this.cT=b;this.qE=1;this.qF=1;this.qG=false;this.qH=false;this.qI=c;this.type="ec";this.k3=[];};ks.i1.prototype.qJ=function(){var a=this.qK();this.qG=true;return a;};ks.i1.prototype.qK=function(){var a=this;var i6=this.i6;var qI=this.qI;if(qI){var b={_type:"/security/share/target/1","document":{"document":{"name":{_responseTarget:i6.name},"key":{_response:i6["key"]["public"]}}},"key":{"1":{"name":{_responseTarget:a.re},"key":{_response:v.aL(a.rf)}}}};if(this.i6["certificate"]){b["document"]["authenticate"]=this.i6["certificate"]["authenticate"];}}else{var b={_type:"/security/share/sender/1","document":{"document":{"name":{_responseTarget:i6.name},"key":{_response:i6["key"]["public"]}}}};}return cP.c7(b);};ks.i1.prototype.qO=function(a,b,c){var d=this;var e=function(f,g){if(d.qI){var h=new gj.i6(256);var i=be.bf(iP.iW)+"/key/"+Date.now();gj.p6[i]={i6:h.qt,cp:Date.now()};var j=new gj.i6(256,f);var rf=gj.qx([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],h.qt,j);d.rf=rf;d.re=i;d.gK.gJ.kD();rg={name:i,qt:h.qt};}else{var rg=null;for(var cI in g){var ke=g[cI]["name"]._responseTarget;var k=v.aK(g[cI]["key"]._response);var j=new gj.i6(256,f);var rf=gj.qA([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],k,j);gj.p6[ke]={i6:rf,cp:Date.now()};if(rg==null){rg={name:ke,qt:rf};}}}c(rg);};var f=new cP.jH(b);var g=new cP.hO(f);g.jW();var Fe=g.dn;var data=b.slice(0,Fe);b.splice(0,Fe);var h=cP.de(data);if(h._type&&(h._type=="/security/share/target/1")){var i=false;}else if(h._type&&(h._type=="/security/share/sender/1")){var i=true;}var o5=h["key"];var j=h["document"]["document"];var k=v.aL(cP.c7(j));var rh=j["key"]._response;d.rh=rh;d.kd=j["name"]._responseTarget;if(h["document"]&&h["document"]["authenticate"]){var l=h["document"]["authenticate"]._response;}if(v.w=="node.js"){if(l){const rc=p2["createVerify"]("SHA256");rc["write"](k,"binary");rc["end"]();if(!rc["verify"](q8,l,"binary")){console.log("Certificate verification failed!");c();return;}else{console.log("Certificate verification correct!");}}else if(d.kd.search("/company/paragonrobotics.com/device/transform")!=-1){c();return;}var m=p2["createECDH"]("prime256v1");m["setPrivateKey"](v.aL(a["key"]["private"]),"binary");var n=m["computeSecret"](rh,"binary");n=v.aK(n.toString("binary"));e(n,o5);}else{var crypto=window.crypto||window.ri;var o=a["key"]["private"];var p=a["key"]["public"];if(crypto&&crypto["subtle"]){ks.ra(v.aL(o),v.aL(p),j["key"]._response,function(q,r){var s=function(){var t=crypto["subtle"]["deriveKey"]({"name":"ECDH","namedCurve":"P-256","public":r},ks.rb,{"name":"AES-CBC","length":256},true,["encrypt","decrypt"]);t.then(function(u){crypto["subtle"]["exportKey"]("raw",u).then(function(Iw){var n=v.aK(aJ(Iw));e(n,o5);});});};if(l){var t=v.aK(l);var u=t[3];var Iw=t[5+u];var Ix=t.slice(4,4+u);var Iy=t.slice(6+u);while(Ix.length<32){Ix.unshift(0);}while(Ix.length>32){Ix.shift();}while(Iy.length<32){Iy.unshift(0);}while(Iy.length>32){Iy.shift();}t=Ix.concat(Iy);l=v.aL(t);var Iz=crypto["subtle"]["verify"]({"name":"ECDSA","hash":"SHA-256"},q,aI(l),aI(k));Iz.then(function(IA){if(IA===false){c(false);return;}s();});}else{s();}});}else{console.log("Using WebAssembly module for shared secret and validation");var cL=function(){var q=ks.q3;if(l){const r=new Uint8Array(v.aK(k));const s=q["_malloc"](r.length);q["HEAPU8"]["set"](r,s);const t=new Uint8Array(v.aK(l));const u=q["_malloc"](t.length);q["HEAPU8"]["set"](t,u);const Iw=new Uint8Array(q9);const Ix=q["_malloc"](q9.length);q["HEAPU8"]["set"](Iw,Ix);var Iy=q["ccall"]("verifyParagonSignature","number",["number","number"],[s,r.length,u,t.length,Ix,q9.length]);console.log("correct?:"+Iy);q["_free"](s);q["_free"](u);}var Iz=v.aK(j["key"]._response);const IA=new Uint8Array(Iz);const IC=q["_malloc"](IA.length);q["HEAPU8"]["set"](IA,IC);var wb=[];var ID=p.concat();while(ID.length<66){ID.unshift(0);}var IE=o.concat();wb=wb.concat(ks.q0,IE.length,IE,ks.q1,ID.length,ID);const rb=new Uint8Array(wb);const IF=q["_malloc"](rb.length);q["HEAPU8"]["set"](rb,IF);const IG=q["_malloc"](32);var IH=q["ccall"]("getSharedSecret","number",["number","number"],[IC,IA.length,IF,rb.length,IG]);var n=q["HEAPU8"]["subarray"](IG,IG+IH);e(n,o5);q["_free"](IC);q["_free"](IF);q["_free"](IG);};if(ks.q3==null){ks.q3=new iP.q4.cS({q5:"/javascript/cryptoShim.wasm"});ks.q3.q6(function(){cL();});}else{cL();}}}};ks.i1.prototype.lH=function(a){var EY=[];if(!this.qG){EY=this.qJ();}return EY;};ks.i1.prototype.mH=function(a,b){var EY=[];if(!this.qG){EY=this.qJ();b(EY);}else if(this.rj&&this.rj.i6){EY=this.rj.lH(a);a.splice(0,a.length);b(EY);}else{b(EY);}};ks.i1.prototype.kJ=function(a){var EY=this.lH(a);return EY.concat(this.qN());};ks.i1.prototype.qD=function(a){return this.lC();};ks.i1.prototype.qN=function(){return [62,62];};ks.i1.prototype.kc=function(a,b){var c=false;var d=this;var e=this.k3.concat(a);this.k3=e;try{var f=function(g){d.qH=true;c=true;var h=d.qI?null:new gj.i6(256,g.qt);d.rj=new gj.i1(h,be.cn(g.name),d.cT,d.qI);d.ke=be.cn(g.name);d.rj.kc(e,function(i,j,k){e.splice(0,e.length);b(i,j,k,c,d.qI);});};if(!this.qH){d.qO(this.i6,e,function(g){if(g&&d.gK&&iP.qR){iP.qR(false,d.kd,d.rh,d.gK,function(h){if(!h){console.log("invalid public key");throw new Error("Unknown user public key used");}else{f(g);}});}else{f(g);}});}else{this.rj.kc(e,function(g,h,i){e.splice(0,e.length);b(g,h,i,c);});}}catch(g){if(g.message.slice(0,1)=="1"){b(null,null,null);}else{b(null,true,[173]);}}};ks.i1.prototype.qP=function(a,b,c){var d=ks.lC(this.i6,this.ke,a,this.qF,this.qL,this.qI);this.qF=d.b3;b(d.data,d.close,null,c);};/* (C) 2021 Halo Automation Systems LLC; This software is proprietary and is NOT to be distributed or shared in any way.*/"use strict";var rk={};if(typeof require!="undefined"){}rk.d_={"temperature":{type:"/type/K",rl:[{rm:"\u00b0C",rn:"\u00b0Celsius",ro:"C",rp:true,fY:5,rq:function(a){return a-273.15;},rr:function(a){return a+273.15;}},{rm:"\u00b0F",rn:"\u00b0Farenheit",ro:"F",rp:false,fY:5,rq:function(a){return ((a-273.15)*9/5+32);},rr:function(a){return ((a-32)*5/9)+273.15;}},{rm:"K",rn:"Kelvin",ro:"K",fY:5,rq:function(a){return (a);},rr:function(a){return (a);}},{rm:"\u00b0R",rn:"\u00b0Rankine",ro:"R",fY:5,rq:function(a){return ((a-273.15)*9/5+491.67);},rr:function(a){return ((a-491.67)*5/9)+273.15;}}]},"length":{type:"/type/m",rl:[{rm:"mm",rn:"millimeter",ro:"mm",rp:true,fY:4,rq:function(a){return a*1000;},rr:function(a){return a/1000;}},{rm:"m",rn:"meter",ro:"m",rp:true,fY:5,rq:function(a){return a;},rr:function(a){return a;}},{rm:"in",rn:"inch",ro:"in",rp:false,fY:4,rq:function(a){return a*100/2.54;},rr:function(a){return a*2.54/100;}},{rm:"ft",rn:"foot",ro:"ft",rp:false,fY:5,rq:function(a){return a*100/2.54/12;},rr:function(a){return a*12*2.54/100;}}]},"angle":{type:"/type/angle",rl:[{rm:"\u00b0",rn:"degree",ro:"\u00b0",fY:5,rq:function(a){return a;},rr:function(a){return a;}},{rm:"rad",rn:"radian",ro:"rad",fY:4,rq:function(a){return a/180*Math.PI;},rr:function(a){return a*180/Math.PI;}}]},"humidity":{type:"/type/humidity",rl:[{rm:"%",rn:"percent",ro:"%",fY:5,rq:function(a){return a*100;},rr:function(a){return a/100;}},{rm:"unitless",rn:"number",ro:"n",fY:6,rq:function(a){return a;},rr:function(a){return a;}}]},"percent":{type:"/type/percent",rl:[{rm:"%",rn:"percent",ro:"%",fY:5,rq:function(a){return a*100;},rr:function(a){return a/100;}},{rm:"ppm",rn:"ppm",ro:"ppm",fY:4,rq:function(a){return a*1000000;},rr:function(a){return a/1000000;}},{rm:"unitless",rn:"number",ro:"n",fY:6,rq:function(a){return a;},rr:function(a){return a;}},{rm:"dB",rn:"dB",ro:"dB",fY:9,rq:function(a){return 10*Math.rs(a);},rr:function(a){return Math.pow(10,a/10);}}]},"count":{type:"/type/count",rl:[{rm:"",rn:"count",ro:"",fY:5,rq:function(a){return a;},rr:function(a){return a;}}]},"illuminance":{type:"/type/m^-2cd",rl:[{rm:"lx",rn:"lux",ro:"lx",fY:5,rq:function(a){return a;},rr:function(a){return a;}},{rm:"fc",rn:"foot-candle",ro:"fc",fY:5,rq:function(a){return a*0.09290304;},rr:function(a){return a/0.09290304;}}]},"irradiance":{type:"/type/kgs^-2",rl:[{rm:"W/m\u00b2",rn:"W/m\u00b2",ro:"W/m\u00b2",fY:5,rp:true,rq:function(a){return a;},rr:function(a){return a;}}]},"conductivity":{type:"/type/mkgs^-3K^-1",rl:[{rm:"BTU/hr/ft/\u00b0F",rn:"BTU/hr/ft/\u00b0F",ro:"BTU/hr/ft/\u00b0F",fY:5,rp:false,rq:function(a){return a*3.4129/3.2808*1.8;},rr:function(a){return a/3.4129*3.2808/1.8;}},{rm:"W/m/\u00b0C",rn:"W/m/\u00b0C",ro:"W/m/\u00b0C",fY:5,rp:true,rq:function(a){return a;},rr:function(a){return a;}}]},"specific heat":{type:"/type/m^2s^-2K^-1",rl:[{rm:"BTU/lb/\u00b0F",rn:"BTU/lb/\u00b0F",ro:"BTU/lb/\u00b0F",fY:5,rp:false,rq:function(a){return a*0.239;},rr:function(a){return a/0.239;}},{rm:"kJ/kg/\u00b0C",rn:"kJ/kg/\u00b0C",ro:"kJ/kg/\u00b0C",fY:5,rp:true,rq:function(a){return a;},rr:function(a){return a;}}]},"speed":{type:"/type/ms^-1",rl:[{rm:"ft/hr",rn:"feet/hour",ro:"ft/hr",rp:false,fY:3,rq:function(a){return a*3600*100/2.54/12;},rr:function(a){return a/3600*12*2.54/100;}},{rm:"mm/s",rn:"millimeter/second",ro:"mm/s",rp:true,fY:4,rq:function(a){return a*1000;},rr:function(a){return a/1000;}},{rm:"m/s",rn:"meter/second",ro:"m/s",rp:true,fY:5,rq:function(a){return a;},rr:function(a){return a;}},{rm:"in/s",rn:"inch/second",ro:"in/s",rp:false,fY:4,rq:function(a){return a*100/2.54;},rr:function(a){return a*2.54/100;}},{rm:"ft/s",rn:"foot/second",ro:"ft/s",rp:false,fY:5,rq:function(a){return a*100/2.54/12;},rr:function(a){return a*12*2.54/100;}},{rm:"mph",rn:"miles per hour",ro:"ft",rp:false,fY:6,rq:function(a){return a*2.236;},rr:function(a){return a/2.236;}},{rm:"kph",rn:"kilometer per hour",ro:"kph",rp:true,fY:6,rq:function(a){return a*3.6;},rr:function(a){return a/3.6;}}]},"area":{type:"/type/m^2",rl:[{rm:"m\u00b2",rn:"meter\u00b2",ro:"m\u00b2",rp:true,fY:5,rq:function(a){return a;},rr:function(a){return a;}},{rm:"ft\u00b2",rn:"foot\u00b2",ro:"ft\u00b2",rp:false,fY:5,rq:function(a){return a*10.7639104;},rr:function(a){return a/10.7639104;}}]},"volume":{type:"/type/m^3",rl:[{rm:"m\u00b3",rn:"meter\u00b3",ro:"m\u00b3",rp:true,fY:5,rq:function(a){return a;},rr:function(a){return a;}},{rm:"ft\u00b3",rn:"foot\u00b3",ro:"ft\u00b3",rp:false,fY:5,rq:function(a){return a*35.3147;},rr:function(a){return a/35.3147;}},{rm:"L",rn:"liter",ro:"L",rp:true,fY:4,rq:function(a){return a*1000;},rr:function(a){return a/1000;}},{rm:"gal (US)",rn:"gallon (US)",ro:"gal",rp:false,fY:4,rq:function(a){return a*264.172051;},rr:function(a){return a/264.172051;}}]},"volumetric flow":{type:"/type/m^3s^-1",rl:[{rm:"m\u00b3/s",rn:"meter\u00b3/second",ro:"m\u00b3/s",rp:true,fY:5,rq:function(a){return a;},rr:function(a){return a;}},{rm:"ft\u00b3/s",rn:"foot\u00b3/second",ro:"ft\u00b3/s",rp:false,fY:5,rq:function(a){return a*35.3147;},rr:function(a){return a/35.3147;}},{rm:"L/s",rn:"liter/second",ro:"L/s",rp:true,fY:4,rq:function(a){return a*1000;},rr:function(a){return a/1000;}},{rm:"gal/s",rn:"gallon (US)/second",ro:"gal/s",rp:false,fY:4,rq:function(a){return a*264.172051;},rr:function(a){return a/264.172051;}}]},"mass":{type:"/type/kg",rl:[{rm:"g",rn:"gram",ro:"g",rp:true,fY:4,rq:function(a){return a*1000;},rr:function(a){return a/1000;}},{rm:"lb",rn:"pound (mass)",ro:"lb",rp:false,fY:5,rq:function(a){return a*2.2;},rr:function(a){return a/2.2;}},{rm:"kg",rn:"kilogram",ro:"kg",rp:true,fY:5,rq:function(a){return a;},rr:function(a){return a;}},{rm:"ton (US)",rn:"ton (US)",ro:"ton",rp:false,fY:6,rq:function(a){return a*2.2/2000;},rr:function(a){return a/2.2*2000;}}]},"density":{type:"/type/m^-3kg",rl:[{rm:"kg/m\u00b3",rn:"kg/m\u00b3",ro:"kg/m\u00b3",rp:true,fY:5,rq:function(a){return a;},rr:function(a){return a;}},{rm:"lb/ft\u00b3",rn:"pound (mass)/ft\u00b3",ro:"lb/ft\u00b3",rp:false,fY:5,rq:function(a){return a*0.0624;},rr:function(a){return a/0.0624;}}]},"pressure":{type:"/type/m^-1kgs^-2",rl:[{rm:"mb",rn:"millibars",ro:"mb",rp:true,fY:4,rq:function(a){return a/100;},rr:function(a){return a*100;}},{rm:"Pa",rn:"Pascals",ro:"Pa",rp:true,fY:5,rq:function(a){return a;},rr:function(a){return a;}},{rm:"in H20",rn:"inches of water",ro:"inH20",rp:false,fY:4,rq:function(a){return a*0.004014742;},rr:function(a){return a/0.004014742;}},{rm:"in Hg",rn:"inches of Mercury",ro:"inHg",rp:false,fY:4,rq:function(a){return a*0.0002952998;},rr:function(a){return a/0.0002952998;}},{rm:"psi",rn:"pound per in\u00b2",ro:"psi",rp:false,fY:5,rq:function(a){return a/6894.75729;},rr:function(a){return a*6894.75729;}}]},"mass/area":{type:"/type/m^-2kg",rl:[{rm:"lb/ft\u00b2",rn:"pound/foot\u00b2",ro:"lb",rp:false,fY:5,rq:function(a){return a*0.2048;},rr:function(a){return a/0.2048;}},{rm:"kg/m\u00b2",rn:"kilogram/meter\u00b2",ro:"kg",rp:true,fY:5,rq:function(a){return a;},rr:function(a){return a;}}]},"power":{type:"/type/m^2kgs^-3",rl:[{rm:"W",rn:"watt",ro:"W",fY:5,rq:function(a){return a;},rr:function(a){return a;}},{rm:"BTU/hr",rn:"BTU/hour",ro:"BTU/hr",rp:false,fY:5,rq:function(a){return a*3.4129;},rr:function(a){return a/3.4129;}},{rm:"hp",rn:"horsepower",ro:"hp",rp:false,fY:5,rq:function(a){return a*0.00134102209;},rr:function(a){return a/0.00134102209;}}]},"energy":{type:"/type/m^2kgs^-2",rl:[{rm:"J",rn:"Joule",ro:"J",rp:true,fY:5,rq:function(a){return a;},rr:function(a){return a;}},{rm:"kWh",rn:"kilowatt hour",ro:"kWh",rp:false,fY:5,rq:function(a){return a*2.77777778e-7;},rr:function(a){return a/2.77777778e-7;}},{rm:"BTU",rn:"BTU",ro:"BTU",rp:false,fY:5,rq:function(a){return a*0.00094781712;},rr:function(a){return a/0.00094781712;}}]},"time":{type:"/type/s",rl:[{rm:"ms",rn:"milliseconds",ro:"ms",fY:4,rq:function(a){return a*1000;},rr:function(a){return a/1000;}},{rm:"s",rn:"seconds",ro:"s",fY:5,rq:function(a){return a;},rr:function(a){return a;}},{rm:"min",rn:"minutes",ro:"m",fY:6,rq:function(a){return a/60;},rr:function(a){return a*60;}},{rm:"hr",rn:"hours",ro:"h",fY:7,rq:function(a){return a/3600;},rr:function(a){return a*3600;}}]},"money":{type:"/type/$",rl:[{rm:"$",rt:true,rn:"US dollars",ro:"$",rq:function(a){return a;},rr:function(a){return a;}}]},"cost/time":{type:"/type/$s^-1",rl:[{rm:"$/day",rt:true,rn:"US dollars/day",ro:"$/day",rq:function(a){return a*86400;},rr:function(a){return a/86400;}}]},"degree day":{type:"/type/sK",rl:[{rm:"\u00b0F day",rt:true,rn:"\u00b0F day",ro:"\u00b0F day",rp:false,fY:5,rq:function(a){return a*(9/5)/86400;},rr:function(a){return a/(9/5)*86400;}},{rm:"\u00b0C day",rt:true,rn:"\u00b0C day",ro:"\u00b0C day",rp:true,fY:5,rq:function(a){return a/86400;},rr:function(a){return a*86400;}}]},"graphic-size":{type:"/type/graphic-size",rl:[{rm:"px",rn:"pixels",ro:"px",fY:5,rq:function(a){return a;},rr:function(a){return a;}},{rm:"pt",rn:"points",ro:"pt",fY:6,rq:function(a){return a*0.75;},rr:function(a){return a/0.75;}},{rm:"em",rn:"em",ro:"em",fY:6,rq:function(a){return a*0.0625;},rr:function(a){return a/0.0625;}},{rm:"pc",rn:"pica",ro:"pc",fY:6,rq:function(a){return a*0.0625;},rr:function(a){return a/0.0625;}}]}};rk.ru=[{name:"angle",ef:"rad",rv:"angle"},{name:"humidity",ef:"0-1",rv:"humidity"},{name:"percent",ef:"0-1",rv:"percent"},{name:"on-off",ef:"",rv:"boolean"},{name:"solid angle",ef:"sr",rv:"solid angle"},{name:"amount of substance",ef:"mol",rv:"mol"},{name:"current",ef:"A",rv:"A"},{name:"length",ef:"m",rv:"m"},{name:"luminous intensity",ef:"cd",rv:"cd"},{name:"mass",ef:"kg",rv:"kg"},{name:"time",ef:"s",rv:"s"},{name:"temperature",ef:"K",rv:"K"},{name:"capacitance",ef:"F",rv:"m^-2kg^-1s^4A^2"},{name:"inductance",ef:"H",rv:"m^2kgs^-2A^-2"},{name:"charge",ef:"C",rv:"sA"},{name:"energy",ef:"J",rv:"m^2kgs^-2"},{name:"frequency",ef:"Hz",rv:"s^-1"},{name:"force",ef:"N",rv:"mkgs^-2"},{name:"illuminance",ef:"lx",rv:"m^-2cd"},{name:"power",ef:"W",rv:"m^2kgs^-3"},{name:"resistance",ef:"\u03a9",rv:"m^2kgs^-3A^-2"},{name:"voltage",ef:"V",rv:"m^2kgs^-3A^-1"},{name:"pressure",ef:"Pa",rv:"m^-1kgs^-2"},{name:"magnetic field",ef:"T",rv:"kgs^-2A^-1"},{name:"acceleration",ef:"m/s\u00b2",rv:"ms^-2"},{name:"area",ef:"m\u00b2",rv:"m^2"},{name:"density",ef:"kg/m\u00b3",rv:"m^-3kg"},{name:"irradiance",ef:"W/m\u00b2",rv:"kgs^-2"},{name:"speed",ef:"m/s",rv:"ms^-1"},{name:"volume",ef:"m\u00b3",rv:"m^3"},{name:"volumetric flow",ef:"m\u00b3/s",rv:"m^3s^-1"},{name:"degree day",ef:"degree day",rv:"sK"},{name:"count",ef:"0-1",rv:"count"},{name:"enthalpy",ef:"m\u00b2/s\u00b2",rv:"m^2s^-2"}];/* (C) 2021 Halo Automation Systems LLC; This software is proprietary and is NOT to be distributed or shared in any way.*/"use strict";var iP={};if(typeof require!="undefined"){}var rw=false;iP.rx=false;iP.ry=[];iP.z=function(a,b){if(a==null){a={};}if(a.iQ==null){a.iQ={rz:"en-US",rl:"US",dW:"12",rA:"USD",je:[],iR:[],rB:[]};}haloS.jS=a.iQ.jS;haloS.dv=a.dv;iP.iY=0;iP.iQ=a.iQ;iP.rC=a.rC;iP.cQ=new cP.cT(a.rD,a.rE);var iW=(a.iW==null)?"/company/paragonrobotics.com/device/software/1":a.iW;iP.iW=be.cn(iW);if(a.iA){iP.iA=a.iA;}else{iP.iA=new gG.iA(null,iP.iW);}iP.fP=a.fP;iP.rF=true;iP.jn=a.rG;iP.rH=[];iP.mg=[];if(!iP.rx){v.nextTick(function(){iP.rx=true;iP.rI(b);});}else{iP.rI(b);}};iP.rI=function(a){if(rw){iP.rJ(function(){if(a){a();}});}else{if(a){a();}}};iP.i7=function(a,b,c,d){var e=true;var target=be.cv(a.concat());for(var dz=0;dz<iP.iQ.iR.length;dz++){if(be.dQ(iP.iQ.iR[dz].target,target)){e=false;break;}}if(e){var f=be.ek(target);b=((b==null)||(b.length===0))?null:b;var su={target:target,dd:b,i4:{i6:(c&&c.jl)?c.jl:null},jb:d};var g=iP.rK;for(var cI=0;cI<g.length;++cI){if(be.dQ(target,g[cI].target)){g.bV=su;break;}}iP.iQ.iR.push(su);if(iP.jn){iP.jn();}}};iP.iM=function(a){var b=iP.iA.l0();for(var cI=0;cI<b.length;cI++){var CB=b[cI];var c={target:CB.iW,gK:CB.gK};a.push(c);}};iP.rL=function(){var a=[];iP.iM(a);var b=[];for(var cI=0;cI<a.length;cI++){var c=be.bf(a[cI].target);if(c.search("device/software")!=-1){continue;}var mr={target:a[cI].target,dd:"",bV:a[cI]};b.push(mr);}var d=[];return b;};iP.rM=function(a){var b=iP.rL();var c=[];iP.rN(0,b,function(){a(b,c);});};iP.rO=function(a){var b=function(c){for(var dz=0;dz<c.length;dz++){if((c[dz]!=null)&&(be.dQ(c[dz].target,a))){var d={kl:iR[cI].target,iW:iR[cI].dd,target:c[dz].target,name:c[dz].name};if(d.iW==null){d.iW=be.ek(iR[cI].target);}return d;}}};var iR=iP.rK;a=be.cv(a);for(var cI=0;cI<iR.length;++cI){if(be.dQ(a,iR[cI].target)){var c={kl:iR[cI].target,iW:iR[cI].dd};if(c.iW==null){c.iW=be.ek(iR[cI].target);}return c;}if(iR[cI].c3){var d=b(iR[cI].c3);if(d){return d;}}}var c={kl:a,iW:be.ek(a)};return c;};iP.rP=function(a){throw new Error("deprecated");if(iP.rK){}var iR=iP.rL();var rK=[];for(var cI=0;cI<iR.length;++cI){var b=be.ek(iR[cI].target);iR[cI].rQ=be.d8(b);if(iR[cI].dd==b){var rR=b;}else{var rR=(iR[cI].dd)?(iR[cI].dd+" ("+b+")"):b;}iR[cI].rR=rR;iR[cI].rS=(iR[cI].dd)?(iR[cI].dd):"";iR[cI].dd=iR[cI].rS;var c=(iR[cI].rT)?"Firmware update available":"";var mr={dd:iR[cI].dd,target:iR[cI].target,type:((iR[cI].rQ=="GW")||(iR[cI].rQ=="TR"))?"gateway":(rR=="Server")?"server":"device",bV:iR[cI].bV,i4:{}};rK.push(mr);}for(var dz=0;dz<iP.iQ.iR.length;dz++){var d=true;for(var e=0;e<rK.length;e++){if(be.dQ(iP.iQ.iR[dz].target,rK[e].target)){d=false;var f=rK[e];break;}}if(d){var b=be.ek(iP.iQ.iR[dz].target);var mr={name:rR,dd:iP.iQ.iR[dz].dd,source:"deviceList",target:iP.iQ.iR[dz].target,type:(b.search("GW")!=-1)?"gateway":"device",bV:iP.iQ.iR[dz],i4:iP.iQ.iR[dz].i4,hJ:iP.iQ.iR[dz].hJ};mr.bV.iy=true;rK.push(mr);}else{var yi=iP.iQ.iR[dz];f.bV.iy=true;f.bV.iL=yi.iL;if(yi.c3){f.bV.c3=yi.c3.concat();}f.bV.rU=yi.rU;if(yi.cO){f.bV.cO=v.ac(yi.cO);}if(yi.hJ){f.hJ=v.ac(yi.hJ);}f.dd=yi.dd;f.i4=yi.i4;}}for(var cI=0;cI<iP.iQ.je.length;cI++){var g=iP.iQ.je[cI];if(g.jf.type===1){var d=true;if(g.target){var h=be.cv(g.target.concat());for(var dz=0;dz<rK.length;dz++){if(be.dQ(rK[dz].target,h)){d=false;var f=rK[dz];break;}}}if(d||(g.target==null)){g.type="gateway";g.rV=false;rK.push(g);}else{f.jf=g.jf;}}}if(rw){rK.push(rW);}for(var cI=0;cI<iP.ry.length;cI++){rK.push(iP.ry[cI]);}iP.rK=rK;a(rK);};iP.rX=function(a,b,c,d){var e=be.d2(a,be.cj(b));iP.cQ.oQ(e,function(f,g){if(f===true){var h=be.d2(e,[242]);iP.cQ.dJ(h,function(i,j){c.push([e,i]);iP.rX(a,b+1,c,d);});}else{d();}});};iP.rN=function(a,b,c){if(a>=b.length){c();return;}var d=b[a];var e=be.d2(d.target,[242]);iP.cQ.dJ(e,function(f,g){if(f!=null){d.dd=f;d.rV=true;}else{d.rV=false;}iP.rN(a+1,b,c);});};iP.rY=function(a,b,c){var d=function(e){var f=false;if(e.type=="or"){for(var dz=0;dz<e.value.length;dz++){f|=d(e.value[dz]);}}else if(e.type=="group"){if(a.hJ){for(var dz=0;dz<a.hJ.length;dz++){f|=(a.hJ[dz]==e.value);}}}else if(e.type=="search"){return 1;var g=false;var h=e.value.toLowerCase();var f=false;if(a.dd){f|=(a.dd.toLowerCase().search(h)!=-1);}if(h.search("/company")===0){var type=be.bf(a.target);f|=(type.toLowerCase().search(h)!=-1);}else{var type=be.ek(a.target);f|=(type.toLowerCase().search(h)!=-1);}if(a.hJ){for(var dz=0;dz<a.hJ.length;dz++){var i=haloS["returnAreaNameFromPath"](a.hJ[dz]);f|=(i.toLowerCase().search(h)!=-1);}}if(!f){g=true;if(c&&c.rZ&&(a.c3||(a.bV&&a.bV.c3))){var j=a.c3?a.c3:a.bV.c3;for(var dz=0;dz<j.length;dz++){f|=(j[dz].name.toLowerCase().search(h)!=-1);}}}}return f;};var e=true;for(var cI=0;cI<b.length;cI++){var su=b[cI];var f=d(su);if(!f){e=false;}}return e;};iP.r_=function(a,b){return (a.ed==null)?false:(a.ed===1)?false:true;};iP.r$=function(a,b,c){b.data=[];var d=[];var e=[];for(var cI=0;cI<a.length;cI++){if((a[cI].id.search("/company/paragonrobotics.com/device/refresh")===-1)&&(a[cI].id.search("/company/paragonrobotics.com/device/temperature")===-1)){e.push(a[cI]);}else{d.push(a[cI]);}}a=[];a=a.concat(e);a=a.concat(d);if(e.length===0){var f=true;}var g=[];var h=[{name:"Ungrouped",children:[]}];if(c.r0){for(var cI=0;cI<c.r0.length;cI++){if(c.r0[cI].type==="search"){var i=c.r0[cI].value.toLowerCase();}}}var j=false;var k=[];var l=[];var m=[];var n="Unclaimed (select "+(c.r1?"gateway":"device")+" to configure)";for(var cI=0;cI<a.length;cI++){if(a[cI].hJ){j=true;}var o=a[cI].id.search("sensor")===-1?false:true;if(c.r0){var BH=iP.rY(a[cI],c.r0,c);if(!BH){continue;}}if(c.r1!=null){if((c.r1&&a[cI].type!="gateway")||(!c.r1&&a[cI].type!="device")){continue;}}if(c.r2){var p=false;for(var q=0;q<c.r2.length;q++){if(be.bf(a[cI].target)==c.r2[q]){p=true;break;}}if(p){continue;}}if(a[cI].dd&&(a[cI].dd=="Server")){continue;}if(c.r3){var r=false;var s=c.r3.toLowerCase();var t=false;if(a[cI].dd){t|=(a[cI].dd.toLowerCase().search(s)!=-1);}else{var type=be.ek(a[cI].target);t|=(type.toLowerCase().search(s)!=-1);}if(a[cI].hJ){for(var dz=0;dz<a[cI].hJ.length;dz++){var u=haloS["returnAreaNameFromPath"](bV.hJ[dz]);t|=(u.toLowerCase().search(s)!=-1);}}if(!t){r=true;if(c.rZ&&a[cI].bV&&a[cI].bV.c3){var Iw=haloS.r7(a[cI].bV);for(var dz=0;dz<Iw.length;dz++){t|=(Iw[dz].name.toLowerCase().search(s)!=-1);}}if(!t){continue;}}}var dd=((a[cI].dd)&&(a[cI].dd.length))?a[cI].dd:be.ek(a[cI].target);var o=a[cI].id.search("sensor")===-1?false:true;var Ix={name:dd,r9:o?null:"device-icon",data:(c.sa)?a[cI]:null,sb:true};var Iy=false;var Iz=false;if(i&&dd.toLowerCase().search(i)!==-1){Iy=true;Iz=true;}if((a[cI].id.search("/company/paragonrobotics.com/device/refresh")===-1&&a[cI].id.search("/company/paragonrobotics.com/device/temperature")===-1)){var IA=false;if(c.sf&&a[cI].children){Ix.children=[];Iy=Iz;for(var BH=0;BH<a[cI].children.length;BH++){var IC=false;for(var q=0;q<a.length;q++){if(a[q].id===a[cI].children[BH]||a[q].id===a[cI].children[BH].id){a[cI].children[BH]=a[q];a[q].sh=l.length;IC=true;break;}}if(!IC){continue;}var ID=((a[cI].children[BH].dd)&&(a[cI].children[BH].dd.length))?a[cI].children[BH].dd:be.ek(a[cI].children[BH].target);Ix.children.push({name:ID,sj:"#545aa754",r9:"modules-icon",data:{hx:a[q]}});if(i&&ID.toLowerCase().search(i)!==-1){Iy=true;}}}}else if(c.sf&&a[cI].id.search("/company/paragonrobotics.com/device/refresh")===0){var IA=true;Ix.r9="modules-icon";continue;}else{if(f){Ix.r9="modules-icon";}else if(c.rZ){var IA=true;if(a[cI].sh==null){if(Ix.name.search("Unconnected")===-1){Ix.name=Ix.name+" (Unconnected)";Ix.r9="modules-icon";}if(i&&Ix.name.toLowerCase().search(i)!==-1){Iy=true;Iz=true;}var IE=true;}else{continue;}}else{continue;}}if(c.rZ){Ix.children=[];if(!o&&!IA){Ix.children.push({name:"Onboard Sensors",r9:"onboard-icon",data:null,sb:true,children:[]});if(i&&"Onboard Sensors".toLowerCase().search(i)!==-1){Iy=true;}}var IF=false;var IG=function(IH,II,IJ,IK,IL,IM){if(IM==null){IM=cI;}var IN=((a[IM].dd)&&(a[IM].dd.length))?a[IM].dd:be.ek(a[IM].target);for(var dz=0;dz<IH.length;dz++){if(IH[dz]!=null){var IO=false;var v1=IH[dz];if(c.sw){if(v1.d_.length===0){IO=true;}for(var q=0;q<v1.d_.length;q++){for(var IP=0;IP<c.sw.length;IP++){if(v1.d_[q]===c.sw[IP]){IO=true;break;}}}}else if(c.sy){for(var IP=0;IP<c.sy.length;IP++){if(v1.ef===c.sy[IP]){IO=true;break;}}}else if(c.sz){for(var IP=0;IP<c.sz.length;IP++){if(a[IM]["id"].includes(c.sz[IP])){IO=true;break;}}}else{IO=true;}if(i&&IH[dz].name.toLowerCase().search(i)===-1&&!Iy){IO=false;}if(iP.r_(IH[dz],a[IM])){IO=false;}if(IO){IF=true;if(r){if(IH[dz].name.toLowerCase().search(s)==-1){continue;}}var IQ={name:IH[dz].name,color:a[cI].rV?"#008800":(a[IM].rV===false)?"#bb0000":"#000088",data:{type:IH[dz].type.concat(),target:IH[dz].target.concat(),b3:IM,sB:dz,dd:IH[dz].name,iW:IN,hx:IH[dz],sC:a[IM],sD:IH[dz].sD}};if(v1.ef){IQ.data.ef=v1.ef;}if(IJ){IQ.data.sE=a[cI].cr[IK].name;Ix.children[Ix.children.length-1].children.push(IQ);}else{if(II){if(IE){Ix.children.push(IQ);}else{Ix.children[Ix.children.length-1].children.push(IQ);}}else{if(o){Ix.children.push(IQ);}else{Ix.children[0].children.push(IQ);}}}}if(dz==IH.length-1&&IF===false){Ix.children.splice(Ix.children.length-1,1);}}}};var Iw=a[cI].c3;if(Iw){IG(Iw,IA);}if(a[cI].children){Iy=Iz;for(var BH=0;BH<a[cI].children.length;BH++){var IC=false;for(var q=0;q<a.length;q++){if(a[q].id===a[cI].children[BH]||a[q].id===a[cI].children[BH].id){a[cI].children[BH]=a[q];a[q].sh=l.length;IC=true;break;}}if(!IC){continue;}var ID=((a[cI].children[BH].dd)&&(a[cI].children[BH].dd.length))?a[cI].children[BH].dd:be.ek(a[cI].children[BH].target);Ix.children.push({name:ID,sj:"#545aa754",r9:"modules-icon",data:null,sb:true,children:[]});if(i&&ID.toLowerCase().search(i)!==-1){Iy=true;}IF=false;IG(a[cI].children[BH].c3,true,false,null,a[q].id,q);}}if(a[cI].cr&&a[cI].cr.length>0){Iy=Iz;for(var IH=0;IH<a[cI].cr.length;IH++){Ix.children.push({name:"Installed package: "+a[cI].cr[IH].name,r9:"packages-icon",data:null,sb:true,children:[]});if(i&&("Installed package: "+a[cI].cr[IH].name).toLowerCase().search(i)!==-1){Iy=true;}IF=false;IG(a[cI].cr[IH].c3,false,true,IH,cI);}}if(Ix.children.length===0){continue;}}else{Ix.data={b3:cI,hx:a[cI]};}Ix.sG=be.d8(be.ek(a[cI].target));Ix.id=be.bf(a[cI].target);if(Ix.data){Ix.data.target=a[cI].target;}if(Ix.id!=null){var II=(v.ab(Ix));II.name=be.ek(a[cI].target);k.push(II);}l.push((Ix));var IJ=false;for(var q=0;q<g.length;q++){if(g[q].name==Ix.sG){IJ=true;break;}}if(!IJ){g.push({name:Ix.sG,children:[]});q=g.length-1;}g[q].children.push((Ix));var IK=false;if(a[cI].hJ){for(var dz=0;dz<a[cI].hJ.length;dz++){var IL=a[cI].hJ[dz];var u=haloS["returnAreaNameFromPath"](IL);var IJ=false;for(var q=0;q<h.length;q++){if(h[q].name==u){IJ=true;break;}}if(!IJ){h.push({name:u,children:[]});q=h.length-1;}h[q].children.push((Ix));IK=true;}}if(!IK){h[0].children.push((Ix));}}var IM=40;var IN=function(IO,IP){return (IO.name.localeCompare(IP.name));};var IO=function(IP,IQ){return (IP.id.localeCompare(IQ.id));};var IP=function(IQ,IR){return (IQ.sG.localeCompare(IR.sG));};if(!c.sP&&j){c.sP="group";}if(c.sP=="group"){if(h.length){if(!h[0].children.length){h.splice(0,1);}h.sort(IN);}var IQ=h;}else if(c.sP=="type"){if(g.length){g.sort(IN);}IQ=g;}else if(c.sP=="id"){if(k.length){k.sort(IO);}IQ=k;}else{if(l.length){l.sort(IN);}IQ=l;}if(c.sR){if(m.length){m.sort(IN);b.data.push({name:n,sS:false,children:m});}if(IQ.length){b.data.push({name:"Claimed",sS:(IQ.length>IM),children:IQ});}}else{b.data=IQ;var IR=0;var IS=0;for(var cI=0;cI<b.data.length;cI++){var v1=b.data[cI];IR++;if(v1.children){for(var dz=0;dz<v1.children.length;dz++){IS++;}}}if((IS>IM)&&(IR>1)){for(var cI=0;cI<b.data.length;cI++){var v1=b.data[cI];v1.sS=true;}}}if(c.sW){b.data.push({name:"Not assigned",color:"#000088",sS:false,data:{target:{_type:"/route/read",value:{_response:1}}}});}if(c.sX){b.data.push({name:"Is constant",color:"#000088",sS:false,data:{target:{_type:"/constant",value:{_response:0}}}});}if(b.data.length===0){b.data.push({name:(c.sY)?c.sY:"None"});}};iP.sZ=function(){for(var cI=0;cI<iP.iQ.je.length;cI++){var CB=iP.iQ.je[cI];if((CB.jf)&&(CB.jf.jm===0)){if(CB.jf.type===1){if(typeof BUILD_IS_EMBEDDED=="undefined"){gG.jj(CB);}iP.jh(CB);}}}};iP.s_=function(a,b){var c=new mn.gJ(true,a.jg,a.port,(a.port===81),iP.iW);iP.s$=new gG.iZ(c,iP.cQ,iP.iW,null,iP.iA,b);};iP.s0=function(a){var s1=a.s1;var host=a.host;var s2=a.s2;var protocol=a.protocol;var mf=a.mf;var j5=a.j5;var s3=a.s3;var s4=a.s4;var kI=a.kI;var s5=a.s5;var jb=a.jb;var s6=a.s6;var s7=a.s7;var nb=a.nb;var ni=a.ni;iP.s6=s6;iP.s8(host,s2,protocol,mf,iP.iW,s3,s4,null,j5,s5,jb,kI,s7,nb,ni);};iP.s8=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){var t;var u=false;var Iw=false;if(q==null){q=0;}if(p&&!i){a=gG.ib(be.bf(h.target));}if(h&&h.target){var Ix=be.bf(h.target);if(Ix.search("container/1")!=-1){c="websocket";var Iy=true;}}v.log("Trying connection to:"+a);var rg=g?g:f;if(h&&(a.search(gG.ib(Ix))!=-1)){Iw=true;}if(!u&&(c=="websocket")&&(typeof WebSocket!="undefined")){d=d||iP.iQ.td;if(true){d=false;}if(d&&(b===80)){b=443;}t=new mp.gJ(true,a,b,d,e,rg,n);if(l){t.gK.kI=l;}}else{t=new mn.gJ(true,a,b,d,e,rg);}if(m){t.kr=true;t.ni=o;if(i){iP.te=true;}}t.j5=i;t.jb=k;t.mx=function(){v.log("Closing connection to:"+a+":"+b+".."+t.gK.jo);if(t.gK.jo>1){var Iz=false;var IA=m?500:t.th?1200:8000;if(i){if(iP.ti){v.setTimeout(function(){iP.s8(a,b,c,d,e,f,g,h,i,null,k,l,m,n,o,p,q+1,t.gK.f7,t.gK.jT);},IA);}}else{v.setTimeout(function(){iP.jh(h,Iz);},IA);}if(t.io){t.io.close();}}};gG.gW.push(t);var s$=new gG.iZ(t,iP.cQ,be.cn("network/main/"+iP.iY++),e,iP.iA,function(Iz,IA,IC){if(!Iz&&!Iy&&(c=="websocket")){if(t.io){t.io.close();}v.setTimeout(function(){iP.s8(a,b,"http",d,e,f,g,h,i,j,k,l,m,n,o,p,q);},200);return;}if(!Iz&&h){var ID=p?false:true;v.setTimeout(function(){iP.jh(h,ID);},10000);if(t.io){t.io.close();}return;}if(!Iz&&i){if(q){if(t.io){t.io.close();}if(q>10){iP.s6();return;}v.setTimeout(function(){iP.s8(a,b,"websocket",d,e,f,g,h,i,j,k,l,m,o,p,q+1);},10000);return;}}v.log("Successful connection to:"+a);if(r||s){t.gK.kC(r,s);}if(Iz&&i){iP.ti=true;iP.l5=s$;}if(h){h.rV=Iz;}if(Iz&&Iw){var vJ=be.bf(t.gK.iv);haloS["readGatewayEthernetConfiguration"](vJ,function(IE){if(IE&&IE["target"]&&(IE["target"].slice(0,2)!="0.")){var IF=IE["target"];h.jf.jg=IF;if(iP.rC){iP.rC();}t.gK.gJ.th=true;v.setTimeout(function(){t.gK.gJ.close();if(t.io){t.io.close();}},100);}else{if(j){j(Iz,IA);}iP.tq=null;}});}else{if(j){j(Iz,IA,IC);}iP.tq=null;}});};iP.dM=function(a,b,c,d,e,f,g,h){if(e>=d.length){h();return;}var sn={};var name=be.bf(b)+"/"+d[e];a.dN(be.cn(name),function(i,j){if(i){var k=cP.de(i);if(k._type){sn._type=k._type;}}var l=name+"/name";a.dJ(be.cn(l),function(m,n){sn["name"]={_response:m};sn["dimension"]={_response:parseInt(d[e],10)};sn["target"]={_responseTarget:name};var o=name+"/version";haloS["wakeDeviceUpTemporarily"](c,function(){a.dL(be.cn(o),null,function(p,q){if(q){}else{var k=cP.de(p);sn["version"]=k;}var r=name+"/description";a.dJ(be.cn(r),function(s,t){if(t){s="";}sn["description"]={_response:s};var u=name+"/product";haloS["wakeDeviceUpTemporarily"](c,function(){a.dJ(be.cn(u),function(Iw,Ix){if(Ix){iP.dM(a,b,c,d,e+1,f,g,h);return;}sn["product"]={_response:Iw};var Iy=name+"/option";a.dL(be.cn(Iy),null,function(Iz,IA){if(Iz){var k=cP.de(Iz);for(var cI in k){if(k[cI]["reserved/description"]){k[cI]["description"]=v.ac(k[cI]["reserved/description"]);delete k[cI]["reserved/description"];}}sn["option"]=k;}var IC=name+"/output";a.dL(be.cn(IC),null,function(ID,IE){if(ID){var k=cP.de(ID);sn["output"]=k;}var IF=name+"/route";a.dL(be.cn(IF),null,function(IG,IH){if(IG){var k=cP.de(IG);sn["route"]=k;}var II=false;if(sn["product"]._response&&sn["product"]._response.search("/machine/test")!=-1){var IJ={dT:sn["option"]["smaller"]["value"]._response,dU:sn["option"]["larger"]["value"]._response};var IK=iP.iQ.iR;var IL=be.cv(b).slice(0,-1);for(var cI=0;cI<IK.length;cI++){if(be.dQ(IL,IK[cI].target)){try{if(sn["option"]["test"]["target"]){var dP=be.cn(sn["option"]["test"]["target"]._type);}else{var dP=be.cn(sn["option"]["test"]._type);}}catch(IM){var dP=be.cn(sn["route"]["test"]["target"]._type);}for(var dz=0;dz<IK[cI].c3.length;dz++){if(be.dQ(dP,IK[cI].c3[dz].target)){IK[cI].c3[dz].sD=IJ;II=true;break;}}}}}if(!II){cP.dF(f,sn);}iP.dM(a,b,c,d,e+1,f,g,h);});});});});});});});});});});};iP.d1=function(a,b,c,d){var target=be.d2(a.target,[246]);if(a.bV.cO==null){a.bV.cO={};}var e=cP.cQ.c1();e.dH=d;haloS["wakeDeviceUpTemporarily"](be.bf(a.target),function(){e.dN(target,function(f,g){if(f==null){b();return;}var h=cP.de(f);var i=[];for(var cI in h){if((cI!="_type")&&(cI!="_response")&&(cI!="_other")&&(parseInt(cI,10)>0)){console.log("i is:"+cI);i.push(cI);}}a.bV.cO={};iP.dM(e,target,be.bf(a.target),i,0,a.bV.cO,d,function(){if(a.bV){a.bV.rU=true;}var j=iP.iQ.iR;for(var cI=0;cI<j.length;cI++){if(be.dQ(a.target,j[cI].target)){j[cI].cO=a.bV.cO;j[cI].rU=true;break;}}if(iP.jn){iP.jn();}b();});});});};iP.tr=function(a,b,c,d,e,f){if(b>=a.length){c();return;}var Bp=a[b];if(d){d(b,a.length);}var g=iP.iQ.iR;for(var cI=0;cI<g.length;cI++){if(be.dQ(Bp.target,g[cI].target)){var jb=g[cI].jb;break;}}if((!jb||(jb.i8===1))&&!f){iP.tr(a,b+1,c,d,e,f);return;}if((Bp.bV==null)||!Bp.bV.iy||(!f&&(Bp.bV&&Bp.bV.rU))){iP.tr(a,b+1,c,d,e,f);return;}iP.d1(Bp,function(){iP.tr(a,b+1,c,d,e,f);},d,e);};iP.ts=function(a,b,c,d,e,f){if(c>=d){f(e);return;}var g=cP.cQ.c1();g.dH=b;var h=be.d2(a,be.cj(c));g.dL(h,null,function(i,j){g.destroy(function(){var k=cP.de(i);e[""+c]=k;iP.ts(a,b,c+1,d,e,f);});});};iP.dK=function(a,b,c){var d=cP.cQ.c1();d.dH=b;d.dL(a,null,function(e,f){d.destroy(function(){if(e==null){c();return;}var g=cP.de(e);c(g);});});};iP.tt=function(a,b,c){var d=cP.cQ.c1();d.dH=b;d.dN(a,function(e,f){d.destroy(function(){if(e==null){c();return;}var g=cP.de(e);var h=0;for(var yi in g){if((yi=="_other")||(yi=="_type")){continue;}h++;}var i={};iP.ts(a,b,1,h+1,i,c);});});};iP.tu=function(a,b,c,d){var target=be.d2(a.target,[248]);var bV=be.bf(target);if(bV.search("sensor/18/")!=-1){var e=[0,1,6,7];}else if(bV.search("sensor/14/")!=-1){var e=[10,9,5,5];}if(a.bV.c3==null){a.bV.c3=[];}iP.dK(target,d,function(f){if(f!=null){var g=[];var h=0;for(var yi in f){h++;}if(h===0){if(bV.search("/container")!=-1){a.bV.iL=true;for(var dz=0;dz<iP.iQ.iR.length;dz++){if(be.dQ(iP.iQ.iR[dz].target,a.target)){iP.iQ.iR[dz].iL=true;}}}if(c){c();}b();return;}for(var yi in f){var dD=null;if((yi=="_other")||(yi=="_type")){continue;}var i=f[yi];var d_=[];if(i._type){d_.push(i._type);}if(i.d5){for(var cI=0;cI<i.d5.length;cI++){d_.push(i.d5[cI]);}}var type="";var j=false;for(var cI=0;cI<d_.length;cI++){if(d_[cI]=="/machine/sensor/basic/1"){type="sensor";}else if(d_[cI]=="/machine/sensor/compare/1"){type="compare";}else if((d_[cI]=="/machine/sensor/boolean/1")&&(bV.search("light/")!=-1)){type="button";}else if((d_[cI]=="/machine/sensor/people/button/1")&&((bV.search("temperature/")!=-1)||(bV.search("other/")!=-1))){type="button";}else if(d_[cI]=="/machine/sensor/boolean/1"){type="compare";}else if(d_[cI]=="/machine/control/basic/1"){type="highlevelcontrol";}else if(d_[cI]=="/machine/container/transform/1"){var CB=be.bf(a.target);if((CB.search("/sensor/40/")==-1)&&(CB.search("/sensor/50/")==-1)&&(CB.search("/sensor/60/")==-1)){type="highlevelcontrol";if(i["option"]){j=true;}}}else if(d_[cI]=="/machine/control/switch/1"){var k=false;for(var l in f){if(f[l]._type=="/machine/control/basic/1"){k=true;}}if(!k){type="control";var ef="/type/boolean";}}else if(d_[cI]=="/machine/control/visual/string/1"){type="control";var ef="/string";}else if(d_[cI]=="/machine/control/sound/1"){type="buzzer";}else if(d_[cI]=="/machine/type/network/bacnet/1"){type="bacnet";var m=""+f[l]["dimension"]+"/"+f[l]["number"]+"/"+f[l]["type"];}}if(j){continue;}if(i._type=="/machine/sensor/amount/1"){g.push({d6:parseInt(yi,10),d7:3});}else if(i["route"]&&e){var n=i["route"]._response;for(var dz=0;dz<e.length;dz++){if(e[dz]==n){g.push({d6:parseInt(yi,10),d7:(dz+1)});}}}else if(e!=null){if(i["code"]){for(var l=0;l<g.length;l++){if(i["code"]._response.search("MACHINE_"+g[l].d6)!=-1){var m=g[l].d7;break;}}}}if(i["description"]){dD=i["description"]._response;}if(dD==null){dD="";}var o=null;if(i["database"]&&i["database"]._type){o={da:i["database"]._type,b$:i["refresh"]?i["refresh"]._response:300,b_:i["subtract"]?i["subtract"]._response:1};}if(type.length){if(i["type"]){var ef=i["type"]._responseTarget;}var p=be.d2(target,be.cj(parseInt(yi,10)));var q={target:be.cv(p),name:dD,type:type,d_:d_,b3:parseInt(yi,10),ef:ef,dW:((type=="sensor")&&(i["container"])&&(i["container"]._response))?i["container"]._response:0};if(o){q.da=o;}if(m){q.d7=m;}var b3=parseInt(yi,10);a.bV.c3.push(q);var r=iP.iQ.iR;for(var cI=0;cI<r.length;cI++){if(be.dQ(a.target,r[cI].target)){if(r[cI].c3==null){r[cI].c3=[];}var s=r[cI].c3.length;for(var dz=0;dz<r[cI].c3.length;dz++){if(r[cI].c3[dz].b3==b3){s=dz;}}r[cI].c3[s]=q;break;}}}}var t=true;if((bV.search("sensor")!=-1)&&(bV.search("sensor/51")==-1)&&(!a.bV.c3.length)){t=null;}if((bV.search("temperature/")!=-1)&&(!a.bV.c3.length)){t=null;}}else{t=null;}var r=iP.iQ.iR;for(var cI=0;cI<r.length;cI++){if(be.dQ(a.target,r[cI].target)){if(r[cI].c3==null){r[cI].c3=[];}r[cI].iL=t;if(iP.jn){iP.jn();}break;}}if(a.bV){a.bV.iL=t;}if(c){c();}b();});};iP.tv=function(a,b,c,d,e){if(b>=a.length){c();return;}var Bp=a[b];if((Bp.bV==null)||!Bp.bV.iy||(Bp.bV&&Bp.bV.iL)){iP.tv(a,b+1,c,d,e);return;}iP.tu(Bp,function(){iP.tv(a,b+1,c,d,e);},d,e);};iP.tw=function(a,b,c){var target=be.d2(tx.target,[60,169,184,62]);target=be.d2(target,be.cj(b));cP.cQ.oQ(target,function(d,e){if(e&&(e[0]===182)){c();return;}if(!d){c();return;}cP.cQ.lw(target,[be.cn("/machine/recorder")],function(f){if(f!=null){var g=be.d2(target,[179]);cP.cQ.dJ(g,function(h){if(h){ty.tz.push({target:target,sB:h});}iP.tw(a,b+1,c);});}else{iP.tw(a,b+1,c);}});});};/* (C) 2021 Halo Automation Systems LLC; This software is proprietary and is NOT to be distributed or shared in any way.*/"use strict";var r4={};if(typeof require!=="undefined"){var util=require("util");}r4.r5="PGU8gNmd2AEBPnqbPGEgAQVBbGFybT56nTxhPID4nAEBPj56tTxlPIDZncEBAT56tTxhIAIKTWhhbG8uYXBwbGljYXRpb24gPSB7CglfdHlwZTogIi9tYWNoaW5lL3Rlc3QvMSIsCgkKCW9wdGlvbjogewoJCV90eXBlOiAiL3R5cGUvb3B0aW9uL2NvbnRhaW5lciIsCgkJdGVzdDogewoJCQlfdHlwZTogIi90eXBlL21hY2hpbmUvY29udHJvbC9iYXNpYyIsCgkJCWRlc2NyaXB0aW9uOiAiVGVzdCIKCQl9LAoJCW91dHB1dDogewoJCQlfdHlwZTogIi90eXBlL21hY2hpbmUvY29udHJvbC9iYXNpYyIsCgkJCWRlc2NyaXB0aW9uOiAiT3V0cHV0IgoJCX0sCgkJcmVmcmVzaDogewoJCQlfdHlwZTogIi90eXBlL3RpbWUiLAoJCQlkZXNjcmlwdGlvbjogIlRpbWUgYmV0d2VlbiBjaGVja3MiLAoJCQl2YWx1ZTogNjAKCQl9LAoJCWxhcmdlcjogewoJCQlfdHlwZTogIi90eXBlL3RpbWUiLAoJCQlkZXNjcmlwdGlvbjogIkhpZ2ggbGltaXQiLAoJCQl2YWx1ZTogNjAKCQl9LAoJCXNtYWxsZXI6IHsKCQkJX3R5cGU6ICIvdHlwZS90aW1lIiwKCQkJZGVzY3JpcHRpb246ICJMb3cgbGltaXQiLAoJCQl2YWx1ZTogMAoJCX0sCgkJZW5kOiB7CgkJCV90eXBlOiAiL3R5cGUvdGltZSIsCgkJCWRlc2NyaXB0aW9uOiAiQWxlcnQgZnJlcXVlbmN5IiwKCQkJdmFsdWU6IDMwKjYwKjMyNzY4CgkJfSwKCQltZXNzYWdlOiB7CgkJCV90eXBlOiAiL3R5cGUvdGltZSIsCgkJCWRlc2NyaXB0aW9uOiAiTWVzc2FnZSIsCgkJCXZhbHVlOiAiQWxlcnQiCgkJfSwKCQludW1iZXI6IHsKCQkJX3R5cGU6ICIvdHlwZS9udW1iZXIiLAoJCQlkZXNjcmlwdGlvbjogIkFsYXJtIGJ1ZmZlciIsCgkJCXZhbHVlOiAxCgkJfSwKCQlkaW1lbnNpb246IHsKCQkJX3R5cGU6ICIvdHlwZS9udW1iZXIiLAoJCQlkZXNjcmlwdGlvbjogIk51bWJlciBvZiBhbGVydHMiLAoJCQl2YWx1ZTogNAoJCX0sCgkJbm90OiB7CgkJCV90eXBlOiAiL3R5cGUvbnVtYmVyIiwKCQkJZGVzY3JpcHRpb246ICJSZXZlcnNlIGFsYXJtIiwKCQkJdmFsdWU6IDAKCQl9Cgl9LAoJCgl0ZW1wb3Jhcnk6IHsKCQlkYXRlOiAwLAoJCW51bWJlcjogMiwKCQlkaW1lbnNpb246IDAKCX0sCgoJbWFjaGluZTogewoJCV90eXBlOiAiL21hY2hpbmUvY29udGFpbmVyIiwKCQkiMSI6IHsKCQkJLy8gbWFpbiByZWZyZXNoIHRpbWVyIChsb29wcyBldmVyeSBtaW51dGUpCgkJCV90eXBlOiAiL21hY2hpbmUvdGltZS9yZWZyZXNoIiwKCQkJcmVmcmVzaDogaGFsb1MucmVhZFZhbHVlU3luYygidGhpc0FwcC9vcHRpb24vcmVmcmVzaC92YWx1ZSIpLAoJCQlydW46IDEsCgkJCWNoYW5nZTogZnVuY3Rpb24oKXsKCQkJCXZhciB0ZXN0VmFsdWUgPSBoYWxvUy5yZWFkVmFsdWVTeW5jKCJ0aGlzQXBwL29wdGlvbi90ZXN0L3ZhbHVlIik7CgkJCQl2YXIgdGVtcCA9ICgodGVzdFZhbHVlID4gaGFsb1MucmVhZFZhbHVlU3luYygidGhpc0FwcC9vcHRpb24vbGFyZ2VyL3ZhbHVlIikpfHwKCQkJCQkJKHRlc3RWYWx1ZSA8IGhhbG9TLnJlYWRWYWx1ZVN5bmMoInRoaXNBcHAvb3B0aW9uL3NtYWxsZXIvdmFsdWUiKSkpOwoJCQkJaWYgKGhhbG9TLnJlYWRWYWx1ZVN5bmMoInRoaXNBcHAvb3B0aW9uL25vdC92YWx1ZSIpKXsKCQkJCQl0ZW1wID0gIXRlbXA7CgkJCQl9CgkJCQlpZiAodGVtcCl7CgkJCQkJaWYgKGhhbG9TLnJlYWRWYWx1ZVN5bmMoInRoaXNBcHAvdGVtcG9yYXJ5L251bWJlciIpID4KCQkJCQkJCWhhbG9TLnJlYWRWYWx1ZVN5bmMoInRoaXNBcHAvb3B0aW9uL251bWJlci92YWx1ZSIpKXsKCQkJCQkJdmFyIG5vdyA9IGNsb2NrLmdldFRpbWUoKTsKCQkJCQkJaWYgKG5vdyA+IChoYWxvUy5yZWFkVmFsdWVTeW5jKCJ0aGlzQXBwL3RlbXBvcmFyeS9kYXRlIikgKyBoYWxvUy5yZWFkVmFsdWVTeW5jKCJ0aGlzQXBwL29wdGlvbi9lbmQvdmFsdWUiKSkpewoJCQkJCQkJaWYgKGhhbG9TLnJlYWRWYWx1ZVN5bmMoInRoaXNBcHAvdGVtcG9yYXJ5L2RpbWVuc2lvbiIpIDwKCQkJCQkJCQkJCWhhbG9TLnJlYWRWYWx1ZVN5bmMoInRoaXNBcHAvb3B0aW9uL2RpbWVuc2lvbi92YWx1ZSIpKXsKCQkJCQkJCQloYWxvUy53cml0ZVZhbHVlU3luYygidGhpc0FwcC90ZW1wb3JhcnkvZGltZW5zaW9uIiwKCQkJCQkJCQkJaGFsb1MucmVhZFZhbHVlU3luYygidGhpc0FwcC90ZW1wb3JhcnkvZGltZW5zaW9uIikrMSk7CgkJCQkJCQkJaGFsb1Mud3JpdGVWYWx1ZVN5bmMoInRoaXNBcHAvdGVtcG9yYXJ5L2RhdGUiLG5vdyk7CgkJCQkJCQkJdmFyIG1lc3NhZ2UgPSBoYWxvUy5yZWFkVmFsdWVTeW5jKCJ0aGlzQXBwL29wdGlvbi9tZXNzYWdlL3ZhbHVlIik7CgkJCQkJCQkJaGFsb1MuY2FsbEZ1bmN0aW9uU3luYygidGhpc0FwcC9vcHRpb24vb3V0cHV0L3ZhbHVlIix7bWVzc2FnZTogbWVzc2FnZX0pOwoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJfQoJCQkJCWVsc2UgewoJCQkJCQloYWxvUy53cml0ZVZhbHVlU3luYygidGhpc0FwcC90ZW1wb3JhcnkvbnVtYmVyIiwKCQkJCQkJCWhhbG9TLnJlYWRWYWx1ZVN5bmMoInRoaXNBcHAvdGVtcG9yYXJ5L251bWJlciIpKzEpOwoJCQkJCX0KCQkJCX0KCQkJCWVsc2UgewoJCQkJCWhhbG9TLndyaXRlVmFsdWVTeW5jKCJ0aGlzQXBwL3RlbXBvcmFyeS9udW1iZXIiLDIpOwoJCQkJCWhhbG9TLndyaXRlVmFsdWVTeW5jKCJ0aGlzQXBwL3RlbXBvcmFyeS9kaW1lbnNpb24iLDApOwoJCQkJfQoJCQl9CgkJfQoJfQp9Oz562TxhIAEAPj561TxhIAEUUGFyYWdvbiBSb2JvdGljcyBMTEM+eus8YSABMEFsYXJtIHdoZW4gYSBzZW5zb3IgdmFsdWUgcmVhY2hlcyBjZXJ0YWluIGxpbWl0cz568jxhIAEwQWxhcm0gd2hlbiBhIHNlbnNvciB2YWx1ZSByZWFjaGVzIGNlcnRhaW4gbGltaXRzPnr0PHqjPGEBAT56pDxhAQA+etY8YQEAPnqZPGU8gJ2ZPnrfPGEIAAABWbnIEo4+Pj4+";r4.r6="PGU8gNmd2AEBPnqbPGEgAQVBbGFybT56nTxhPID4nAEBPj56tTxlPIDZncEBAT56tTxhIAIJoGhhbG8uYXBwbGljYXRpb24gPSB7CglfdHlwZTogIi9tYWNoaW5lL3Rlc3QvMSIsCgkKCW9wdGlvbjogewoJCV90eXBlOiAiL3R5cGUvb3B0aW9uL2NvbnRhaW5lciIsCgkJdGVzdDogewoJCQlfdHlwZTogIi90eXBlL21hY2hpbmUvY29udHJvbC9iYXNpYyIsCgkJCWRlc2NyaXB0aW9uOiAiVGVzdCIKCQl9LAoJCW91dHB1dFN0YXJ0OiB7CgkJCV90eXBlOiAiL3R5cGUvbWFjaGluZS9jb250cm9sL2Jhc2ljIiwKCQkJZGVzY3JpcHRpb246ICJBbGFybSBvbiBvdXRwdXQiCgkJfSwKCQlvdXRwdXRTdG9wOiB7CgkJCV90eXBlOiAiL3R5cGUvbWFjaGluZS9jb250cm9sL2Jhc2ljIiwKCQkJZGVzY3JpcHRpb246ICJBbGFybSBvZmYgb3V0cHV0IgoJCX0sCgkJcmVmcmVzaDogewoJCQlfdHlwZTogIi90eXBlL3RpbWUiLAoJCQlkZXNjcmlwdGlvbjogIlRpbWUgYmV0d2VlbiBjaGVja3MiLAoJCQl2YWx1ZTogNjAKCQl9LAoJCWxhcmdlcjogewoJCQlfdHlwZTogIi90eXBlL3RpbWUiLAoJCQlkZXNjcmlwdGlvbjogIkhpZ2ggbGltaXQiLAoJCQl2YWx1ZTogNjAKCQl9LAoJCXNtYWxsZXI6IHsKCQkJX3R5cGU6ICIvdHlwZS90aW1lIiwKCQkJZGVzY3JpcHRpb246ICJMb3cgbGltaXQiLAoJCQl2YWx1ZTogMAoJCX0sCgkJZW5kOiB7CgkJCV90eXBlOiAiL3R5cGUvdGltZSIsCgkJCWRlc2NyaXB0aW9uOiAiRW1haWwgZnJlcXVlbmN5IiwKCQkJdmFsdWU6IDMwKjYwKjMyNzY4CgkJfSwKCQludW1iZXI6IHsKCQkJX3R5cGU6ICIvdHlwZS9udW1iZXIiLAoJCQlkZXNjcmlwdGlvbjogIkFsYXJtIGJ1ZmZlciIsCgkJCXZhbHVlOiAxCgkJfSwKCQlub3Q6IHsKCQkJX3R5cGU6ICIvdHlwZS9udW1iZXIiLAoJCQlkZXNjcmlwdGlvbjogIkp1c3QgYWxhcm0gb24gc2V0IiwKCQkJdmFsdWU6IDAKCQl9Cgl9LAoKCXRlbXBvcmFyeTogewoJCWRhdGU6IDAsCgkJbnVtYmVyOiAyLAoJCW1lYXN1cmVtZW50OiAwCgl9LAoKCW1hY2hpbmU6IHsKCQlfdHlwZTogIi9tYWNoaW5lL2NvbnRhaW5lciIsCgkJIjEiOiB7CgkJCS8vIG1haW4gcmVmcmVzaCB0aW1lciAobG9vcHMgZXZlcnkgbWludXRlKQoJCQlfdHlwZTogIi9tYWNoaW5lL3RpbWUvcmVmcmVzaCIsCgkJCXJlZnJlc2g6IGhhbG9TLnJlYWRWYWx1ZVN5bmMoInRoaXNBcHAvb3B0aW9uL3JlZnJlc2gvdmFsdWUiKSwKCQkJcnVuOiAxLAoJCQljaGFuZ2U6IGZ1bmN0aW9uKCl7CgkJCQl2YXIgdGVzdFZhbHVlID0gaGFsb1MucmVhZFZhbHVlU3luYygidGhpc0FwcC9vcHRpb24vdGVzdC92YWx1ZSIpOwoJCQkJdmFyIHRlbXAgPSAoKHRlc3RWYWx1ZSA+IGhhbG9TLnJlYWRWYWx1ZVN5bmMoInRoaXNBcHAvb3B0aW9uL2xhcmdlci92YWx1ZSIpKXx8CgkJCQkJCSh0ZXN0VmFsdWUgPCBoYWxvUy5yZWFkVmFsdWVTeW5jKCJ0aGlzQXBwL29wdGlvbi9zbWFsbGVyL3ZhbHVlIikpKTsKCQkJCWlmIChoYWxvUy5yZWFkVmFsdWVTeW5jKCJ0aGlzQXBwL29wdGlvbi9ub3QvdmFsdWUiKSl7CgkJCQkJdGVtcCA9ICF0ZW1wOwoJCQkJfQoJCQkJLy8gaWYgbmV3IHZhbHVlIGlzIHNhbWUgYXMgb3VyIG9mZmljaWFsIHZhbHVlLCBkbyBub3RoaW5nIGV4Y2VwdCBjbGVhciBvdXIgbnVtYmVyIGNvdW50ZXIKCQkJCWlmICh0ZW1wID09IGhhbG9TLnJlYWRWYWx1ZVN5bmMoInRoaXNBcHAvdGVtcG9yYXJ5L21lYXN1cmVtZW50IikpewoJCQkJCWhhbG9TLndyaXRlVmFsdWVTeW5jKCJ0aGlzQXBwL3RlbXBvcmFyeS9udW1iZXIiLDIpOwkKCQkJCX0KCQkJCWVsc2UgewoJCQkJCWlmIChoYWxvUy5yZWFkVmFsdWVTeW5jKCJ0aGlzQXBwL3RlbXBvcmFyeS9udW1iZXIiKSA+CgkJCQkJCQloYWxvUy5yZWFkVmFsdWVTeW5jKCJ0aGlzQXBwL29wdGlvbi9udW1iZXIvdmFsdWUiKSl7CgkJCQkJCS8vIHdlIGhhdmUgY2hhbmdlZCwgc28gd3JpdGUgb3VyIHZhbHVlCgkJCQkJCWhhbG9TLndyaXRlVmFsdWVTeW5jKCJ0aGlzQXBwL3RlbXBvcmFyeS9tZWFzdXJlbWVudCIsdGVtcCk7CgkJCQkJCWhhbG9TLndyaXRlVmFsdWVTeW5jKCJ0aGlzQXBwL3RlbXBvcmFyeS9udW1iZXIiLDIpOwoJCQkJCQkKCQkJCQkJaWYgKCFoYWxvUy5yZWFkVmFsdWVTeW5jKCJ0aGlzQXBwL29wdGlvbi9ub3QvdmFsdWUiKSB8fCB0ZW1wKXsKCQkJCQkJCWlmICh0ZW1wKXsKCQkJCQkJCQloYWxvUy5jYWxsRnVuY3Rpb25TeW5jKCJ0aGlzQXBwL29wdGlvbi9vdXRwdXRTdGFydC92YWx1ZSIpOwoJCQkJCQkJfQoJCQkJCQkJZWxzZSB7CgkJCQkJCQkJaGFsb1MuY2FsbEZ1bmN0aW9uU3luYygidGhpc0FwcC9vcHRpb24vb3V0cHV0U3RvcC92YWx1ZSIpOwoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJfQoJCQkJCWVsc2UgewoJCQkJCQloYWxvUy53cml0ZVZhbHVlU3luYygidGhpc0FwcC90ZW1wb3JhcnkvbnVtYmVyIiwKCQkJCQkJCWhhbG9TLnJlYWRWYWx1ZVN5bmMoInRoaXNBcHAvdGVtcG9yYXJ5L251bWJlciIpKzEpOwoJCQkJCX0KCQkJCX0KCQkJfQoJCX0KCX0KfTs+etk8YSABAD4+etU8YSABFFBhcmFnb24gUm9ib3RpY3MgTExDPnrrPGEgATBBbGFybSB3aGVuIGEgc2Vuc29yIHZhbHVlIHJlYWNoZXMgY2VydGFpbiBsaW1pdHM+evI8YSABMEFsYXJtIHdoZW4gYSBzZW5zb3IgdmFsdWUgcmVhY2hlcyBjZXJ0YWluIGxpbWl0cz569Dx6ozxhAQE+eqQ8YQEAPnrWPGEBAD56mTxlPICdmT563zxhCAAAAVpe3kiePj4+Pg==";r4.r8="PGU8gNmd2AEBPnqbPGEgAQ1JbnN0YW50IGFsYXJtPnqdPGE8gPicAQE+Pnq1PGU8gNmdwQEBPnq1PGEgAgQZaGFsby5hcHBsaWNhdGlvbiA9IHsKCV90eXBlOiAiL21hY2hpbmUvdGVzdC8xIiwKCQoJb3B0aW9uOiB7CgkJX3R5cGU6ICIvdHlwZS9vcHRpb24vY29udGFpbmVyIiwKCQl0ZXN0OiB7CgkJCV90eXBlOiAiL3R5cGUvbWFjaGluZS9jb250cm9sL2Jhc2ljIiwKCQkJZGVzY3JpcHRpb246ICJUZXN0IiwKCQkJdGFyZ2V0OiBudWxsCgkJfSwKCQlvdXRwdXQ6IHsKCQkJX3R5cGU6ICIvdHlwZS9tYWNoaW5lL2NvbnRyb2wvYmFzaWMiLAoJCQlkZXNjcmlwdGlvbjogIk91dHB1dCIsCgkJCXRhcmdldDogbnVsbAoJCX0sCgkJZW5kOiB7CgkJCV90eXBlOiAiL3R5cGUvdGltZSIsCgkJCWRlc2NyaXB0aW9uOiAiRW1haWwgZnJlcXVlbmN5IiwKCQkJdmFsdWU6IDMwKjYwKjMyNzY4CgkJfSwKCQlkaW1lbnNpb246IHsKCQkJX3R5cGU6ICIvdHlwZS9udW1iZXIiLAoJCQlkZXNjcmlwdGlvbjogIk51bWJlciBvZiBhbGVydHMiLAoJCQl2YWx1ZTogNAoJCX0sCgkJbm90OiB7CgkJCV90eXBlOiAiL3R5cGUvbnVtYmVyIiwKCQkJZGVzY3JpcHRpb246ICJSZXZlcnNlIGFsYXJtIiwKCQkJdmFsdWU6IDAKCQl9LAoJCW1lc3NhZ2U6IHsKCQkJX3R5cGU6ICIvdHlwZS90aW1lIiwKCQkJZGVzY3JpcHRpb246ICJNZXNzYWdlIiwKCQkJdmFsdWU6ICJBbGVydCIKCQl9Cgl9LAoKCgkvLyBzaWduYWwgaGFuZGxlcnMgLT4gdGhlc2UgYXJlIHJ1biBkdXJpbmcgYXBwIGluc3RhbGxhdGlvbiB0byBtb2RpZnkgdGhlCgkvLwluZWNlc3NhcnkgbWFjaGluZSB0cmVlIG5vZGVzIHRvIGluc3RhbnRseSBsaW5rIHRvIG90aGVyIG5vZGVzCglzdGFydDogewoJCV90eXBlOiAiL3R5cGUvb3B0aW9uL2NvbnRhaW5lciIsCgkJcm91dGU6IHsKCQkJX3R5cGU6ICIvdHlwZS9vcHRpb24vc3RhcnQiLAoJCQlkZXNjcmlwdGlvbjogIlRoZSBpbnN0YW50IHNlbnNvciIsCgkJCWlucHV0OiB0aGlzQXBwLm9wdGlvbi50ZXN0LmNoYW5nZSwKCQkJb3V0cHV0OiB0aGlzQXBwLmNvZGUub3V0cHV0CgkJfQoJfSwKCQoJdGVtcG9yYXJ5OiB7CgkJZGF0ZTogMCwKCQlkaW1lbnNpb246IDAKCX0KfTs+etk8YSACA0x2YXIgb3V0cHV0ID0gZnVuY3Rpb24oKXsKCXZhciB0ZW1wID0gaGFsb1MucmVhZFZhbHVlU3luYygidGhpc0FwcC9vcHRpb24vdGVzdC92YWx1ZSIpOwoJaWYgKGhhbG9TLnJlYWRWYWx1ZVN5bmMoInRoaXNBcHAvb3B0aW9uL25vdC92YWx1ZSIpKXsKCQl0ZW1wID0gIXRlbXA7Cgl9CglpZiAodGVtcCl7CgkJdmFyIG5vdyA9IGNsb2NrLmdldFRpbWUoKTsKCQlpZiAobm93ID4gKGhhbG9TLnJlYWRWYWx1ZVN5bmMoInRoaXNBcHAvdGVtcG9yYXJ5L2RhdGUiKSArIGhhbG9TLnJlYWRWYWx1ZVN5bmMoInRoaXNBcHAvb3B0aW9uL2VuZC92YWx1ZSIpKSl7CgkJCWlmIChoYWxvUy5yZWFkVmFsdWVTeW5jKCJ0aGlzQXBwL3RlbXBvcmFyeS9kaW1lbnNpb24iKSA8CgkJCQkJaGFsb1MucmVhZFZhbHVlU3luYygidGhpc0FwcC9vcHRpb24vZGltZW5zaW9uL3ZhbHVlIikpewoJCQkJaGFsb1Mud3JpdGVWYWx1ZVN5bmMoInRoaXNBcHAvdGVtcG9yYXJ5L2RpbWVuc2lvbiIsCgkJCQkJaGFsb1MucmVhZFZhbHVlU3luYygidGhpc0FwcC90ZW1wb3JhcnkvZGltZW5zaW9uIikrMSk7CQkJCQkKCQkJCWhhbG9TLndyaXRlVmFsdWVTeW5jKCJ0aGlzQXBwL3RlbXBvcmFyeS9kYXRlIixub3cpOwoJCQkJdmFyIG1lc3NhZ2UgPSBoYWxvUy5yZWFkVmFsdWVTeW5jKCJ0aGlzQXBwL29wdGlvbi9tZXNzYWdlL3ZhbHVlIik7CgkJCQloYWxvUy5jYWxsRnVuY3Rpb25TeW5jKCJ0aGlzQXBwL29wdGlvbi9vdXRwdXQvdmFsdWUiLHttZXNzYWdlOiBtZXNzYWdlfSk7CgkJCX0KCQl9Cgl9CgllbHNlIHsKCQloYWxvUy53cml0ZVZhbHVlU3luYygidGhpc0FwcC90ZW1wb3JhcnkvZGltZW5zaW9uIiwwKTsKCX0KfTsKPj561TxhIAEUUGFyYWdvbiBSb2JvdGljcyBMTEM+eus8YSABMEFsYXJtIHdoZW4gYSBzZW5zb3IgdmFsdWUgcmVhY2hlcyBjZXJ0YWluIGxpbWl0cz568jxhIAEwQWxhcm0gd2hlbiBhIHNlbnNvciB2YWx1ZSByZWFjaGVzIGNlcnRhaW4gbGltaXRzPnr0PHqjPGEBAT56pDxhAQA+etY8YQEAPnqZPGU8gJ2ZPnrfPGEIAAABWVInhKc+Pj4+";r4.sc="PGU8gNmd2AEBPnqbPGEgAQ1JbnN0YW50IGFsYXJtPnqdPGE8gPicAQE+Pnq1PGU8gNmdwQEBPnq1PGEgAgNlaGFsby5hcHBsaWNhdGlvbiA9IHsKCV90eXBlOiAiL21hY2hpbmUvdGVzdC8xIiwKCQoJb3B0aW9uOiB7CgkJX3R5cGU6ICIvdHlwZS9vcHRpb24vY29udGFpbmVyIiwKCQl0ZXN0OiB7CgkJCV90eXBlOiAiL3R5cGUvbWFjaGluZS9jb250cm9sL2Jhc2ljIiwKCQkJZGVzY3JpcHRpb246ICJUZXN0IiwKCQkJdGFyZ2V0OiBudWxsCgkJfSwKCQlvdXRwdXRTdGFydDogewoJCQlfdHlwZTogIi90eXBlL21hY2hpbmUvY29udHJvbC9iYXNpYyIsCgkJCWRlc2NyaXB0aW9uOiAiQWxhcm0gb24gb3V0cHV0IgoJCX0sCgkJb3V0cHV0U3RvcDogewoJCQlfdHlwZTogIi90eXBlL21hY2hpbmUvY29udHJvbC9iYXNpYyIsCgkJCWRlc2NyaXB0aW9uOiAiQWxhcm0gb2ZmIG91dHB1dCIKCQl9LAoJCW5vdDogewoJCQlfdHlwZTogIi90eXBlL251bWJlciIsCgkJCWRlc2NyaXB0aW9uOiAiUmV2ZXJzZSBhbGFybSIsCgkJCXZhbHVlOiAwCgkJfQoJfSwKCgoJLy8gc2lnbmFsIGhhbmRsZXJzIC0+IHRoZXNlIGFyZSBydW4gZHVyaW5nIGFwcCBpbnN0YWxsYXRpb24gdG8gbW9kaWZ5IHRoZQoJLy8JbmVjZXNzYXJ5IG1hY2hpbmUgdHJlZSBub2RlcyB0byBpbnN0YW50bHkgbGluayB0byBvdGhlciBub2RlcwoJc3RhcnQ6IHsKCQlfdHlwZTogIi90eXBlL29wdGlvbi9jb250YWluZXIiLAoJCXJvdXRlOiB7CgkJCV90eXBlOiAiL3R5cGUvb3B0aW9uL3N0YXJ0IiwKCQkJZGVzY3JpcHRpb246ICJUaGUgaW5zdGFudCBzZW5zb3IiLAoJCQlpbnB1dDogdGhpc0FwcC5vcHRpb24udGVzdC5jaGFuZ2UsCgkJCW91dHB1dDogdGhpc0FwcC5jb2RlLm91dHB1dAoJCX0KCX0sCgkKCXRlbXBvcmFyeTogewoJCWRhdGU6IDAsCgkJbWVhc3VyZW1lbnQ6IDAKCX0KfTs+etk8YSACAwB2YXIgb3V0cHV0ID0gZnVuY3Rpb24oKXsKCXZhciB0ZW1wID0gaGFsb1MucmVhZFZhbHVlU3luYygidGhpc0FwcC9vcHRpb24vdGVzdC92YWx1ZSIpOwoJaWYgKGhhbG9TLnJlYWRWYWx1ZVN5bmMoInRoaXNBcHAvb3B0aW9uL25vdC92YWx1ZSIpKXsKCQl0ZW1wID0gIXRlbXA7Cgl9CglpZiAodGVtcCAhPSBoYWxvUy5yZWFkVmFsdWVTeW5jKCJ0aGlzQXBwL3RlbXBvcmFyeS9tZWFzdXJlbWVudCIpKXsKCQloYWxvUy53cml0ZVZhbHVlU3luYygidGhpc0FwcC90ZW1wb3JhcnkvZGltZW5zaW9uIiwwKTsKCX0KCWVsc2UgewoJCWhhbG9TLndyaXRlVmFsdWVTeW5jKCJ0aGlzQXBwL3RlbXBvcmFyeS9tZWFzdXJlbWVudCIsdGVtcCk7CgkJaWYgKGhhbG9TLnJlYWRWYWx1ZVN5bmMoInRoaXNBcHAvdGVtcG9yYXJ5L2RpbWVuc2lvbiIpIDwKCQkJCWhhbG9TLnJlYWRWYWx1ZVN5bmMoInRoaXNBcHAvb3B0aW9uL2RpbWVuc2lvbi92YWx1ZSIpKXsKCQkJaGFsb1Mud3JpdGVWYWx1ZVN5bmMoInRoaXNBcHAvdGVtcG9yYXJ5L2RpbWVuc2lvbiIsCgkJCQloYWxvUy5yZWFkVmFsdWVTeW5jKCJ0aGlzQXBwL3RlbXBvcmFyeS9kaW1lbnNpb24iKSsxKTsJCQkJCQoJCQlpZiAodGVtcCl7CgkJCQloYWxvUy5jYWxsRnVuY3Rpb25TeW5jKCJ0aGlzQXBwL29wdGlvbi9vdXRwdXRTdGFydC92YWx1ZSIpOwoJCQl9CgkJCWVsc2UgewoJCQkJaGFsb1MuY2FsbEZ1bmN0aW9uU3luYygidGhpc0FwcC9vcHRpb24vb3V0cHV0U3RvcC92YWx1ZSIpOwoJCQl9CgkJfQoJfQp9Owo+PnrVPGEgARRQYXJhZ29uIFJvYm90aWNzIExMQz566zxhIAEwQWxhcm0gd2hlbiBhIHNlbnNvciB2YWx1ZSByZWFjaGVzIGNlcnRhaW4gbGltaXRzPnryPGEgATBBbGFybSB3aGVuIGEgc2Vuc29yIHZhbHVlIHJlYWNoZXMgY2VydGFpbiBsaW1pdHM+evQ8eqM8YQEBPnqkPGEBAD561jxhAQA+epk8ZTyAnZk+et88YQgAAAFaXtza+j4+Pj4=";r4.sd="PGU8gNmd2AEBPnqbPGEgAQ1JbnN0YW50IGFsYXJtPnqdPGE8gPicAQE+Pnq1PGU8gNmdwQEBPnq1PGEgAgKSaGFsby5hcHBsaWNhdGlvbiA9IHsKCV90eXBlOiAiL21hY2hpbmUvdGVzdC8xIiwKCQoJb3B0aW9uOiB7CgkJX3R5cGU6ICIvdHlwZS9vcHRpb24vY29udGFpbmVyIiwKCQl0ZXN0OiB7CgkJCV90eXBlOiAiL3R5cGUvbWFjaGluZS9jb250cm9sL2Jhc2ljIiwKCQkJZGVzY3JpcHRpb246ICJUZXN0IiwKCQkJdGFyZ2V0OiBudWxsCgkJfSwKCQlvdXRwdXQ6IHsKCQkJX3R5cGU6ICIvdHlwZS9tYWNoaW5lL2NvbnRyb2wvYmFzaWMiLAoJCQlkZXNjcmlwdGlvbjogIk91dHB1dCIsCgkJCXRhcmdldDogbnVsbAoJCX0KCX0sCgkKCXRlbXBvcmFyeTogewoJCWRhdGU6IDAsCgkJbWVhc3VyZW1lbnQ6IDAKCX0sCgkKCW1hY2hpbmU6IHsKCQlfdHlwZTogIi9tYWNoaW5lL2NvbnRhaW5lciIsCgkJIjEiOiB7CgkJCV90eXBlOiAiL21hY2hpbmUvc2Vuc29yL2Jvb2xlYW4vMSIsCgkJCXJ1bjogMCwKCQkJLy8gdmFsdWUgd2lsbCBiZSBwcmVwcGVkIHdpdGggdGhlIHNlbnNvciBpdCdzIGhvb2tlZCB1cCB0bywgc28gTnNlcmllcyBjYW4gZmluZCB0aGUgcmVnaXN0cmF0aW9uCgkJCXZhbHVlOiB7fSwKCQkJLy8gZm9yd2FyZCB0aGUgaW5jb21pbmcgY2xpY2sgb3ZlciB0byBvdXIgb3V0cHV0CgkJCWJ1dHRvbjogdGhpc0FwcC5jb2RlLm91dHB1dAoJCX0KCX0KCQkJCQp9Oz562TxhIAIBYHZhciBvdXRwdXQgPSBmdW5jdGlvbigpewoJdmFyIG1lYXN1cmVtZW50ID0gaGFsb1MucmVhZFZhbHVlU3luYygiY2hhbmdlL3ZhbHVlIik7CgkvLyBmb3Igbm93LCB3ZSB1c2UgYSBzcGVjaWFsIE5zZXJpZXMgY29kZSB0byBsb2FkIHRoZSBhY3R1YWwgbWVhc3VyZW1lbnQgdmFsdWUgaW50bwoJLy8JYSBydW5uZXIgYW5kIGNhbGwgdGhlIG91dHB1dCAoYXMgaW4sIHN0b3JlIHRoZSBhY3R1YWwgbnVtYmVyIGluIHRoZSBydW5uZXIpCgloYWxvUy5jYWxsRnVuY3Rpb25TeW5jKCIvbWFjaGluZS9jb2RlL21lYXN1cmVtZW50Iix7dmFsdWU6IG1lYXN1cmVtZW50LAoJCWE6IHRoaXNBcHAub3B0aW9uLm91dHB1dH0pOwp9Owo+PnrVPGEgARRQYXJhZ29uIFJvYm90aWNzIExMQz563TxhPICdnAEBPj566zxhIAEwQWxhcm0gd2hlbiBhIHNlbnNvciB2YWx1ZSByZWFjaGVzIGNlcnRhaW4gbGltaXRzPnryPGEgATBBbGFybSB3aGVuIGEgc2Vuc29yIHZhbHVlIHJlYWNoZXMgY2VydGFpbiBsaW1pdHM+evQ8eqM8YQEBPnqkPGEBAD561jxhAQA+epk8ZTyAnZk+et88YQgAAAF6cjaBJj4+Pj4=";r4.se="PGU8gNmd2AEBPnqbPGEgAQVBbGFybT56nTxhPID4nAEBPj56tTxlPIDZncEBAT56tTxhIAIJSWhhbG8uYXBwbGljYXRpb24gPSB7CglfdHlwZTogIi9tYWNoaW5lL3Rlc3QvMSIsCgkKCW9wdGlvbjogewoJCV90eXBlOiAiL3R5cGUvb3B0aW9uL2NvbnRhaW5lciIsCgkJdGVzdDogewoJCQlfdHlwZTogIi90eXBlL21hY2hpbmUvY29udHJvbC9iYXNpYyIsCgkJCWRlc2NyaXB0aW9uOiAiVGVzdCIKCQl9LAoJCW91dHB1dDogewoJCQlfdHlwZTogIi90eXBlL21hY2hpbmUvY29udHJvbC9iYXNpYyIsCgkJCWRlc2NyaXB0aW9uOiAiT3V0cHV0IgoJCX0sCgkJcmVmcmVzaDogewoJCQlfdHlwZTogIi90eXBlL3RpbWUiLAoJCQlkZXNjcmlwdGlvbjogIlRpbWUgYmV0d2VlbiBjaGVja3MiLAoJCQl2YWx1ZTogNjAKCQl9LAoJCWxhcmdlcjogewoJCQlfdHlwZTogIi90eXBlL3RpbWUiLAoJCQlkZXNjcmlwdGlvbjogIkhpZ2ggbGltaXQiLAoJCQl2YWx1ZTogNjAKCQl9LAoJCXNtYWxsZXI6IHsKCQkJX3R5cGU6ICIvdHlwZS90aW1lIiwKCQkJZGVzY3JpcHRpb246ICJMb3cgbGltaXQiLAoJCQl2YWx1ZTogMAoJCX0sCgkJZW5kOiB7CgkJCV90eXBlOiAiL3R5cGUvdGltZSIsCgkJCWRlc2NyaXB0aW9uOiAiRW1haWwgZnJlcXVlbmN5IiwKCQkJdmFsdWU6IDMwKjYwKjMyNzY4CgkJfSwKCQludW1iZXI6IHsKCQkJX3R5cGU6ICIvdHlwZS9udW1iZXIiLAoJCQlkZXNjcmlwdGlvbjogIkFsYXJtIGJ1ZmZlciIsCgkJCXZhbHVlOiAxCgkJfSwKCQlub3Q6IHsKCQkJX3R5cGU6ICIvdHlwZS9udW1iZXIiLAoJCQlkZXNjcmlwdGlvbjogIkp1c3QgYWxhcm0gb24gc2V0IiwKCQkJdmFsdWU6IDAKCQl9Cgl9LAoKCXRlbXBvcmFyeTogewoJCWRhdGU6IDAsCgkJbnVtYmVyOiAxLAoJCW1lYXN1cmVtZW50OiAwCgl9LAoKCW1hY2hpbmU6IHsKCQlfdHlwZTogIi9tYWNoaW5lL2NvbnRhaW5lciIsCgkJIjEiOiB7CgkJCS8vIG1haW4gcmVmcmVzaCB0aW1lciAobG9vcHMgZXZlcnkgbWludXRlKQoJCQlfdHlwZTogIi9tYWNoaW5lL3RpbWUvcmVmcmVzaCIsCgkJCXJlZnJlc2g6IGhhbG9TLnJlYWRWYWx1ZVN5bmMoInRoaXNBcHAvb3B0aW9uL3JlZnJlc2gvdmFsdWUiKSwKCQkJcnVuOiAxLAoJCQljaGFuZ2U6IGZ1bmN0aW9uKCl7CgkJCQl2YXIgdGVzdFZhbHVlID0gaGFsb1MucmVhZFZhbHVlU3luYygidGhpc0FwcC9vcHRpb24vdGVzdC92YWx1ZSIpOwoJCQkJdmFyIHRlbXAgPSAoKHRlc3RWYWx1ZSA+IGhhbG9TLnJlYWRWYWx1ZVN5bmMoInRoaXNBcHAvb3B0aW9uL2xhcmdlci92YWx1ZSIpKXx8CgkJCQkJCSh0ZXN0VmFsdWUgPCBoYWxvUy5yZWFkVmFsdWVTeW5jKCJ0aGlzQXBwL29wdGlvbi9zbWFsbGVyL3ZhbHVlIikpKTsKCQkJCWlmIChoYWxvUy5yZWFkVmFsdWVTeW5jKCJ0aGlzQXBwL29wdGlvbi9ub3QvdmFsdWUiKSl7CgkJCQkJdGVtcCA9ICF0ZW1wOwoJCQkJfQoJCQkJLy8gaWYgbmV3IHZhbHVlIGlzIHNhbWUgYXMgb3VyIG9mZmljaWFsIHZhbHVlLCBkbyBub3RoaW5nIGV4Y2VwdCBjbGVhciBvdXIgbnVtYmVyIGNvdW50ZXIKCQkJCWlmICh0ZW1wID09IGhhbG9TLnJlYWRWYWx1ZVN5bmMoInRoaXNBcHAvdGVtcG9yYXJ5L21lYXN1cmVtZW50IikpewoJCQkJCWhhbG9TLndyaXRlVmFsdWVTeW5jKCJ0aGlzQXBwL3RlbXBvcmFyeS9udW1iZXIiLDEpOwkKCQkJCX0KCQkJCWVsc2UgewoJCQkJCS8vIGluY3JlYXNlIHRoZSBjb3VudAoJCQkJCWhhbG9TLndyaXRlVmFsdWVTeW5jKCJ0aGlzQXBwL3RlbXBvcmFyeS9udW1iZXIiLAoJCQkJCQkJaGFsb1MucmVhZFZhbHVlU3luYygidGhpc0FwcC90ZW1wb3JhcnkvbnVtYmVyIikrMSk7CgkJCQkJaWYgKGhhbG9TLnJlYWRWYWx1ZVN5bmMoInRoaXNBcHAvdGVtcG9yYXJ5L251bWJlciIpID4KCQkJCQkJCWhhbG9TLnJlYWRWYWx1ZVN5bmMoInRoaXNBcHAvb3B0aW9uL251bWJlci92YWx1ZSIpKXsKCQkJCQkJLy8gd2UgaGF2ZSBjaGFuZ2VkLCBzbyB3cml0ZSBvdXIgdmFsdWUKCQkJCQkJaGFsb1Mud3JpdGVWYWx1ZVN5bmMoInRoaXNBcHAvdGVtcG9yYXJ5L21lYXN1cmVtZW50Iix0ZW1wKTsKCQkJCQkJaGFsb1Mud3JpdGVWYWx1ZVN5bmMoInRoaXNBcHAvdGVtcG9yYXJ5L251bWJlciIsMSk7CgkJCQkJCS8vIGZvciBub3csIHdlIHVzZSBhIHNwZWNpYWwgTnNlcmllcyBjb2RlIHRvIGxvYWQgdGhlIGFjdHVhbCBtZWFzdXJlbWVudCB2YWx1ZSBpbnRvCgkJCQkJCS8vCWEgcnVubmVyIGFuZCBjYWxsIHRoZSBvdXRwdXQgKGFzIGluLCBzdG9yZSB0aGUgYWN0dWFsIG51bWJlciBpbiB0aGUgcnVubmVyKQoJCQkJCQloYWxvUy5jYWxsRnVuY3Rpb25TeW5jKCIvbWFjaGluZS9jb2RlL21lYXN1cmVtZW50Iix7dmFsdWU6IHRlc3RWYWx1ZSwKCQkJCQkJCWE6IHRoaXNBcHAub3B0aW9uLm91dHB1dH0pOwoJCQkJCX0KCQkJCX0KCQkJfQoJCX0KCX0KfTs+etk8YSABAD4+etU8YSABFFBhcmFnb24gUm9ib3RpY3MgTExDPnrdPGE8gJ2cAQE+PnrrPGEgATBBbGFybSB3aGVuIGEgc2Vuc29yIHZhbHVlIHJlYWNoZXMgY2VydGFpbiBsaW1pdHM+evI8YSABMEFsYXJtIHdoZW4gYSBzZW5zb3IgdmFsdWUgcmVhY2hlcyBjZXJ0YWluIGxpbWl0cz569Dx6ozxhAQE+eqQ8YQEAPnrWPGEBAD56mTxlPICdmT563zxhCAAAAXpyMTBHPj4+Pg==";r4.sg=function(a,b,c,d,e){var f=new r4.si(e);a.contentWindow["haloS"]=f;a.contentWindow["haloView"]=haloView;var g=a.contentDocument;g.open();g.writeln(b);var h=g.createElement("script");h.setAttribute("type","text/javascript");var i=g.createTextNode(d);h.appendChild(i);g.getElementsByTagName("head")[0].appendChild(h);var j=g.createElement("style");j.setAttribute("type","text/css");i=g.createTextNode(c);j.appendChild(i);g.getElementsByTagName("head")[0].appendChild(j);g.close();g.defaultView["haloS"]=f;g.defaultView["haloView"]=haloView;};r4.si=function(a){var b=this;this.target=be.cn(a);this.sk=function(c){if(c.search("thisApp")==-1){return;}return be.bf(b.target)+c.slice(7);};this["readValue"]=function(c,d){var c=b.sk(c);haloS["readValue"](c,d);};this["writeValue"]=function(c,d,e){var c=b.sk(c);haloS["writeValue"](c,d,e);};this["readTree"]=function(c,d){var c=b.sk(c);haloS["readTree"](c,d);};this["writeTree"]=function(c,d,e){var c=b.sk(c);var f=be.cn(c);var g=cP.cQ.c1();var value=cP.c7(d);g.cZ(f,value,function(h,i){g.destroy(function(){e(true);});});};this["restartSoftware"]=function(c){var d=be.bf(b.target);var cI=d.search("workspace/");var e=d.slice(0,cI+9);console.log("baseTarget:"+e);var f=parseInt(d.slice(cI+10),10);console.log("index:"+f);var g=cP.cQ.c1();g.dI([236],be.cj(f));g.eO([197],be.cn(e),cP.eP,function(){g.destroy(function(){c();});},true);};};r4.sl=function(a){var b=this;this.target=a;this.c8=function(c,d){alert("I was called");var e=cP.cQ.c1();var f=[];f=f.concat(60,101,b.target,62);e.eZ(be.cn("runner/program"),f);e.dJ(c,function(g,h){e.o3(g,h,d);});};};r4.sm=function(a,b,c){if(a.sn["code"]["transform"]){}else{var d=r4.so(a.sn["code"]["code"]._response,a.sn["code"]["software"]?a.sn["code"]["software"]._response:"");if(!d.sp){c(false,"The app could not be compiled");}a.sn["code"]["transform"]=cP.de(d.sq);var target=a.target;if(a.c8){for(var cI in a.c8){a.sn["code"]["transform"]["route"][cI]["target"]={_type:a.c8[cI]};if(target==null){target=a.c8[cI];}}}if(a.hG){for(var cI in a.hG){var CB=a.hG[cI];if((typeof CB==="string")&&(CB.search("/company/paragonrobotics.com")!=-1)){a.sn["code"]["transform"]["option"][cI]["target"]={_type:a.hG[cI]};if(target==null){target=a.hG[cI];}}else{a.sn["code"]["transform"]["option"][cI]["target"]={_response:a.hG[cI]};}}}if(target.search("/machine")!=-1){var b3=target.search("/machine");target=target.slice(0,b3);}r4.sr(be.cn(target),a.sn,a,b,function(e,f){console.log("done installing");c(e,f);});}};r4.ss=function(a,b){if(b){var c=be.cv(be.cn(a["target"]._responseTarget));for(var cI=0;cI<b.length;cI++){var v1=b[cI];var d=be.cv(v1.target);if(v.D(d,c,d.length)){if(v1.cO==null){v1.cO={};}cP.dF(v1.cO,a);break;}}}};r4.st=function(a,b,c,d,e){var f=a;var g=[];var h=function(i,j,k){if(j>=i.length){k();return;}if(c){c({"index":j,"length":i.length});}var su=i[j].su;su["name"]._response=i[j].name;if(su["code"]&&su["code"]["transform"]){var options=su["code"]["transform"]["option"];var l={};for(var cI in options){if(cI=="_type"){continue;}var v1=options[cI];var m;if(v1["target"]){var tZ=v1["target"]?v1["target"]:{_type:"/route/read",value:{_response:1}};m=tZ;}else if(v1["value"]){m={"value":v1["value"]};}else{m=v1;}l[cI]=v.ac(m);delete l[cI]["description"];if(v1["description"]){l[cI]["description"]=v1["description"];}if((l[cI]._type==null)&&(v1._type)){l[cI]._type=v1._type;}}su["code"]["transform"]["option"]=l;}r4.sr(be.cn(i[j].target),su,{sv:i[j].sv},e,function(n,o){if(o){g.push(o);k(false);return;}if(n){var target=be.bf(n.target);if(d){var p=r4.sx(su,target,n.bw);r4.ss(p,d);}var q=i[j].name;for(var cI=j+1;cI<i.length;cI++){var options=i[cI].su["code"]["transform"]["option"];for(var dz in options){if(options[dz].target&&options[dz].target._type){if(options[dz].target._type.slice(0,8)!="/company"&&options[dz].target._type!="/route/read"){if(options[dz].target._type.search(q)===0){var r=q.length;options[dz].target._type=target+options[dz].target._type.slice(r);}}}}}}h(i,j+1,k);});};r4.sA(f,d,function(i,j){if(i==null){b(null,j);return;}h(i,0,function(){if(g.length){b(null,g);}else{b(true);}});});};r4.so=function(a,b,c,d){var e2=[];var e="Starting program compile...\n";e+=((e2.length===0)?"The initial code quality check was successful.\n":"Errors during initial code quality check\n");for(var cI=0;cI<e2.length;cI++){if(e2[cI]!=null){e=e+"Error "+(cI+1)+" on line "+e2[cI].sF+": "+e2[cI].sH+"\n";}}if(e2.length===0){try{var CD=sI.parse(a);var f=sI.parse(b);var g=new sJ.sK(CD.data,f.data,c,d);var h=g.sL();try{for(var cI=0;cI<h.length;cI++){if((typeof h[cI]!=="number")||(h[cI]<0)||(h[cI]>255)){throw new Error("");}}var i=cP.o9(h);}catch(j){throw new Error("We're sorry, but the compiler failed to compile the app"+" correctly due to an unknown problem. Please report this problem to"+" us so we can fix the problem.");}e+=("Compile was successful.\nThe compiled code size is "+h.length+" bytes.\n");var k="";var sp=true;}catch(j){e=e+"\n"+j+"\n"+j.stack;}e+=("\n"+k);}return {sp:sp,message:e,sq:h};};r4.sM=function(a,b){if(a.search("return")==-1){throw new Error("Code must contain at least one 'return' statement");}var c="function foobar(){"+a+"};";var CD=sI.parse(c);var d=new sJ.sK(CD.data);for(var cI=0;cI<b;cI++){var mr={sN:"MACHINE_"+(cI+1),sO:be.cn("runner/machine/"+(cI+1)),sQ:d.jH[0]};d.sq.sT.push(mr);}if(d.jH[0].body[0].value){var e=d.sU(d.jH[0]);e=be.dh(e);return e;}};r4.sV=function(a,b){var c=a.replace("return","");var CD=sI.parse(c);var d=new sJ.sK(CD.data);for(var cI=0;cI<b;cI++){var mr={sN:"MACHINE_"+(cI+1),sO:be.cn("runner/machine/"+(cI+1)),sQ:d.jH[0]};d.sq.sT.push(mr);}if(d.jH[0].s9){var e=d.ta(d.jH[0].s9);e=be.dh(e);console.log(cP.de(e));return e;}};r4.tb=function(a,b,c){if(a>=b.length){c(true);return;}cP.cQ.cZ(b[a],[60,62],function(d,e){if(e){c(null,true);return;}r4.tb(a+1,b,c);});};r4.tc=function(a,b,c,d,e,f){if(a>=b){f();return;}var g=be.bf(c);var h=g.split("/");var parent=h.slice(0,h.length-3).join("/");var i=(e&&e.sv)?0:(e&&e.tf)?300:2000;v.setTimeout(function(){var j=(parent.search("container")==-1);var k=function(l){if(!j){l();return;}var k=parent+"/network/target/temporary";haloS["readValue"](k,function(m,n){l();});};k(function(){var l=cP.cQ.c1();l.dI([236],be.cj(a));l.eO(d,c,cP.eP,function(m,n){l.destroy(function(){if(n){console.log("Error starting software machine, but continuing anyway");}r4.tc(a+1,b,c,d,e,f);});});});},i);};r4.tg=function(a,b,c){r4.tj(a,b,function(d){if(d){var e=be.d2(a,[246]);var f=be.d2(e,be.cj(d.b3));var sn={"machine":{_response:1},"target":{_responseTarget:be.bf(f)}};r4.tk(sn["target"]._responseTarget,null,function(){c(true);});}else{c(null,"Could not find any alarms for this sensor");}});};r4.tl=function(a){var b=0;for(var cI in a["machine"]){if(cI=="_type"||cI=="_typeOther"||cI=="_other"||cI=="_response"||cI=="_runners"){continue;}b++;}return b;};r4.tk=function(a,b,c){var d=be.cn(a);var e=be.d2(d,[197]);var f=cP.cQ.c1();f.dL(e,null,function(g,h){if(g){var ck=cP.de(g);}var i=be.d2(d,[248]);f.dN(i,function(j,k){f.destroy(function(){var l=0;if(j){var m=cP.de(j);for(var cI in m){if((cI=="_type")||(cI=="_typeOther")||(cI=="_other")||(cI=="_response")||(cI=="_runners")){continue;}l++;}}var n=a;var o=n.split("/");var b3=parseInt(o[o.length-1],10);var parent=o.slice(0,o.length-1).join("/");var p=be.cn(parent);if(n.search("container/1")!=-1){var f=cP.cQ.c1();f.dI([236],be.cj(b3));f.eO([161],p,cP.eP,function(q,r){console.log("result back:"+q+".."+r);f.destroy(function(){if(r){c(null,true);return;}r4.tm(ck,d,l,p,b3,b,c);});});}else{r4.tm(ck,d,l,p,b3,b,c);}});});});};r4.tm=function(a,b,c,d,e,f,g){var dP=be.d2(b,[248]);console.log("3registering:"+dP);if(f==null){f={};}if(be.bf(dP).search("/device/transform/")!=-1){f.tf=true;}f.sv=true;r4.tc(1,c+1,dP,[161],f,function(h,i){if(i){g(null,true);return;}var j=[];if(a){for(var cI in a){var CB=a[cI];if((cI=="_type")||(cI=="_typeOther")||(cI=="_other")||(cI=="_response")||(cI=="_runners")){continue;}if(CB["target"]&&CB["target"]._responseTarget){j.push(be.cn(CB["target"]._responseTarget));}}}r4.tb(0,j,function(k,l){if(l){g(null,true);return;}cP.cQ.cW(d,be.cj(e),function(m,n){if(n){g(null,true);return;}g(true);});});});};r4.tn=function(a,b){var c=a["target"]._responseTarget;var d=c.split("/");var b3=parseInt(d[d.length-1],10);var parent=d.slice(0,d.length-1).join("/");var e=be.cn(parent);if(a["code"]._type=="/software/type/system/1"){delete a.to;delete a.tp;delete a.tA;delete a.tB;delete a.parent;a.hG={};var data=cP.c7(a);var f=be.cn(c);var g=be.d2(f,[194]);cP.cQ.dL(g,null,function(h,i){if(h==null){b(null,true);return;}cP.cQ.cZ(f,data,function(j,k){cP.cQ.cZ(g,h,function(l,m){r4.tC(e,b3,f,a,b);});});});}else{r4.tC(e,b3,f,a,b);}};r4.tC=function(a,b,c,d,e){var f=cP.cQ.c1();f.dI([236],be.cj(b));f.eO([161],a,cP.eP,function(){f.eO([160],a,cP.eP,function(){f.destroy(function(){var g=r4.tl(d["code"]["transform"]);var dP=be.d2(c,[248]);e(true);});});});};r4.tD=function(a,b,c,d){var e=function(f,g,h){if(g>=f.length){h();return;}var of={"path":f[g],"data":[0],"item":f[g].slice(a.length+1)};if(c){of["security"]=c;}haloS.dv.dw(of,function(){e(f,g+1,h);});};haloS.dv.dA({path:a},function(f){var g={};if(f&&f["data"]){g=cP.de(f["data"]);}var h=[];var i=g["workspace"][b];if(i["output"]){for(var dz in i["output"]){if(i["output"][dz]["value"]){i["output"][dz]["value"]=NaN;h.push(a+"/workspace/"+b+"/output/"+dz+"/value");}}}f["data"]=cP.dx(g);if(c){f["security"]=c;}haloS.dv.dw(f,function(){e(h,0,function(){d(true);});});});};r4.sr=function(a,b,c,d,e){var f=(be.bf(a).search("container")==-1);var g=function(h){if(!f){h();return;}var g=be.bf(a)+"/network/target/temporary";haloS["readValue"](g,function(i,j){if(j){e(null,true);return;}h();});};g(function(){var parent=be.d2(a,[246]);cP.cQ.oP(parent,function(h,i){if(h==null){e(null,true);return;}if(b["code"]["html"]){var j="";}else{var j=b["code"]["software"]?b["code"]["software"]._response:"";}if(b["code"]["code"]){var k=r4.so(b["code"]["code"]._response,j,h,i);if(k.sp){var l=b["code"]["transform"];var m=cP.de(k.sq);if(l){if(l["option"]){m["option"]=l["option"];}if(l["route"]){m["route"]=l["route"];}if(l["name"]){m["name"]=l["name"];}if(l["machine"]){for(var y_ in m["machine"]){if(l["machine"][y_]["value"]){m["machine"][y_]["value"]=l["machine"][y_]["value"];}}}}for(var y_ in m["machine"]){if(l["machine"][y_]["_type"]=="/machine/control/message/1"){m["machine"][y_]["value"]={_type:m["option"]["serial"]._type};}}b["code"]["transform"]=m;}else{e(null,true);}}var ck=b["code"]["transform"]["start"];var n=[];for(var cI in ck){if(cI=="_type"||cI=="_other"){continue;}var EY=ck[cI]["output"]._type;var o=be.d2(h,be.cn(EY.replace("local/","")));var yP=ck[cI]["input"]._type;yP=yP.replace("local/","");if((yP.search("route/")!==0)&&(yP.search("option/")!==0)){throw new Error("All start node inputs must start with an 'option' or 'route' target domain");}yP=yP.slice(yP.indexOf("/")+1);if(b["code"]["transform"]["route"]){var p=r4.tE(yP,b["code"]["transform"]["route"]);}else{var p=r4.tE(yP,b["code"]["transform"]["option"]);}ck[cI]["target"]={_responseTarget:p};n.push({target:be.cn(p),hx:o});}r4.tF(0,n,function(q,r){if(r){e(null,true);return;}console.log("type:"+b["code"]._type);if(b["code"]._type=="/software/type/system/1"){delete b.to;delete b.tp;delete b.tA;delete b.tB;delete b.parent;b["device"]={_responseTarget:be.bf(a)};b["target"]={_responseTarget:be.bf(h)};b["_runners"]=[{match:"local/software/target",target:"target"}];var data=cP.c7(b);try{}catch(s){e(null,"An error occurred when validating the software code");return;}console.log("starting app write");cP.cQ.cZ(h,data,function(t,u){console.log("done response:"+t+".."+u);if(u){e(null,true);return;}r4.tK(parent,i,h,b,c,function(Iw,Ix){r4.tD(be.bf(a),Iw.b3,d,function(){e(Iw,Ix);});});});}else{if(b["name"]){b["code"]["transform"]["name"]=b["name"];}else{b["code"]["transform"]["name"]={_response:"Other"};}if(b["version"]){b["code"]["transform"]["version"]=b["version"];}else{b["code"]["transform"]["version"]={"larger":{_response:1},"smaller":{_response:0},"change":{_response:0}};}if(b["product"]){b["code"]["transform"]["product"]={_response:b["product"]};}else{b["code"]["transform"]["product"]={_response:b["code"]["transform"]._type};}if(b["code"]["transform"]["option"]){for(var cI in b["code"]["transform"]["option"]){var su=b["code"]["transform"]["option"][cI];}}console.log("newTarget:"+h);var data=cP.c7(b["code"]["transform"]);data.splice(1,0,50);try{}catch(s){e(null,"An error occurred when validating the software code");return;}g(function(){cP.cQ.cZ(h,data,function(t,u){if(u){e(null,true);return;}r4.tK(parent,i,h,b,c,function(Iw,Ix){r4.tD(be.bf(a),Iw.b3,d,function(){e(Iw,Ix);});});},false);});}});});});};r4.tK=function(a,b,c,d,e,f){var g=160;if(e==null){e={};}if(be.bf(c).search("/device/transform/")!=-1){e.tf=true;}var cL=function(){var h=r4.tl(d["code"]["transform"]);var dP=be.d2(c,[248]);r4.tc(1,h+1,dP,[g],e,function(i,j){if(j){f(null,true);return;}f({target:c,parent:a,b3:b,bw:h});});};if(d["code"]._type=="/software/type/system/1"){var h=cP.cQ.c1();h.dI([236],be.cj(b));h.eO([g],a,cP.eP,function(){h.destroy(function(){cL();});});}else{cL();}};r4.tE=function(a,b){var c=null;for(var cI in b){if(a.search(cI)===0){var d=cI.length;if((c==null)||(cI.length>tL.length)){c=cI;}}}if(c){return r4.tE(a.slice(c.length+1),b[c]);}else{return b._type+"/"+a;}};r4.tF=function(a,b,c){if(a>=b.length){c(true);return;}cP.cQ.cV(b[a].target,b[a].hx,function(d,e){r4.tF(a+1,b,c);});};r4.tM=function(a,b,c,d){var e={_type:be.bf(c),"message":{_response:d}};return r4.tN(b$,dU,dT,tO,b,e);};r4.tN=function(a,b,c,d,e,f,g,h,i,j,k,l){if(v.bl(l)){var data=v.aV(r4.sd);var su={};su.data=data;su.to=cP.de(v.aK(data));var m=r4.so(su.to["code"]["code"]._response,su.to["code"]["software"]?su.to["code"]["software"]._response:"");if(m.sp){var n=cP.de(m.sq);su["code"]={"transform":n,"code":su.to["code"]["code"],"software":su.to["code"]["software"]};}n["option"]["test"]["target"]={_type:be.bf(a)};n["option"]["output"]=b;n["machine"]["1"]["value"]={_type:be.bf(a)+"/value"};return su;}else if(d=="edge"){var data=v.aV(r4.sc);}else{var data=v.aV(r4.r8);}var su={};su.data=data;su.to=cP.de(v.aK(data));var m=r4.so(su.to["code"]["code"]._response,su.to["code"]["software"]?su.to["code"]["software"]._response:"");if(m.sp){var n=cP.de(m.sq);su["code"]={"transform":n,"code":su.to["code"]["code"],"software":su.to["code"]["software"]};}n["option"]["refresh"]={"value":{_response:g}};n["option"]["larger"]={"value":{_response:h}};n["option"]["smaller"]={"value":{_response:i}};n["option"]["end"]["value"]._response=Math.floor(k*32768);n["option"]["test"]["target"]={_type:be.bf(a)};if(d=="edge"){n["option"]["output/start"]=b;n["option"]["output/stop"]=f;}else{n["option"]["output"]=b;}if(j){n["option"]["number"]["value"]._response=j;}if(e){n["option"]["not"]["value"]._response=1;}return su;};r4.tP=function(a,b,c,d,e,f,g,h,i,j,k,l){if(v.bl(l)){var data=v.aV(r4.se);}else if(h=="edge"){var data=v.aV(r4.r6);}else{var data=v.aV(r4.r5);}if(h=="high"){var m=1;}var su={};su.data=data;su.to=cP.de(v.aK(data));var n=r4.so(su.to["code"]["code"]._response,su.to["code"]["software"]?su.to["code"]["software"]._response:"");if(n.sp){var o=cP.de(n.sq);su["code"]={"transform":o,"code":su.to["code"]["code"],"software":su.to["code"]["software"]};}o["option"]["refresh"]["value"]._response=a;o["option"]["larger"]["value"]._response=b;o["option"]["smaller"]["value"]._response=c;if(m){o["option"]["dimension"]["value"]._response=m;}if(i){o["option"]["not"]["value"]._response=1;}if(j){o["option"]["number"]["value"]._response=j;}o["option"]["end"]["value"]._response=Math.floor(d*32768);o["option"]["test"]={_type:be.bf(e)};if(l.search("device/transform/")==-1&&h=="edge"){o["option"]["output/start"]=f;o["option"]["output/stop"]=k;}else{o["option"]["output"]=f;}o["name"]={_response:"Alarm"};return su;};r4.tQ=function(a,b,c,d,e,f,g){var h={_type:be.bf(f),"message":g};return r4.tP(a,b,c,d,e,h,g);};r4.tR=function(a,b,c,d,e){if(b>=a.length){e();return;}var f=parseInt(a[b],10);var g=be.d2(d,be.cj(f));cP.cQ.dN(g,function(h,i){if(h!=null){var j=cP.de(h);if(j._type&&j._type.search("/machine/test")!=-1){cP.cQ.dN(g,function(k,l){try{var m=cP.de(k);var n=be.d2(g,[194]);cP.cQ.dL(n,null,function(o,p){var q=cP.de(o);m.hG=q;var r=function(s){if(s.search("/value")!=-1){s=s.slice(0,-6);}if(s!=be.bf(c)){r4.tR(a,b+1,c,d,e);return;}if(m.hG["refresh"]==null){m.hG["refresh"]={value:{_response:60}};}if(m.hG["larger"]==null){m.hG["larger"]={value:{_response:60}};}if(m.hG["smaller"]==null){m.hG["smaller"]={value:{_response:60}};}e({dV:m,b3:f});};if(m.hG&&m.hG["test"]&&m.hG["test"]["target"]){var s=m.hG["test"]["target"]._type;r(s);}else if(m.hG&&m.hG["test"]){var s=m.hG["test"]._type;r(s);}else{var t=be.d2(g,[175]);cP.cQ.dL(t,null,function(u,Iw){var Ix=cP.de(u);m.c8=Ix;if(m.c8&&m.c8["test"]){var s=m.c8["test"]["target"]._type;}r(s);});return;}});}catch(o){r4.tR(a,b+1,c,d,e);}});return;}}r4.tR(a,b+1,c,d,e);});};r4.tj=function(a,b,c){var d=be.d2(a,[246]);var e=be.d2(d,be.cj(1));cP.cQ.dN(d,function(f,g){if(f!=null){var h=cP.de(f);var i=[];for(var cI in h){if(cI.length&&cI[0]!="_"){i.push(cI);}}r4.tR(i,0,b,d,c);}else{c();}});};r4.sx=function(a,b){var v0={_type:a["code"]["transform"]._type,"description":a["description"],"name":a["name"],"product":{_response:a["product"]},"target":{_responseTarget:b},"version":a["version"]};if(a["code"]["transform"]["route"]){v0["route"]=a["code"]["transform"]["route"];}if(a["code"]["transform"]["option"]){var c=v.ac(a["code"]["transform"]["option"]);for(var cI in c){if(c[cI]["reserved/description"]){c[cI]["description"]=v.ac(c[cI]["reserved/description"]);delete c[cI]["reserved/description"];}}v0["option"]=c;}if(a["code"]["transform"]["output"]){v0["output"]=a["code"]["transform"]["output"];}if(a["code"]["transform"]["start"]){v0["start"]=a["code"]["transform"]["start"];}return v0;};r4.tS=function(a,b,c){if(a["file"]){var location=a["file"]._response?a["file"]._response:a["file"];for(var cI=b.length-1;cI>=0;cI--){if(b[cI]=="/"){b=b.slice(0,cI+1);break;}}g7.l8(b+"data/"+location+".halo","GET",null,window,function(d,e){if(d){var yd=v.aK(d);var f=cP.de(yd);c(f);}else{c();}},"text/plain; charset=x-user-defined","text/plain; charset=x-user-defined");}else{var d=0;for(var cI=b.length-1;cI>=0;cI--){if(b[cI]=="/"){if(d++===2){b=b.slice(0,cI+1);break;}}}var end=a["target"].slice(46);g7.l8("/widgets/appSelector/data/"+end+".halo","GET",null,window,function(e,f){c(e);},"text/plain; charset=x-user-defined","text/plain; charset=x-user-defined");}};r4.tT=function(a){for(var cI in a["option"]){if(a["option"][cI]._type){if(a["option"][cI]._type=="/type/date/subtract/refresh"){var yj=new Date();a["option"][cI]["value"]._response=yj["getTimezoneOffset"]()/-60;}else if(a["option"][cI]._type=="/type/date/subtract/basic"){var yj=new Date("Jan 1 2016");a["option"][cI]["value"]._response=yj["getTimezoneOffset"]()/-60;}}}};r4.sA=function(a,b,c){var d=a.concat();for(var cI=0;cI<a.length;cI++){var su=cP.de(v.aK(a[cI]["data"]));if(su["code"]._type!="/software/type/system/1"){if(a[cI].tU==null){var e=r4.so(su["code"]["code"]._response,su["code"]["software"]?su["code"]["software"]._response:"");var f=cP.de(e.sq);su["code"]["transform"]=f;}else{su["code"]["transform"]=a[cI].tU;}var options=su["code"]["transform"]["option"];for(var dz in options){if(dz=="_type"){continue;}var g=false;for(var h in a[cI]["option"]){if(h==dz){if(a[cI]["option"][h]["value"]){options[dz]["value"]=a[cI]["option"][h]["value"];}else if(a[cI]["option"][h]["target"]){options[dz]["target"]=a[cI]["option"][h]["target"];}else if(a[cI]["option"][h]._type){options[dz]["target"]=a[cI]["option"][h];}g=true;}}if(options[dz]["target"]==null&&options[dz]["value"]==null){console.log("No option match for '"+options[dz]["description"]._response+"'");}}}su["product"]=a[cI]["product"];a[cI].su=su;}var i=[];var j=[];while(d.length){var k=i.length;for(var cI=0;cI<d.length;cI++){var su=d[cI];var l=0;var e2=[];for(var dz in su["option"]){if(dz=="_type"){continue;}var m=su["option"][dz];if(!m.value&&m["description"]&&!m.target&&(m._type!="/type/dimension")){e2.push("Cannot resolve dependency for option '"+su["option"][dz]["description"]._response+"'");continue;}if(su["option"][dz].target&&!su["option"][dz].value){if(su["option"][dz].target&&su["option"][dz].target._type){if((su["option"][dz].target._type.slice(0,8)!="/company")&&(su["option"][dz].target._type!="/route/read")){var n=false;for(var h=0;h<i.length;h++){var y_=i[h];if(su["option"][dz].target._type.search(y_.name)===0){n=true;break;}}if(!n&&b){fullBreak:for(var BH=0;BH<b.length;BH++){if(b[BH].cO){for(var o in b[BH].cO){console.log("searching:"+b[BH].cO[o]["name"]._response);if(b[BH].cO[o]["name"]._response==su["option"][dz].target._type){su["option"][dz].target._type=b[BH].cO[o]["target"]._responseTarget;n=true;if(b[BH].cO[o]["target"]._responseTarget.search(su.target)!=-1){break fullBreak;}else{break;}}}}}}if(!n){e2.push("Cannot resolve dependency for option '"+su["option"][dz]["description"]._response+"'");}}}else{e2.push("Cannot resolve dependency for option '"+su["option"][dz]["description"]._response+"'");}continue;}}for(var BH=0;BH<a.length;BH++){if(a[BH]==d[cI]){var p=BH;break;}}var q={jN:e2,tV:d[cI]};j[p]=q;if(e2.length===0){i.push(su);d.splice(cI,1);cI--;}}if(i.length==k){break;}}if(d.length){c(null,j);}else{c(i);}};r4.tW=function(a,b,c){var d=[];var e=[];for(var cI in b){for(var dz in b[cI].cO){e.push({bV:b[cI],su:b[cI].cO[dz]});}}for(var cI=0;cI<a.length;cI++){var f={tX:false,e2:[],tY:[]};for(var dz=0;dz<e.length;dz++){var kl=be.bf(e[dz].bV.target);if(kl==a[cI].target){if(e[dz].su.name._response==a[cI].name){f.tX=true;f.target=e[dz].su.target._responseTarget;var g={};for(var BH in a[cI].hG){if(BH=="_type"){continue;}var h=a[cI].hG[BH];var i=e[dz].su.hG[BH];if((i==null)||((h["value"]!=null)&&(h["value"]._response!=i["value"]._response))){var su={message:"Mismatch in option '"+a[cI].hG[BH]["description"]._response+"'",target:f.target+"/option/"+BH+"/value",cO:f.target,name:BH,tZ:h["value"]};f.e2.push(su);}if(h["target"]!=null){g[h["target"]._type]=true;var j=false;j|=(h["target"]._type==i._type);if(!j){for(var y1=0;y1<e.length;y1++){if((e[y1].su.name._response==h["target"]._type)&&(e[y1].su.target._responseTarget==i._type)){j=true;break;}}}if(!j){var su={message:"Mismatch in option '"+a[cI].hG[BH]["description"]._response+"'",target:f.target+"/option/"+BH,cO:f.target,name:BH,tZ:h["target"]};f.e2.push(su);}}}var k=function(l){for(var cI=0;cI<iP.iQ.iR.length;cI++){var yd=be.cv(iP.iQ.iR[cI].target);var yi=be.cv(l);if(v.D(yd,yi,yd.length)){for(var dz=0;dz<iP.iQ.iR[cI].c3.length;dz++){if(be.dQ(iP.iQ.iR[cI].c3[dz].target,yi)){return iP.iQ.iR[cI].c3[dz];}}}}};for(BH in g){var l={};if(BH.search("/company/paragon")==-1){continue;}var sB=k(be.cn(BH));if(sB==null){continue;}if((sB.type=="control"&&sB.ef=="/string")||sB.type=="buzzer"||sB.type=="button"){continue;}var m=sB.da?true:false;if(!m){var n=iP.rO(be.cn(BH));f.e2.push();var su={message:"Logging not started on "+n.iW+" - "+n.name};f.tY.push(su);}}}}}d.push(f);}c(d);};/* (C) 2021 Halo Automation Systems LLC; This software is proprietary and is NOT to be distributed or shared in any way.*/"use strict";var tG={};if(typeof require!=="undefined"){}tG.tH=1.571;tG.tI=Math.PI*2;tG.tJ="10pt sans serif";tG.t_="13pt sans serif";tG.t$="14pt sans serif";tG.t0=[[0,15,175,200],[235,127,35,200],[189,17,44,200],[173,0,204,200],[17,232,13,200],[26,166,166,200],[166,166,26,200],[253,38,197,200],[165,145,252,200],[113,153,0,200],[235,167,21,200],[215,223,81,200],[87,224,119,200],[200,200,85,200],[72,184,133,200],[10,10,10,200],[55,102,25,200],[26,126,26,200]];tG.t1=function(a,b){a[2]+=b;var c=(a[2]/(a[1]+1));a[3]+=Math.pow(c-b,2);a[4]=((a[4]==null)||(b<a[4]))?b:a[4];a[5]=((a[5]==null)||(b>a[5]))?b:a[5];a[1]++;};tG.t2=function(a,b,c){if(b.t3.t4){var d=new Date(a);var e=b.t5;if(e<86400000){var f=d.getUTCHours();var g="";if(!c){var g="AM";if(f>=12){g="PM";}if(f>12){f-=12;}if(f===0){f=12;}}var h=v.F(f,(!c)?2:1);var i=v.F(d.getUTCMinutes(),2);if(b.t5<60000){var j=v.F(d.getUTCSeconds(),2);}else{var j="";}if(b.t5<1000){var k="."+v.F(d.getUTCMilliseconds(),3);}else{var k="";}if(e<60*1000){if(k.length){var l=j+k+"s";}else{var l=i+"m"+j+"s";}}else if(b.t5<60000){var l=h+":"+i+":"+j+k+g;}else{var l=tG.t6(d,2,c);}}else{var l=d.getUTCFullYear()+"/"+v.F((d.getUTCMonth()+1),2)+"/"+v.F(d.getUTCDate(),2);}return l;}else{var m="";var n=a;var o=Math.abs(n);var p=Math.round(o/b.t5);var q=b.t3.nI;if(o>=1000000000){var r=0;while(o>=10){o/=10;n/=10;r++;if(o<10){break;}}m="E"+r;}else if(o>=1000000){var r=0;n/=1000000;m="M";var test=b.t5.toString();q=3;while(test.length&&(test.slice(-1)=="0")){test=test.slice(0,-1);q--;}}else if(o>=1000){var r=0;n/=1000;m="k";var test=b.t5.toString();q=3;while(test.length&&(test.slice(-1)=="0")){test=test.slice(0,-1);q--;}}else if(o*Math.pow(10,b.t3.nI)<0.5){n=0;}else if((o<1/1000000)&&(o>0)){var r=0;while(o<1){o*=10;n*=10;r--;if(o>=1){break;}}m="E"+r;}if(q>=0){var s=n.toFixed(q)+"";}else{var s=""+Math.floor(n);}return s+m;}};tG.t7=function(a,b){var c=parseInt(a.slice(1,3),16);var d=parseInt(a.slice(3,5),16);var e=parseInt(a.slice(5,7),16);return "rgba("+c+","+d+","+e+","+b+")";};tG.t8=function(a,b,c,d,e){if(c<0){c=0;}var f=Math.floor(c/80)+1-e;if(f<=0){f=1;}if(b===Infinity||b===-Infinity){b=0;}if(a===-Infinity||a===Infinity){a=0;}var g=Math.abs((parseFloat(b)-parseFloat(a))/f);if(g===0){g=1;}var result={};if((d)&&(g>20000)){var h=[[20000,40000,30000,5000],[40000,80000,60000,10000],[80000,400000,300000,60000],[400000,1500000,900000,300000],[1500000,2500000,1800000,300000],[2500000,5000000,3600000,900000],[5000000,9000000,7200000,1800000],[9000000,30000000,18000000,3600000],[30000000,50000000,36000000,7200000],[50000000,100000000,86400000,17280000],[100000000,200000000,172800000,34560000],[200000000,500000000,86400000*5,86400000],[500000000,1000000000,86400000*10,86400000*2],[1000000000,2000000000,86400000*20,86400000*5],[2000000000,5000000000,86400000*50,86400000*10],[5000000000,10000000000,86400000*100,86400000*20],[10000000000,20000000000,86400000*200,86400000*50],[20000000000,50000000000,86400000*500,86400000*100],[50000000000,100000000000,86400000*1000,86400000*200],[100000000000,200000000000,86400000*2000,86400000*500],[200000000000,500000000000,86400000*5000,86400000*1000],[500000000000,1000000000000,86400000*10000,86400000*2000],[1000000000000,2000000000000,86400000*20000,86400000*5000]];for(var cI=0;cI<h.length;cI++){if((g>=h[cI][0])&&(g<h[cI][1])){result.i8=h[cI][2];result.i9=h[cI][3];break;}}}else{var scale=1;var nI=0;while(g<1){scale*=10;nI++;g*=10;}while(g>7){scale/=10;nI--;g/=10;}if((g>3)&&(g<7)){g=5/scale;}else if((g>1.5)&&(g<=3)){g=2/scale;}else{g=1/scale;}g=parseFloat(g.toPrecision(1));result.i8=g;result.i9=g/5;result.nI=nI;}return result;};tG.t9=function(){return {ua:0.1,ub:1,t5:0.5,uc:2,ud:5,ue:"rgba(200,200,200,1)",uf:"rgba(200,200,200,1)",font:"8pt sans serif",ug:"black",t3:{t4:false}};};tG.uh=function(a){this.document=a["container"].ownerDocument;a["container"].setAttribute("style","width: 100%;height: 100%;");var type=a["type"]||"date";var canvas=document.createElement("canvas");var ui=new tG.ui(canvas,type);ui.uj();ui.options.uk=a["titles"];v.ai(a["container"]);a["container"].appendChild(canvas);if(a["container"].clientWidth){canvas.setAttribute("width",a["container"].clientWidth*ui.canvas.ul);canvas.setAttribute("height",a["container"].clientHeight*ui.canvas.ul);canvas.style.width=a["container"].clientWidth+"px";canvas.style.height=a["container"].clientHeight+"px";}for(var cI=0;cI<a["dataGroups"].length;cI++){ui.um.push(a["dataGroups"][cI]);}for(var cI in a["style"]){ui.options.style[cI]=a["style"][cI];}for(var cI in a["layout"]){ui.options.un[cI]=a["layout"][cI];}var uo=(a["dataGroups"][0]&&a["dataGroups"][0].ef)?a["dataGroups"][0].ef:be.cn("/type/K");ui.uo={ef:uo};return ui;};tG.ui=function(a,b,c){if(b==null){b="date";}this.canvas=a;this.up=b;this.uq=a.getContext("2d");this.um=[];this.ur=0;this.us=[];this.uo=null;this.ut=null;this.options={};this.uu=0;this.options.style={uv:2,uw:"rgba(150,150,150,1)",ux:30,uy:30,uz:30,uA:10,uB:10,uC:35};this.options.style.uD=new tG.t9();this.options.style.uD.t3.t4=true;this.options.style.uE=new tG.t9();this.options.style.uF=new tG.t9();this.options.uG=(c&&(c.uG!=null))?c.uG:false;this.options.uk={ui:null,uH:"Time",uI:null,uJ:null};var d=new Date();this.options.un={uK:0,uL:1,uM:d.getTime()-3600000,uN:d.getTime()};};tG.uO=function(a){var b={uP:4,uQ:2,uR:2,lineWidth:4};Object.assign(b,a);return b;};tG.ui.prototype.uS=function(a,b){var c=this.canvas.parentNode;var clientWidth=(a!=null)?a:c.clientWidth;var clientHeight=(b!=null)?b:c.clientHeight;this.uj();var canvas=this.canvas;if(clientWidth){canvas.setAttribute("width",clientWidth*this.ul);canvas.setAttribute("height",clientHeight*this.ul);canvas.style.width=clientWidth+"px";canvas.style.height=clientHeight+"px";}this.uT();this.uU(true);this.uV(true);};tG.ui.prototype.uW=function(a,b,c,d,e,f){var color=tG.uX.call(this);var g=tG.uO({name:a.name,data:a,uY:d,uZ:e,ef:b,u_:color,u$:color,u0:(c==null)?true:c});this.um.push(g);g.data.u1(function(){f(g);});};tG.ui.prototype.u2=function(){for(var cI=0;cI<this.us.length;cI++){this.us[cI].bw=0;}var update=false;for(var cI=0;cI<this.um.length;cI++){if(this.um[cI].u0){var a=false;for(var dz=0;dz<this.us.length;dz++){if(v.D(this.um[cI].ef,this.us[dz].ef)){this.us[dz].bw++;a=true;break;}}if(!a){this.us.push({ef:this.um[cI].ef,bw:1});update=true;}}}if(!update){for(var cI=0;cI<this.us.length;cI++){if(!this.us[cI].bw){update=true;break;}}}if(!update){return;}for(var cI=0;cI<this.us.length;cI++){if(this.us[cI].bw===0){this.us.splice(cI,1);cI--;}}var b=this.uo;this.uo=null;this.options.uk.uI=null;this.ut=null;this.options.uk.uJ=null;var c=0;for(var cI=0;cI<this.us.length;cI++){if(this.us[cI].bw){c++;}}if(c===0){return;}var d=0;for(var cI=0;cI<this.us.length;cI++){if(this.us[cI].bw&&b&&v.D(this.us[cI].ef,b.ef)){this.uo=b;break;}if(this.us[cI].bw>d){this.uo={ef:this.us[cI].ef};d=this.us[cI].bw;}}if(c===1){return;}if(c>2){this.ut={u3:true};this.options.uk.uJ="Normalized";return;}for(var cI=0;cI<this.us.length;cI++){if((this.us[cI].bw)&&(!v.D(this.us[cI].ef,this.uo.ef))){this.ut={ef:this.us[cI].ef};return;}}};tG.u4=function(a,b,c){c.u5.push(Math.floor(b/32.768));var d=a[2]/a[1];c.u6.push([d,a[5],a[4]]);if((c.u7==null)||(c.u7>a[4])){c.u7=a[4];}if((c.u8==null)||(c.u8<a[5])){c.u8=a[5];}};tG.ui.prototype.u9=function(a,b,c,d,e){var f=this;if(a>=b){e();return;}this.va(this.um[a],c,d,function(){f.u9(a+1,b,c,d,e);});};tG.ui.prototype.vb=function(a,b,c){if(c){this.u9(0,this.um.length,a,b,c);}else{var c=a;var d=(this.options.un.uN-this.options.un.uM);var a=new Date(this.options.un.uM-(d/2));var b=new Date(this.options.un.uN+(d/2));this.u9(0,this.um.length,a,b,c);}};tG.ui.prototype.va=function(a,b,c,d){if(a.u0&&!isNaN(b)&&!isNaN(c)){var buffer=(a.data.dW)?tG.vc(a.data.dW)*2:a.uY;var e=b-this.uu;var f=c-this.uu;var b_=(this.vd-this.options.style.ux-this.options.style.uz);var g=(f-e)/a.uY;var h=b_/g;var i=a.data.ve;var j=0;a.vf=(h<8);var k=(805306368/32.768);var l=c-b;if((l/k)>80){j++;h=b_/(l/k);}if(j>i){j=i;}a.vg=true;a.vh=true;e-=buffer;f+=buffer;this.vi(a,e,f,j,d);}else{d();}};tG.vj=function(a){this.type="simple";this.data=a.data;this.u5=[];this.u6=[];this.uZ=a.uZ;this.uY=a.uY;this.bn=a.bn;this.name=a.name;this.ef=a.ef;this.dW=a.dW;};tG.vj.prototype.vk=function(a,b,c,d){this.u7=null;this.u8=null;this.u5=[];this.u6=[];this.vl=[];var e=b*32.768;var f=c*32.768;for(var dz=0;dz<this.data.length;dz++){if((this.data[dz][0]>f)||(this.data[dz][0]<e)){continue;}if((this.u7==null)||(this.data[dz][1]<this.u7)){this.u7=this.data[dz][1];}if((this.u8==null)||(this.data[dz][1]>this.u8)){this.u8=this.data[dz][1];}this.u5.push(Math.floor(this.data[dz][0]/32.768));this.u6.push([this.data[dz][1],this.data[dz][1],this.data[dz][1]]);if((this.u5.length>1)&&this.b_&&(this.u5[this.u5.length-1]-this.u5[this.u5.length-2]>this.b_*4)){this.vl.push(this.u5.length-1);}}d();};tG.vj.prototype.u1=function(a){this.vm=tG.vn(this.vm);this.vo=tG.vp(this.vo);for(var dz=0;dz<this.data.length;dz++){this.vm=Math.min(this.vm,this.data[dz][0]);this.vo=Math.max(this.vo,this.data[dz][0]);}this.vm/=32.768;this.vo/=32.768;a();};tG.vq=function(a){this.type="generalDatabase";this.u5=[];this.u6=[];this.u7=null;this.u8=null;this.vm=null;this.vo=null;Object.assign(this,a);};tG.vq.prototype.vr=function(a){a(true);};tG.vq.prototype.vk=function(a,b,c,d){if(d){d();}};tG.vq.prototype.u1=function(a){if(a){a();}};tG.vq.prototype.vs=function(a,b){this.u5.push(a);this.u6.push([b,b,b]);this.u7=Math.min(tG.vn(this.vm),b);this.u8=Math.max(tG.vp(this.u8),b);this.vm=Math.min(tG.vn(this.vm),a);this.vo=Math.max(tG.vp(this.vo),a);};tG.vt=function(a){this.type="quickDatabase";this.u5=[];this.u6=[];Object.assign(this,a);};tG.vt.prototype.vr=function(a){a(true);};tG.vt.prototype.vk=function(a,b,c,d){this.u7=null;this.u8=null;this.u5=[];this.u6=[];b*=32.768;c*=32.768;this.vu(this.data,0,0,a,b,c,this.ve);if(d){if(this.vv){this.vw=v.ac(this.vv);}d();}};tG.vt.prototype.u1=function(a){this.vm=null;this.vo=null;var nO=this.data;for(var cI=0;cI<this.ve;cI++){for(var b in nO){nO=nO[b][0];break;}}for(var b in nO){this.vm=parseInt(b,10);this.vm/=32.768;break;}var nO=this.data;for(var cI=0;cI<this.ve;cI++){for(var b in nO){}if(b==null){if(a){a();}return;}nO=nO[b][0];}for(var b in nO){}if(b){this.vo=parseInt(b,10);this.vo/=32.768;}if(a){a();}};tG.vt.prototype.vu=function(a,b,c,d,e,f,g){flowLoop:for(var h in a){var i=a[h];if(g===0){var j=this.uY;var k=parseInt(h,10);}else{var cI=this.ve-g;var c9=(64-this.vx)-(cI*this.vy);var j=Math.pow(2,c9);var k=b+(parseInt(h,10)*j);}if(c===0){if((k+j)<e){continue;}else{c=1;}}if(c===1){if(k>f){break flowLoop;}if(g===0){if(k>=e){this.u5.push(Math.floor(k/32.768));this.u6.push([i,i,i]);this.u7=Math.min(tG.vn(this.u7),i);this.u8=Math.max(this.u8,i);}}else{if(d==g){tG.u4(i,k,this);}else{this.vu(i[0],k,c,d,e,f,g-1);}}}}};tG.vt.prototype.vs=function(a,b){var c=this.data;var d=Math.floor(a*32.768);var e=d;for(var cI=0;cI<this.ve;cI++){var CB=Math.pow(2,(64-this.vx)-(cI*this.vy));var f=(Math.floor(e/CB)).toString();e-=Math.floor(e/CB)*CB;if(c[f]==null){c[f]=[{},0,0,0];}tG.t1(c[f],b);c=c[f][0];}c[d.toString()]=b;};tG.vz=function(a){this.type="haloDatabase";this.sB=a.sB;this.da=a.da;this.ve=a.ve;this.vx=a.vx;this.vy=a.vy;this.vA=(a.vB===true)?true:false;this.uZ=a.uZ;this.uY=a.uY;this.iR=a.iR;this.name=a.name;this.ef=a.ef;this.dW=a.dW;this.vC=a.vC;this.vD=a.vD||null;this.vE=a.vE||null;this.vF=a.vF||null;};tG.vz.prototype.b$=function(a){var b=this;this.vG=new Date();this.vH(function(){b.u1(function(){a();});});};tG.vz.prototype.z=function(a){var b=this;var c=function(){var d=haloS.vI(b.sB,true);if(!d){b.vH(a);return;}var e=be.d2(b.sB,[210]);var f=haloS["returnSensorDatabaseLocation"](be.bf(d.vJ),be.bf(e));haloS["checkExists"](f,function(g){if(g){b.vK=[be.cn(f)];}b.vH(a);});};var d=function(){var v0=b.da[0];if(be.dQ(v0,[128,219,129,146],4)){var trim=be.cv(v0).slice(4);var iR=iP.iQ.iR;var e=[];for(var cI=0;cI<iR.length;cI++){var bV=be.bf(iR[cI].target);if(bV.search("container")!==-1){if(iR[cI].jb&&(iR[cI].jb.i8!=null)&&(iR[cI].jb.i8>1)){var y_=be.cv(iR[cI].target).concat(trim);e.push(be.dh(y_));}}}b.da=e;}};this.vG=new Date();if(this.da==null){var e=be.d2(this.sB,[184]);cP.cQ.dN(e,function(f,g){if(f){f=be.cv(f);b.rV=true;if(f.length){f.shift();b.da=[f];}c();}if(f==null){b.rV=false;a(null,true);return;}});}else{d();c();}};tG.vz.prototype.vH=function(a){var b=this;this.u5=[];this.u6=[];this.vL=new tG.vt({type:"quickDatabase",data:{},ve:3,vx:28,vy:4});this.vM=false;this.vN=false;this.vO=0;this.vP={};if(this.vC){b.vQ(a);return;}var c=be.d2(this.sB,[173]);cP.cQ.pj(c,function(d,e){if(d){b.vR=true;var f=cP.de(d);if(f._type==null&&f["queue"]){var g=tG.vS(f["queue"]);}else{var g=tG.vS(f);}if(g.bn){b.bn=true;}var data=g.data;for(var cI=0;cI<data.data.length;cI++){b.vL.vs(Math.floor(data.data[cI][0]/32.768),data.data[cI][1]);}if(f._type==null&&f["database"]){var g=tG.vS(f["database"]);var data=g.data;for(var cI=0;cI<data.data.length;cI++){b.vL.vs(Math.floor(data.data[cI][0]/32.768),data.data[cI][1]);}}}b.vQ(a);});};tG.vz.prototype.vQ=function(a){var b=this;if(b.da==null){var c=be.bf(b.sB);if(c.search("/transform/")!==-1||c.search("/refresh/")!==-1){a(true);}else{a(false);}}else{var d=be.d2(b.da[0],[198]);cP.cQ.dJ(d,function(e,f){if(e){b.vO=e;}a(true);});}};tG.vz.prototype.vr=function(a){var b=this;b.vN=true;if(b.da==null){a(true,1);return;}var c=function(d,e,f,g){if(e==null||d>=e.length){g();return;}var h=be.d2(e[d],[184]);var now=v.a1((new Date()).getTime());var i={type:0,jo:0,vO:b.vO,vT:false,vU:f};b.vu(h,0,i,{},0,b.vO,now,b.ve,9999999999999,function(){if(i.vO<=b.vO){c(d+1,e,f,g);return;}b.vO=i.vO;var j=be.d2(e[d],[198]);cP.cQ.fy(j,be.cj(i.vO),function(){b.vN=false;c(d+1,e,f,g);});});};c(0,b.da,false,function(){c(0,b.vK,true,function(){a(true,1);});});};tG.vz.prototype.vV=function(a,b,c,d,e){var f=this;f.dN(a,function(g,h){if(g==null){e();return;}var i=new cP.jH(g);var j=new cP.hO(i);var k=new cP.jO(j);var l=0;while(k.jP()){if(k.type===122){var m=j.ew();if(m.type<21){l=m.data;if(b){break;}}}}if(c>=d){if(b){var n=be.d2(a,be.cj(l));f.dL(n,null,function(o,p){if(o==null){e();return;}var q=cP.de(o);e(q["date"]?q["date"]._response:null);});}else{var o=be.d2(a,be.cj(l));f.dL(o,null,function(p,q){if(p==null){e();return;}var r=cP.de(p);e(r["date"]?r["date"]._response:null);});}return;}f.vV(be.d2(a,be.cj(l)),b,c+1,d,e);});};tG.vz.prototype.u1=function(a){if(this.vE&&this.vF){this.vm=this.vE;this.vo=this.vF;a();return;}var b=this;if(b.vM){v.setTimeout(function(){b.u1(a);},100);return;}b.vM=true;if(b.da==null){b.vW(null,null,a);return;}var c=function(d,e,f){if(e==null||d>=e.length){f();return;}var g=be.d2(e[d],[184]);b.vV(g,true,0,3,function(h,i){if(h!=null){h/=32.768;b.vm=Math.min(tG.vn(b.vm),h);}b.vV(g,false,0,3,function(j,k){if(j!=null){j/=32.768;b.vo=Math.max(tG.vp(b.vo),tG.vp(j));}c(d+1,e,f);});});};c(0,b.da,function(){c(0,b.vK,function(){b.vW(b.vm,b.vo,a);});});};tG.vz.prototype.vW=function(a,b,c){var d=this;if(d.vL){d.vL.u1();if(d.vL.vm!=null){a=Math.min(tG.vn(a),tG.vn(d.vL.vm));}if(d.vL.vm!=null){b=Math.max(tG.vp(b),tG.vp(d.vL.vo));}if(d.vL.vm!==null&&d.bn){b=(new Date()).getTime();}}d.vm=a||d.vm;d.vo=b||d.vo;d.vM=false;c();};tG.vz.prototype.vk=function(a,b,c,d){var e=this;if(e.vM){v.setTimeout(function(){e.vk(a,b,c,d);},100);return;}e.vM=true;this.u7=null;this.u8=null;this.u5=[];this.u6=[];this.vl=[];this.vX=null;var f=function(g,h,i){if(e.vL){e.vL.vk(g,h,i);if(e.vX!=null&&e.vL.u5.length&&e.vL.u5[0]*32.768>(e.vX+e.uY)&&e.u5.length){e.vl.push(e.u5.length);}if(e.bn){if(e.vL.u6.length){var j=e.vL.u6[e.vL.u6.length-1];var now=e.vG.getTime();e.vL.u5.push(now);e.vL.u6.push(j.concat());}}for(var cI=0;cI<e.vL.u5.length;cI++){e.u5.push(e.vL.u5[cI]);e.u6.push(e.vL.u6[cI]);}if(e.vL.u7!==null){e.u7=Math.min(tG.vn(e.u7),e.vL.u7);}if(e.vL.u8!==null){e.u8=Math.max(e.u8,e.vL.u8);}}};if(this.da==null){f(a,b,c);e.vM=false;d();return;}var g=function(h,i,j,k){if(i==null||h>=i.length){k();return;}if(e.vD){var l=function(m,n,o){if(n>=m.length){o();return;}var p={type:1,jo:0,vY:false,vU:!j};var target=m[n]["target"]._response;if(v.bi(target)){target+="/machine/1";}haloS["findShareServerForSensor"](target,e);var q=be.d2(e.da[0],[184]);var ck=Math.max(m[n]["date"]["start"]._response,b);var wd=m[n]["date"]["stop"]._response===-1?c:Math.min(m[n]["date"]["stop"]._response,c);var r=e.u5.length;e.vu(q,0,p,{},a,ck*32.768,wd*32.768,e.ve,9999999999999,function(){if(j){f(a,ck,wd);}if(e.bn){for(var cI=0;cI<e.u5.length-1;cI++){var _=e.u5[cI];var aa=e.u6[cI][0];if(aa!=e.u6[cI+1][0]){if((e.u5[cI+1]-_)>100){var s=e.u5.slice(0,cI+1);s.push(e.u5[cI+1]-3);e.u5=s.concat(e.u5.slice(cI+1));var t=e.u6.slice(0,cI+1);t.push(e.u6[cI].concat());e.u6=t.concat(e.u6.slice(cI+1));}}}}e.vM=false;e.v_.push(e.u5.slice(r));e.v$.push(e.u6.slice(r));l(m,n+1,o);});};e.v_=[];e.v$=[];var m=Object.values(e.vD);l(m,0,function(){g(h+1,i,j,k);});}else{var n=be.d2(i[h],[184]);var o={type:1,jo:0,vY:false,vU:!j};e.vu(n,0,o,{},a,b*32.768,c*32.768,e.ve,9999999999999,function(){if(j){f(a,b,c);}if(e.bn){for(var cI=0;cI<e.u5.length-1;cI++){var _=e.u5[cI];var aa=e.u6[cI][0];if(aa!=e.u6[cI+1][0]){if((e.u5[cI+1]-_)>100){var p=e.u5.slice(0,cI+1);p.push(e.u5[cI+1]-3);e.u5=p.concat(e.u5.slice(cI+1));var q=e.u6.slice(0,cI+1);q.push(e.u6[cI].concat());e.u6=q.concat(e.u6.slice(cI+1));}}}}e.vM=false;g(h+1,i,j,k);});}};g(0,e.da,true,function(){var h=e.u5;var i=e.u6;e.u5=[];e.u6=[];g(0,e.vK,false,function(){e.vw={u5:e.u5,u6:e.u6};e.u5=h;e.u6=i;d();});});};tG.vz.prototype.dN=function(a,b){var c=this;var d=be.bf(a);if(c.vP[d]){b(c.vP[d].v0,c.vP[d].v1);return;}if(false){console.log("readTargetContents "+d+" from server "+c.v2);iP.dv.v3(d,null,null,c.v2,function(e){console.log("cacheData:"+(e?e["data"].length:"null"));if(e){c.vP[d]={v0:e["data"]};b(e["data"]);}else{c.vP[d]={v1:[175]};b(null,[175]);}});}else{cP.cQ.dN(a,function(e,f){c.vP[d]={v0:e,v1:f};b(e,f);});}};tG.vz.prototype.dL=function(a,b,c){var d=this;var e=be.bf(a);if(d.vP[e]){c(d.vP[e].v0,d.vP[e].v1);return;}if(false){console.log("readTargetContentsAllTiers "+e+" from server "+d.v2);iP.dv.v3(e,null,null,d.v2,function(f){console.log("cacheData:"+(f?f["data"].length:"null"));if(f){d.vP[e]={v0:f["data"]};c(f["data"]);}else{d.vP[e]={v1:[175]};c(null,[175]);}});}else{cP.cQ.dL(a,b,function(f,g){d.vP[e]={v0:f,v1:g};c(f,g);});}};tG.vz.prototype.fr=function(a,b,c){var d=this;var e=be.bf(a);d.vP[e]={v0:b,v1:null};if(d.v2){c(v0,v1);}else{cP.cQ.fr(a,b,function(f,g){c(f,g);});}};tG.vz.prototype.vu=function(a,b,c,d,e,f,g,h,i,j){var k=this;k.dN(a,function(l,m){var data=cP.de(l);var n=be.d2(a,[194]);k.dL(n,null,function(o,p){var q=cP.de(o);var r=[];for(var cI in data){if(cI==="option"){var v8=v.ba(q["smaller"]);var wa=v.ba(q["larger"]);var ck=v.ba(q["start"]);var wd=v.ba(q["stop"]);var wc=v.ba(q["dimension"]);var wb=v.ba(q["add"]);}else{var s=parseInt(cI,10);if(s<0||s==null||isNaN(s)){continue;}r.push(s);}}if(c.type===1&&e&&e>=(h+1)&&k.vO>=wd&&(f<wd&&g>ck)){if(k.vX!=null&&ck>(k.vX+k.uY)&&k.u5.length){if(!c.vU){k.vl.push(k.u5.length);}}k.u5.push(Math.floor((ck+wd)/2/32.768));k.u6.push([wb/wc,wa,v8]);k.u7=Math.min(tG.vn(k.u7),k.v8);k.u8=Math.max(k.u8,wa);k.vX=wd+(((wd-ck)/wc)*3);j();return;}if(c.vT){var t={v8:null,wa:null,wb:0,wc:0,ck:null,wd:null};}else{t={v8:v8,wa:wa,wb:wb?wb:0,wc:wc?wc:0,ck:ck,wd:wd};}k.we(r,0,a,b,c,t,e,f,g,h,i,function(){if(c.type){j();}else{if(k.v2){j();return;}if(c.vU||(t.ck==null||t.wd==null||(wd!=null&&t.wd<=wd))){j();return;}c.vO=t.wd;d.wb+=t.wb;d.wc+=t.wc;d.v8=Math.min(tG.vn(d.v8),t.v8);d.wa=Math.max(tG.vp(d.wa),t.wa);d.ck=Math.min(tG.vn(d.ck),t.ck);d.wd=Math.max(tG.vp(d.wd),t.wd);if(d.wd>c.vO){c.vO=d.wd;}cP.cQ.cX(a,[194],function(u,Iw){if(u==null){j();return;}var of=[];of=of.concat(60,122,160,60,97,be.cj(t.wb),62,122,163,60,97,be.cj(t.wa),62,122,164,60,97,be.cj(t.v8),62,122,197,60,97,be.cj(t.ck),62,122,198,60,97,be.cj(t.wd),62,122,236,60,97,be.cj(t.wc),62,62);var Ix=be.d2(a,[194]);k.fr(Ix,of,function(Iy,Iz){j();});});}});});});};tG.vz.prototype.we=function(a,b,c,d,e,f,g,h,i,j,k,l){if(b>=a.length){l();return;}var m=this;v.nextTick(function(){var n=a[b];if(j===0){var o=1;var p=d+n;}else{var cI=m.ve-j;var c9=(64-m.vx)-(cI*m.vy);var o=Math.pow(2,c9);}var p=d+(n*o);if(a[b+1]!=null){var q=d+((a[b+1]+1)*o);}var r=be.d2(c,be.cj(n));if(q!=null&&q<h){m.we(a,b+1,c,d,e,f,g,h,i,j,k,l);return;}if(p>i){l();return;}if(j===0){m.dL(r,null,function(s,t){var u=tG.wg(s);if(u.bn){m.bn=true;}var data=u.data;if(data.data.length){if(e.type===0){if(!e.vU&&(f.wd==null||f.wd<data.data[data.data.length-1][0])){var wb=0;var v8=-Infinity;var wa=null;for(var cI=0;cI<data.data.length;cI++){v8=Math.min(v8,data.data[cI][1]);wa=Math.max(wa,data.data[cI][1]);wb+=data.data[cI][1];}data.min=v8;data.max=wa;data.wb=wb;f.wb+=data.wb;f.wc+=data.data.length;f.v8=Math.min(tG.vn(f.v8),data.min);f.wa=Math.max(tG.vp(f.wa),data.max);f.ck=Math.min(tG.vn(f.ck),data.data[0][0]);f.wd=Math.max(tG.vp(f.wd),data.data[data.data.length-1][0]);}}else{if(m.vX!=null&&data.data[0][0]>(m.vX+m.uY)&&m.u5.length){if(!e.vU){m.vl.push(m.u5.length);}}for(var cI=0;cI<data.data.length;cI++){var n=data.data[cI][1];if(data.data[cI][0]>h&&data.data[cI][0]<i){m.u5.push(Math.floor(data.data[cI][0]/32.768));m.u6.push([n,n,n]);m.u7=Math.min(tG.vn(m.u7),n);m.u8=Math.max(tG.vp(m.u8),n);}}if(m.vO<data.data[data.data.length-1][0]){e.vY=true;}var Iw=0;if(data.data.length>1){Iw=data.data[1][0]-data.data[0][0];}m.vX=data.data[data.data.length-1][0]+(3*Iw);}}m.we(a,b+1,c,d,e,f,g,h,i,j,k,l);});}else{m.vu(r,p,e,f,g,h,i,j-1,o,function(){m.we(a,b+1,c,d,e,f,g,h,i,j,k,l);});}});};tG.wg=function(a){if(a){var b=cP.de(a);return tG.vS(b);}else{return {data:{data:[]}};}};tG.vS=function(a,b){var c={data:[]};try{var CB=a._type;if(CB=="/machine/database/message/item/1"){if(a["message"]!=null){var message=a["message"]._response;var cp=a["date"]._response;c.data.push([cp,message]);return {data:c};}}else if(CB=="/machine/database/change/item/1"){if(a["data"]!=null){var yd=a["data"]["_response"];var d=v.aK(yd);var b_=(a["subtract"]!=null)?a["subtract"]["_response"]:1;var yd=be.dj(d,0);var yi=be.dj(d,yd.dn);var e=yd.value;var vX=yi.value;if(d[0]!==0){c.data.push([yi.value,yd.value]);}for(var cI=yi.dn;cI<d.length;cI++){if(d[cI]===0){break;}if(d[cI]&128){var f=4;var g=[20];for(var dz=0;dz<f;dz++){g.push(d[cI+1+dz]);}var Bp=be.dj(g,0);var h=Bp.value;var i=(d[cI]&127);var BH=i;var j=0;for(var dz=0;dz<BH;dz++){j=(j*256)+d[cI+1+f+dz];}if((BH===8)&&(d[cI+1+f]===255)){j-=Math.pow(256,8);}i+=4;}else{var cg=(d[cI]&112)>>4;if(cg&4){var k=-(((cg^255)&3)+1);}else{var k=(cg&3);}k*=b_;var h=e+k;var i=d[cI]&15;var BH=i;var j=0;for(var dz=0;dz<BH;dz++){j=(j*256)+d[cI+1+dz];}if((BH===8)&&(d[cI+1+f]===255)){j-=Math.pow(256,8);}}var vX=vX+j;if(!b){c.data.push([vX-100,e]);}c.data.push([vX,h]);cI+=i;var e=h;}}return {bn:true,data:c};}else if(CB=="/machine/database/change/item/2"){if(a["data"]!=null){var yd=a["data"]["_response"];var d=v.aK(yd);var b_=(a["subtract"]!=null)?a["subtract"]["_response"]:1;var yd=be.dj(d,0);var yi=be.dj(d,yd.dn);var e=yd.value;var vX=yi.value;if(d[0]!==0){c.data.push([yi.value,yd.value]);}for(var cI=yi.dn;cI<d.length;cI++){if(d[cI]===0){break;}if(d[cI]&128){var Bp=be.dj(d,cI+1);var h=Bp.value;var i=(d[cI]&127);var BH=i;var j=0;for(var dz=0;dz<BH;dz++){j=(j*256)+d[Bp.dn+dz];}if((BH===8)&&(d[Bp.dn]===255)){j-=Math.pow(256,8);}i+=(Bp.dn-cI-1);}else{var cg=(d[cI]&112)>>4;if(cg&4){var k=-(((cg^255)&3)+1);}else{var k=(cg&3);}k*=b_;var h=e+k;var i=d[cI]&15;var BH=i;var j=0;for(var dz=0;dz<BH;dz++){j=(j*256)+d[cI+1+dz];}if((BH===8)&&(d[cI+1+f]===255)){j-=Math.pow(256,8);}}var vX=vX+j;if(!b){c.data.push([vX-100,e]);}c.data.push([vX,h]);cI+=i;var e=h;}}return {bn:true,data:c};}else if(a["data"]!=null){var yd=a["data"]["_response"];var l=a["date"]["_response"];var b_=a["subtract"]["_response"];var b$=a["refresh"]["_response"]*32768;var d=v.aK(yd);var e=0;var vX=l;for(var cI=0;cI<d.length;cI++){if(d[cI]===0){break;}if(d[cI]&128){var cg=(d[cI]&112)>>4;if(cg&4){var k=-(((cg^255)&3)+1);}else{var k=(cg&3);}k*=b_;var m=(d[cI]&15)+1;while(m--){e+=k;c.data.push([vX,e]);vX+=b$;}}else{if(d[cI]===60){cI+=(3-1);}else{var data=d.slice(cI,cI+5);var n=be.dj(data,0);c.data.push([vX,n.value]);e=n.value;cI+=(n.dn-1);}vX+=b$;}}}}catch(o){}return {data:c};};tG.vc=function(a){if(a===1){var b=1000*60;}else if(a===2){var b=1000*60*15;}else if(a===3){var b=1000*60*30;}else if(a===4){var b=1000*60*60;}else if(a===5){var b=1000*60*60*24;}else if(a===6){var b=1000*60*60*24*7;}else if(a===7){var b=1000*60*60*24*30;}else if(a===8){var b=1000*60*60*24*365;}return b;};tG.ui.prototype.wh=function(a){var b=this;a.data.wi=[];for(var cI=0;cI<a.data.u6.length;cI++){a.data.wi[cI]=a.data.u6[cI].concat();}a.data.wj=a.data.u5.concat();var lJ=v.D(a.ef,b.uo.ef);var c=lJ?b.uo.wk:b.ut!=null?b.ut.wk:null;var wl=lJ?b.uo.wl:b.ut!=null?b.ut.wl:"";if(c!=null){for(var cI=0;cI<a.data.u6.length;cI++){a.data.u6[cI][0]=c(a.data.u6[cI][0]);a.data.u6[cI][1]=c(a.data.u6[cI][1]);a.data.u6[cI][2]=c(a.data.u6[cI][2]);}a.wl=wl;if(a.data.u6.length){a.data.u7=c(a.data.u7);a.data.u8=c(a.data.u8);}}if(b.uu!==0){for(var cI=0;cI<a.data.u5.length;cI++){a.data.u5[cI]+=b.uu;}if(a.data.vw){for(var cI=0;cI<a.data.vw.u5.length;cI++){a.data.vw.u5[cI]+=b.uu;}}}var d=a.data.dW;if(d){var e=[];var f=[];var g=null;var h=null;var i=null;var j=tG.vc(d);var k=[];var l=[];if(a.data.vl){l=a.data.vl.concat();}var m=Math.floor((a.data.u5[0]/j)+1)*j;var n=a.data.u6[0][2];for(var cI=0;cI<a.data.u5.length;cI++){if(a.data.u5[cI+1]>m||(l.length&&(l[0]==(cI+1)))||(a.data.u5.length-1==cI)){e.push(m-j/2);var i=a.data.u6[cI][1];var o=i-n;if(o<0){var p=n/256/256;p=Math.round(p*1000)/1000;var q=p*256*256;o=(q-n)+(i);}f.push([o,o,o]);g=Math.min(tG.vn(g),o);h=Math.max(h,o);if(a.data.u6[cI+1]){n=i;var m=Math.floor((a.data.u5[cI+1]/j))*j;}m+=j;if(l.length&&(l[0]==(cI+1))){k.push(e.length);l.shift();}}}a.data.vl=k;if(e.length&&(e[0]<a.data.u5[0])){e[0]=a.data.u5[0];}if(e.length&&(e[e.length-1]>a.data.u5[a.data.u5.length-1])){e[e.length-1]=a.data.u5[a.data.u5.length-1];}a.data.u5=e;a.data.u6=f;a.data.u7=g;a.data.u8=h;}};tG.ui.prototype.vi=function(a,b,c,d,e){var f=this;if(this.wm){this.wm(true);}a.data.vk(d,b,c,function(){f.wh(a);e();});};tG.ui.prototype.wn=function(a,b,c,d,e,f,g){var h=this;if(a>=b){g();return;}if((this.um[a].u0)&&((c)||(d))){this.va(this.um[a],e,f,function(){h.wn(a+1,b,c,d,e,f,g);});}else{h.wn(a+1,b,c,d,e,f,g);}};tG.ui.prototype.wo=function(a,b){var c=this;var vm=null;var vo=null;var u7=null;var u8=null;var d=0;for(var BH=0;BH<this.um.length;BH++){if(!this.um[BH].u0){continue;}if(vm===null){vm=this.um[BH].data.vm;}if(vo===null){vo=this.um[BH].data.vo;}vm=Math.min(vm,this.um[BH].data.vm);vo=Math.max(vo,this.um[BH].data.vo);if(this.um[BH].wp>d){d=this.um[BH].wp;}}if(vm===null||vo===null){var e=new Date();vm=e.getTime()-2*60*1000;vo=e.getTime()+3*60*1000;}if(this.options.style.uD.t3.t4){vm+=this.uu;vo+=this.uu;}var f=(b)?(this.options.un.uM-d):vm;var g=(b)?(this.options.un.uN+d):vo;this.wn(0,this.um.length,a,b,f,g,function(){for(var BH=0;BH<c.um.length;BH++){if((c.um[BH].u0)&&v.D(c.um[BH].ef,c.uo.ef)){if(u7===null){u7=c.um[BH].data.u7;}if(u8===null){u8=c.um[BH].data.u8;}u7=Math.min(u7,c.um[BH].data.u7);u8=Math.max(u8,c.um[BH].data.u8);}}if((vm===null)||isNaN(vm)){var e=new Date();vm=e.getTime()-(2*60*1000);vo=e.getTime()+(3*60*1000);}if((u7===null)||isNaN(u7)){u7=0;u8=1;}var h=Math.abs((vo-vm)*0.02)||120000;var i=Math.abs((u8-u7)*0.05)||Math.abs(u8/20)||1;c.wq(u7-i,u8+i);c.uU(true);if(a){c.wr(vm-h,vo+h);c.uT();}c.uV(true);});};tG.ui.prototype.wr=function(a,b){if((b-a)===0){a-=1000;b+=1000;}this.options.un.uM=a;this.options.un.uN=b;};tG.ui.prototype.wq=function(a,b){if((b-a)===0){a-=0.5;b+=0.5;}this.options.un.uK=a;this.options.un.uL=b;};tG.ui.prototype.ws=function(a,b,c,d){var e=0;this.uq.font=b.font;var f=Math.abs(d)-(Math.abs(d)%a.i8);if(d<0){f*=-1;}var g=tG.t2(f,b,this.options.uG);var Fe=this.uq.measureText(g);if(Fe.width>e){e=Fe.width;}f=Math.abs(c)-(Math.abs(c)%a.i8);if(c<0){f*=-1;}g=tG.t2(f,b,this.options.uG);Fe=this.uq.measureText(g);if(Fe.width>e){e=Fe.width;}return e;};tG.ui.prototype.uT=function(){var vm=this.options.un.uM;var vo=this.options.un.uN;var a=tG.t8(vm,vo,this.wt,this.options.style.uD.t3.t4,0);this.options.style.uD.t5=a.i8;this.options.style.uD.ua=a.i9;this.options.style.uD.t3.nI=a.nI;};tG.ui.prototype.uU=function(a){var u7=this.options.un.uK;var u8=this.options.un.uL;var b=tG.t8(u7,u8,this.wu,this.options.style.uE.t3.t4,0);this.options.style.uE.t5=b.i8;this.options.style.uE.ua=b.i9;this.options.style.uE.t3.nI=b.nI;var c=this.options.uk.wv?0:this.ws(b,this.options.style.uE,u7,u8);this.options.style.ux=this.options.style.uy+c;this.ww=this.wu/(this.options.un.uL-this.options.un.uK);this.options.style.uz=this.options.style.uA;if(this.ut==null){return;}if(a){if(!this.ut.u3){var d=null;var e=null;for(var BH=0;BH<this.um.length;BH++){if((this.um[BH].u0)&&v.D(this.um[BH].ef,this.ut.ef)){d=Math.min(tG.vn(d),tG.vn(this.um[BH].data.u7));e=Math.max(tG.vp(e),tG.vp(this.um[BH].data.u8));}}if(d==e){d-=0.01;e+=0.01;}}else{for(var BH=0;BH<this.um.length;BH++){this.um[BH].wx=this.um[BH].data.u8;this.um[BH].wy=this.um[BH].data.u7;}var d=0;var e=1;}}else{var e=(u8-this.options.style.uF.bU)/this.options.style.uF.scale;var d=(u7-this.options.style.uF.bU)/this.options.style.uF.scale;}var f=Math.abs(e-d);var g=this.wu-(this.ww*this.options.style.uE.t5*2);if(g<=0){g=this.ww*this.options.style.uE.t5;}var b=tG.t8(d-(f/4),e+(f/4),g,this.options.style.uE.t3.t4,1);this.options.style.uF.t5=b.i8;this.options.style.uF.ua=b.i9;this.options.style.uF.t3.nI=b.nI;var h=tG.wz(this.options.un.uK,this.options.style.uE.t5);var i=tG.wz(d-(f/10),b.i8);if(a){var scale=this.options.style.uE.t5/b.i8;}else{var scale=this.options.style.uF.scale;}var bU=h-(scale*i);this.options.style.uF.scale=scale;this.options.style.uF.bU=bU;if((d*scale)+bU<(this.options.un.uK+(0.05*(this.options.un.uL-this.options.un.uK)))){this.options.style.uF.bU+=this.options.style.uE.t5;}var c=0;if(!this.ut.u3){var c=this.ws(b,this.options.style.uF,(this.options.un.uK-bU)/scale,(this.options.un.uL-bU)/scale);}this.options.style.uz=this.options.style.uA+c+14;};tG.ui.prototype.wA=function(a,b){if(!this.wB([a,b])){return {};}for(var BH=0;BH<this.um.length;BH++){var wM=this.um[BH];if(!wM.u0||(wM.wC==null)){continue;}for(var cI=0;cI<wM.wC.length;cI++){var c=((a-this.options.style.ux)/this.wD)+this.options.un.uM;if(c>=wM.wC[cI].ck&&c<=wM.wC[cI].wd){return {"chartIndex":cI,"span":wM.wC[cI]};}}}};tG.ui.prototype.wE=function(a,b){if(this.uo==null||!this.wB([a,b])){return {};}var c=a-this.options.style.ux;var d=this.wF-b;var e={};var f=80;for(var BH=0;BH<this.um.length;BH++){if(!this.um[BH].u0){continue;}var u5=this.um[BH].data.u5;var u6=this.um[BH].data.u6;var g=this.uo&&!v.D(this.um[BH].ef,this.uo.ef);var h=this.ut!=null&&this.ut.u3;var i=false;for(var cI=0;cI<u6.length;cI++){var j=u6[cI][0];var k=j;if(g&&h){var k=(this.um[BH].wx-this.um[BH].wy)?(Math.abs((j-this.um[BH].wy)/(this.um[BH].wx-this.um[BH].wy))):0;}if(g){var k=(this.options.style.uF.scale*k)+this.options.style.uF.bU;}var l=(u5[cI]-this.options.un.uM)*this.wD;var m=(k-this.options.un.uK)*this.ww;var n=((l-c)*(l-c))+((m-d)*(m-d));if(n<f){f=n;e._=u5[cI];e.wG=cI;e.wH=k;e.wI=j;i=true;}}if(i){var wl=this.um[BH].wl;if(g&&h){var o=(iP.iQ.hk["option"]["option"]._response=="SI");var wl=wJ.wK(this.um[BH].ef,e.wI,3,true,o,5);}else{var wl=e.wI.toPrecision(5)+" "+this.um[BH].wl;}e.wL=wl;e.wM=this.um[BH];var p="";if(this.options.style.uD.t3.t4){var q=new Date(e._);var r=new Date(this.options.un.uM);var s=new Date(this.options.un.uN);if(r.getUTCDate()!=s.getUTCDate()||r.getUTCMonth()!=s.getUTCMonth()||r.getUTCFullYear()!=s.getUTCFullYear()){p+=q.getUTCFullYear()+"/"+v.F(q.getUTCMonth()+1,2)+"/"+v.F(q.getUTCDate(),2);}if((s.getTime()-r.getTime())<(60000*30)){p+="  "+tG.t6(q,4,this.options.uG);}else if((s.getTime()-r.getTime())<(60000*60*24)){p+="  "+tG.t6(q,3,this.options.uG);}}else{var p=e._.toPrecision(5)+" "+e.wM.wN;}e.wN=p;}}if(e._==null){return {};}return e;};tG.ui.prototype.wO=function(a){var b=a/this.wD;var b1=this.options.un.uM+b;var c=this.options.un.uN+b;if(b1<this.uu){c+=this.uu-b1;b1=this.uu;}this.wr(b1,c);this.uV(true);};tG.ui.prototype.wP=function(a){var b=a/this.ww;var ck=this.options.un.uK+b;var end=this.options.un.uL+b;this.wq(ck,end);this.uV(true);};tG.ui.prototype.wQ=function(a,b){var c=this.wB([b,this.wR])?(b-this.options.style.ux)/this.wt:0.5;var b1;var d;var e=(this.options.un.uN-this.options.un.uM);if(a==-1){b1=this.options.un.uM+((e/4)*c);d=this.options.un.uN-((e/4)*(1-c));}else{b1=this.options.un.uM-(e/2)*c;d=this.options.un.uN+(e/2)*(1-c);}if(b1<this.uu){d+=(this.uu-b1);b1=this.uu;}if(this.up==="date"&&(d-b1)>2000000000000){return;}this.wr(b1,d);this.uT();this.uV(true);};tG.ui.prototype.wS=function(a){var b=this.wT(false);var b1;var c;if(a==-1){b1=this.options.un.uK+(b/4);c=this.options.un.uL-(b/4);}else{b1=this.options.un.uK-(b/2);c=this.options.un.uL+(b/2);}this.wq(b1,c);this.uU(false);this.uV(true);};tG.t6=function(a,b,c){var d="";var e="";var f=a.getUTCHours();if(!c){var d="AM";if(f>=12){d="PM";}if(f>12){f-=12;}if(f===0){f=12;}}e+=v.F(f,(!c)?2:1)+":"+v.F(a.getUTCMinutes(),2);if(b>2){e+=":"+v.F(a.getUTCSeconds(),2);}if(b>3){e+="."+v.F(a.getUTCMilliseconds(),3);}e+=d;return e;};tG.ui.prototype.wU=function(a){this.uV(true);this.uq.save();this.wV();if(a.wM){this.wW(a,a.wM.u_,a.wM.u_,"rgba(255,255,255,1)");}else{this.wW(a,"rgba(50,50,50,1)","rgba(250,250,150,1)","rgba(0,0,0,1)");}this.uq.restore();};tG.ui.prototype.wW=function(a,b,c,d){if(a==null||(a.wl==null&&a.wL==null)){return;}var e=((a._-this.options.un.uM)*this.wD)+this.options.style.ux;var f=this.wF-((a.wH-this.options.un.uK)*this.ww);if(a.wN!=null){var g=a.wN+", "+a.wL;}else{g=a.wl;}var h=this.uq;h.save();h.font=tG.tJ;var Fe=h.measureText(g);h.restore();var i=e+10;var j=i;var k=f-10-14;var l=14;if((e+10+Fe.width+6)>(this.vd-5)){i=e-16-Fe.width;j=i+Fe.width+6;}if(k<0){var k=f+10;l=0;}h.strokeStyle=b;h.fillStyle=c;h.fillRect(i,k,Fe.width+6,14);h.strokeRect(i,k,Fe.width+6,14);h.beginPath();h.moveTo(e,f);h.lineTo(j,k+l);h.stroke();var m={wX:"top",fill:d};tG.wY(h,g,i+3,k+2,tG.tJ,m);};tG.ui.prototype.uV=function(a){if(this.wZ){this.wZ(true);}this.uj();this.w_();if(this.vd==null||this.w$==null){return;}this.wD=this.wt/(this.options.un.uN-this.options.un.uM);var b=this.uq;b.save();this.wV();this.uq["lineJoin"]="round";this.w0();if(a){this.w1();}this.w2();this.w3();this.w4();b.fillStyle="rgba(255,255,255,1)";this.w5();this.w6();b.restore();};tG.ui.prototype.uj=function(){var a=this.uq;var b=window["devicePixelRatio"]||1;var c=a["webkitBackingStorePixelRatio"]||a["mozBackingStorePixelRatio"]||a["msBackingStorePixelRatio"]||a["oBackingStorePixelRatio"]||a["backingStorePixelRatio"]||1;var d=b/c;this.canvas.ul=d;return d;};tG.ui.prototype.w_=function(){this.vd=this.canvas.width/this.canvas.ul;this.w$=this.canvas.height/this.canvas.ul;this.w7=this.vd-this.options.style.uz;this.wF=this.w$-this.options.style.uC;this.wt=this.w7-this.options.style.ux;this.wu=this.wF-this.options.style.uB;this.w8=this.options.style.ux+(this.wt/2);this.wR=this.options.style.uB+(this.wu/2);};tG.ui.prototype.wV=function(){if(this.canvas.ul!==1){this.uq.scale(this.canvas.ul,this.canvas.ul);}};tG.ui.prototype.w0=function(){var a=this.uq;var w9=this.uq.createLinearGradient(50,50,this.vd,this.w$);if(this.options.style.w9){for(var cI=0;cI<this.options.style.w9.length;cI++){var b=this.options.style.w9[cI];w9.addColorStop(b.b3,b.color);}}else if(!this.options.style.xa){w9.addColorStop(0,"#ffffff");w9.addColorStop(1,"#e8e8f8");}if(!this.options.style.xa){a.fillStyle=w9;a.fillRect(0,0,this.vd,this.w$);}};tG.ui.prototype.xb=function(a){this.uq.beginPath();this.uq.moveTo(this.options.style.ux,a);this.uq.lineTo(this.w7,a);this.uq.stroke();};tG.ui.prototype.xc=function(a){this.uq.beginPath();this.uq.moveTo(a,this.options.style.uB);this.uq.lineTo(a,this.wF);this.uq.stroke();};tG.ui.prototype.w1=function(){var a=function(b,c){var d=this.uq;d.strokeStyle=c.ue;d.lineWidth=c.ub;if(b===0){if(c.ua*this.wD<=2||c.t5*this.wD<=2){return;}var e=tG.wz(this.options.un.uM,c.ua);var _=this.options.style.ux+((e-this.options.un.uM)*this.wD);var c5=c.ua*this.wD;for(_;_<=this.w7;_+=c5){this.xc(_);}}else{if(c.ua*this.ww<=2||c.t5*this.ww<=2){return;}var f=tG.wz(this.options.un.uK,c.ua);var aa=this.wF-((f-this.options.un.uK)*this.ww);var c5=c.ua*this.ww;for(aa;aa>=this.options.style.uB;aa-=c5){this.xb(aa);}}d.fillStyle=c.ug;d.lineWidth=c.uc;if(b===0){if(this.options.uk.xd){return;}var dn=this.options.style.ux;var e=tG.wz(this.options.un.uM,c.t5);dn+=(e-this.options.un.uM)*this.wD;var g=null;var h=1;while(dn<=this.w7){var i=tG.t2(e,c,this.options.uG);var Fe=d.measureText(i);if(!((g==null)||((g+10)<(dn-Fe.width/2)))){h=2;}g=dn+Fe.width/2;e+=c.t5;dn+=(c.t5*this.wD);}var dn=this.options.style.ux;var e=tG.wz(this.options.un.uM,c.t5);dn+=(e-this.options.un.uM)*this.wD;while(dn<=this.w7){d.beginPath();d.moveTo(dn,this.options.style.uB);d.lineTo(dn,this.wF+c.ud);d.stroke();var i=tG.t2(e,c,this.options.uG);var aa=this.wF+c.ud;tG.wY(d,i,dn,aa,c.font,{xe:"center",wX:"top"});dn+=(c.t5*h*this.wD);e+=(c.t5*h);}}else{if(this.options.uk.wv){return;}var dn=this.wF;var f=tG.wz(this.options.un.uK,c.t5);dn-=(f-this.options.un.uK)*this.ww;while(dn>=this.options.style.uB){d.beginPath();d.moveTo(this.options.style.ux-c.ud,dn);if(this.ut!=null){d.lineTo(this.w7+c.ud,dn);}else{d.lineTo(this.w7,dn);}d.stroke();var i=tG.t2(f,c,this.options.uG);var _=this.options.style.ux-c.ud-2;tG.wY(d,i,_,dn,c.font,{wX:"middle",xe:"right"});if(this.ut!=null&&!this.ut.u3){var value=(f-this.options.style.uF.bU)/this.options.style.uF.scale;var i=tG.t2(value,this.options.style.uF,this.options.uG);var _=this.w7+c.ud+2;tG.wY(d,i,_,dn,c.font,{wX:"middle"});}dn-=(c.t5*this.ww);f+=c.t5;}}}.bind(this);a(0,this.options.style.uD);a(1,this.options.style.uE);};tG.ui.prototype.w2=function(){var a=this.uq;a.strokeStyle=this.options.style.uw;a.lineWidth=this.options.style.uv;a.strokeRect(this.options.style.ux,this.options.style.uB,this.wt,this.wu);};tG.ui.prototype.w3=function(){var a=this.uq;if(this.options.uk.ui!=null){var fK=this.options.uk.ui;var _=this.vd/2;var aa=(this.options.style.uB/2)+3;var b={fill:"black",xe:"center"};tG.wY(a,fK,_,aa,tG.t$,b);}};tG.ui.prototype.w4=function(){if(this.options.uk.uH){this.xf();}if(this.options.uk.uI!=null){var a=16;var fK=this.options.uk.uI;this.xg(fK,a,this.wR);}if(this.options.uk.uJ!=null){var a=this.vd-4;var fK=this.options.uk.uJ;this.xg(fK,a,this.wR);}};tG.ui.prototype.xf=function(){var a=this.uq;var fK=this.options.uk.uH;if(this.options.style.uD.t3.t4){fK=this.xh(fK);}var font=this.options.style.xi||tG.t_;var _=this.w8;var aa=(this.w$-(this.options.style.uC/2))+14;var b={fill:"black",xe:"center"};tG.wY(a,fK,_,aa,font,b);};tG.ui.prototype.xg=function(a,b,c){var d=this.uq;var font=this.options.style.xj||tG.t_;var e={fill:"black",xe:"center",rotate:tG.tH+Math.PI};tG.wY(d,a,-c,b,font,e);};tG.ui.prototype.xh=function(a){var b=v.K();if(b>=0){var a="[UTC+"+b+"]";}else{var a="[UTC"+b+"]";}var c=this.options.style.uD.t5;if(c<60*1000){var d="  (";var e=new Date(this.options.un.uM);d+=(e.getUTCFullYear()+"/"+v.F((e.getUTCMonth()+1),2)+"/"+v.F(e.getUTCDate(),2)+" "+tG.t6(e,2,this.options.uG));var f=new Date(this.options.un.uN);if((e.getUTCDate()!=f.getUTCDate())||(e.getUTCMinutes()!=f.getUTCMinutes())){d+=(" - "+f.getUTCFullYear()+"/"+v.F((f.getUTCMonth()+1),2)+"/"+v.F(f.getUTCDate(),2)+" "+tG.t6(f,2,this.options.uG));}d+=")";a+=d;}else if(c<86400000){var d="  (";var e=new Date(this.options.un.uM);d+=(e.getUTCFullYear()+"/"+v.F((e.getUTCMonth()+1),2)+"/"+v.F(e.getUTCDate(),2));var f=new Date(this.options.un.uN);if(e.getUTCDate()!=f.getUTCDate()){d+=(" - "+f.getUTCFullYear()+"/"+v.F((f.getUTCMonth()+1),2)+"/"+v.F(f.getUTCDate(),2));}d+=")";a+=d;}return a;};tG.ui.prototype.w5=function(){var a=this.uq;for(var cI=0;cI<this.um.length;cI++){var b=this.um[cI];if(!b.u0||b.wC==null){continue;}for(var dz=0;dz<b.wC.length;dz++){var y5=b.wC[dz];var uM=(y5.ck-this.options.un.uM)*this.wD;var uN=(y5.wd-this.options.un.uM)*this.wD;var height=this.wT(true);a.save();a.translate(this.options.style.ux,height-this.options.style.uC);a.scale(1,-1);a.fillStyle=y5.color;a.globalAlpha=0.3;a.fillRect(uM,0,uN-uM,height);}}};tG.ui.prototype.w6=function(){var a=this.uq;var b=0;var c=(this.options.un.uN-this.options.un.uM);var d=c*this.wD;var e=this.wT(true);var f=Math.floor(c/(d/10));for(var BH=0;BH<this.um.length;BH++){var g=this.um[BH];if(!g.u0){continue;}var h=this.uo&&(!v.D(g.ef,this.uo.ef));var i=((this.ut!=null)&&(this.ut.u3));var u5=g.data.u5;var u6=g.data.u6;var j=g.data.bn;var wp=(g.wp!=null)?g.wp:f;var k=(u5&&u5.length)?u5[0]:this.options.un.uM-(wp*2);var l=wp?(Math.floor(k/wp)*wp):-9e+50;a.strokeStyle=g.u$;if(g.vf){a.lineWidth=3;}else{a.lineWidth=g.lineWidth;}var m=this.options.style.ux;var n=this.wF;a.save();tG.xk(a,m,n,d,e);if(g.vg){this.xl(g,d);}a.strokeStyle=g.u_;a.lineWidth=g.uQ;var o=[];if(g.data.vl){o=g.data.vl.concat();}var p=[[]];var q=false;var r=0;var s=0;var u7=null;var u8=null;for(var cI=0;cI<u6.length;cI++){var t=false;if(o.length&&(o[0]==(cI+1))){t=true;o.shift();}var u=u6[cI][0];var Iw=u6[cI][2];var Ix=u6[cI][1];if(h&&i){var Iy=g.wx-g.wy;u=Iy?(Math.abs((u-g.wy)/Iy)):0;Iw=Iy?(Math.abs((Iw-g.wy)/Iy)):0;Ix=Iy?(Math.abs((Ix-g.wy)/Iy)):0;}if(h){var u=(this.options.style.uF.scale*u)+this.options.style.uF.bU;var Iw=(this.options.style.uF.scale*Iw)+this.options.style.uF.bU;var Ix=(this.options.style.uF.scale*Ix)+this.options.style.uF.bU;}var Iz=(u5[cI]-this.options.un.uM)*this.wD;var IA=(u-this.options.un.uK)*this.ww;var IC=(Iw-this.options.un.uK)*this.ww;var ID=(Ix-this.options.un.uK)*this.ww;r+=IA;s++;if(g.vf||q){if(u7===null||IC<u7){u7=IC;}if(u8===null||ID>u8){u8=ID;}}if(u5[cI]>=l||(cI===(u6.length-1)||t||j)){l=wp?((Math.floor(u5[cI]/wp)*wp)+wp):-9e+50;if(g.vg){IA=r/s;var y_=new tG.xw(Iz,IA,{xx:g.uP});y_.xy(a);}p[p.length-1].push([Iz,IA]);if(g.vf){this.xz(Iz,IA,u7,u8,g.uP,g.uR);}s=0;r=0;u7=null;u8=null;q=true;}else{q=true;}if(t){p.push([]);}}a.strokeStyle=g.u$;this.xA(g,p);a.restore();var b=this.xB(g,b);}};tG.ui.prototype.xz=function(a,b,c,d,e,f){var g=this.uq;var h=g.globalAlpha;var i=g.lineWidth;g.lineWidth=f;g.globalAlpha=0.4;g.beginPath();g.moveTo(a,b+e);g.lineTo(a,d);g.stroke();g.beginPath();g.moveTo(a,b-e);g.lineTo(a,c);g.stroke();g.lineWidth=i;g.globalAlpha=h;};tG.ui.prototype.xB=function(a,b){if(!a.data.vw){return b;}var c=this.uq;c.lineWidth=2;if(a.data.vw){var d=a.data.vw;for(var cI=0;cI<d.u5.length;cI++){var e=(d.u5[cI]-this.options.un.uM)*this.wD;c.beginPath();c.moveTo(e,0);c.lineTo(e,this.wT(true));c.stroke();}}c.restore();c.lineWidth=2;c.save();this.wV();var d=a.data.vw;for(var cI=0;cI<d.u5.length;cI++){if((d.u5[cI]<this.options.un.uM)||(d.u5[cI]>this.options.un.uN)){continue;}var f=d.u6[cI][0];var g=this.wT(false);var h=(this.options.un.uK+(g*15/16))-(b*g/24);b++;if(b===4){b=0;}var i={_:d.u5[cI],wI:h,wH:h,wl:f,wM:a};c.save();this.wV();this.wW(i,a.u_,a.u_,"rgba(255,255,255,1)");c.restore();}c.restore();return b;};tG.ui.prototype.xl=function(a,b){if(!a.data.jN){return;}var c=this.uq;var xy=function(d){c.strokeStyle="#df0d0d";c.lineWidth=3;c.beginPath();var e=d;var f=0;if(c["setLineDash"]){f=15;c["setLineDash"]([20,15]);}c.moveTo(f,e);c.lineTo(b,e);c.stroke();if(c["setLineDash"]){c.strokeStyle=a.u_;c.lineWidth=3;c["setLineDash"]([15,20]);c.beginPath();c.moveTo(0,e);c.lineTo(b,e);c.stroke();c["setLineDash"]([]);}};var lJ=v.D(a.ef,this.uo.ef);var d=(lJ)?this.uo.wk:(this.ut!=null)?this.ut.wk:null;if(d){if(a.data.jN.dT!=null){var dT=d(a.data.jN.dT);}if(a.data.jN.dU!=null){var dU=d(a.data.jN.dU);}if(dT!=null){xy((dT-this.options.un.uK)*this.ww);}if(dU!=null){xy((dU-this.options.un.uK)*this.ww);}}};tG.ui.prototype.xA=function(a,b){if(!a.vh){return;}var c=this.uq;c.lineWidth=a.lineWidth;for(var cI=0;cI<b.length;cI++){var d=b[cI];if(!d.length){continue;}for(var dz=0;dz<d.length;dz++){d[dz][1]=tG.xC(d[dz][1],-10000,10000);}c.beginPath();c.moveTo(d[0][0],d[0][1]);for(var dz=1;dz<d.length;dz++){c.lineTo(d[dz][0],d[dz][1]);}c.stroke();}};tG.ui.prototype.wT=function(a){if(a===undefined||a===false){var scale=1;}else{var scale=this.ww;}return (this.options.un.uL-this.options.un.uK)*scale;};tG.ui.prototype.wB=function(a){return (!isNaN(a[0])&&!isNaN(a[1])&&a[0]>=this.options.style.ux&&a[0]<=this.w7&&a[1]>=this.options.style.uB&&a[1]<=this.wF);};tG.xk=function(a,b,c,d,e){a.translate(b,c);a.scale(1,-1);a.beginPath();a.moveTo(0,0);a.lineTo(d,0);a.lineTo(d,e);a.lineTo(0,e);a.lineTo(0,0);a.clip();};tG.xC=function(a,b,c){return Math.max(Math.min(a,c),b);};tG.vn=function(a){return isNaN(a)||a===null?Infinity:a;};tG.vp=function(a){return isNaN(a)||a===null?-Infinity:a;};tG.uX=function(){var a=tG.t0[this.ur++%18];var b="rgba("+a[0]+","+a[1]+","+a[2]+","+a[3]/256+")";return b;};tG.wz=function(a,b){if(a===0){return a;}else if(a<0){return a-(a%b);}else{return a-(a%b)+b;}};tG.wY=function(a,b,c,d,e,f){a.save();a.font=e;if(f.translate){a.translate(f.translate[0],f.translate[1]);}if(f.rotate){a.rotate(f.rotate);}if(f.fill){a.fillStyle=f.fill;}if(f.xe){a.textAlign=f.xe;}if(f.wX){a.xD=f.wX;}a.fillText(b,c,d,f.xE);a.restore();};tG.ui.prototype.xF=function(){var a=[];};tG.ui.prototype.xG=function(){var a=[];};tG.xw=function(a,b,c){this._=a;if(!Array.isArray(b)){b=[b,b,b];}this.aa=b[0];this.xH=b[0];this.xI=b[1];this.xJ=b[2];this.fY=c.xx;};tG.xw.prototype.xy=function(a){a.beginPath();a.arc(this._,this.aa,this.fY,0,tG.tI,0);a.stroke();};/* (C) 2021 Halo Automation Systems LLC; This software is proprietary and is NOT to be distributed or shared in any way.*/var vZ={};if(typeof require!="undefined"){}vZ.v4=function(a){var e2=vZ.v5(a);var b=[];for(var cI=0;cI<e2.length;cI++){if(e2[cI]==null){continue;}b.push({sH:e2[cI].sH,sF:e2[cI].sF,v6:e2[cI].v6});}return b;};vZ.v5=(function(){var a;var b;var c;var d;var CZ;var e={v7:true,"font-face":true,v9:true};var f={"arguments":true,wf:true,xm:true,constructor:true,"eval":true,prototype:true,xn:true,valueOf:true,xo:true};var g={xp:true,xq:true,xr:true,xs:false,css:false,ey:false,xt:false,xu:false,xv:true,xK:false,xL:true,xM:true,xN:true,xO:true,on:false,xP:true,xQ:true,xR:true,xS:true,xT:true,xU:true,xV:true,xW:true,b2:true,xX:true,xY:true,xZ:true};var xr={addEventListener:false,alert:false,blur:false,clearInterval:false,clearTimeout:false,close:false,x_:false,confirm:false,console:false,x$:false,x0:false,document:false,event:false,focus:false,eX:false,x1:false,x2:false,Image:false,length:false,location:false,x3:false,moveTo:false,name:false,navigator:false,onbeforeunload:true,onblur:true,onerror:true,onfocus:true,onload:true,onresize:true,x4:true,open:false,x5:false,opera:false,Option:false,parent:false,x6:false,x7:false,removeEventListener:false,x8:false,x9:false,ya:false,scroll:false,yb:false,yc:false,setInterval:false,setTimeout:false,status:false,top:false,XMLHttpRequest:false};var h={"\\b":"\\b","\t":"\t","\n":"\n","\\f":"\\f","\r":"\r","\\\"":"\\\\\"","/":"\\/","\\":"\\\\"};var CO;var i=["closure","exception","global","label","outer","unused","var"];var C1;var global;var j={yd:{},ye:{},yf:{},jg:{},yg:{},yh:{fZ:true,parent:" map "},yi:{},yj:{fZ:true,parent:" head "},yk:{},yl:{},ym:{},body:{parent:" html noframes "},yn:{fZ:true},yo:{},canvas:{parent:" body p div th td "},yp:{parent:" table "},yq:{},yr:{},ez:{},ys:{fZ:true,parent:" table colgroup "},yt:{parent:" table "},yu:{parent:" dl "},yv:{},yw:{},yx:{},yy:{},yz:{},yA:{parent:" dl "},yB:{},yC:{},yD:{},font:{},yE:{},frame:{fZ:true,parent:" frameset "},yF:{parent:" html frameset "},cA:{},eA:{},yG:{},yH:{},yI:{},yJ:{},yK:{parent:" html "},yL:{parent:"*"},yM:{fZ:true},cI:{},yN:{},yO:{fZ:true},yP:{fZ:true},yQ:{},yR:{},wl:{},yS:{parent:" fieldset "},yT:{parent:" dir menu ol ul "},hx:{fZ:true,parent:" head "},map:{},yU:{},yV:{fZ:true,parent:" head noframes noscript "},yW:{parent:" html body "},yX:{parent:" body head noframes "},hy:{},yY:{},yZ:{parent:" select "},hG:{parent:" optgroup select "},y_:{},y$:{fZ:true,parent:" applet object "},y0:{},y1:{},y2:{},y3:{fZ:true,parent:" body div frame head iframe p pre span "},select:{},y4:{},y5:{},y6:{},style:{parent:" head ",fZ:true},xX:{},y7:{},y8:{},y9:{parent:" table "},za:{parent:" tr "},zb:{},zc:{parent:" table "},zd:{parent:" tr "},ze:{parent:" table "},fK:{parent:" head "},zf:{parent:" table tbody thead tfoot "},zg:{},zh:{},zi:{},"var":{}};var k;var l;var m;var BO;var n;var bR;var CL;var Df;var o;var p;var q;var hG;var r;var s;var t;var xT={zp:false,zq:false,zr:false,zs:false,q6:false,zt:false,x6:false,zu:false,zv:false,zw:false,zx:false,zy:false,zz:false,zA:false,zB:false,zC:false,jb:false};var sQ;var xW={zD:false};var src;var stack;var u={Array:false,Boolean:false,Date:false,decodeURI:false,decodeURIComponent:false,encodeURI:false,encodeURIComponent:false,Error:false,"eval":false,EvalError:false,Function:false,hasOwnProperty:false,isFinite:false,isNaN:false,JSON:false,Math:false,Number:false,Object:false,parseInt:false,parseFloat:false,RangeError:false,zF:false,RegExp:false,String:false,SyntaxError:false,TypeError:false,URIError:false};var Iw={zH:true,zI:true,zJ:true,zK:true,zL:true,PI:true,zM:true,zN:true,MAX_VALUE:true,MIN_VALUE:true,NEGATIVE_INFINITY:true,POSITIVE_INFINITY:true};var Ix={};var Iy;var BA;var Dc;var Iz;var xZ={alert:true,zT:true,zU:true,zV:true,zW:true,zX:true,zY:true,zZ:true,z_:true,z$:true,z0:true,z1:true,z2:true,z3:true,escape:true,z4:true,z5:true,z6:true,z7:true,yE:true,z8:true,z9:true,Aa:true,Image:true,Ab:true,Ac:true,Ad:true,Ae:true,log:true,Af:true,Ag:true,Ah:true,Ai:true,Aj:true,xw:true,Ak:true,Al:true,Am:true,x6:true,x7:true,random:true,An:true,Ao:true,Ap:true,Aq:true,Ar:true,As:true,zx:true,At:true,Au:true,Av:true,ya:true,Aw:true,Ax:true,sleep:true,Ay:true,Az:true,AA:true,jS:true,AB:true,AC:true,AD:true,AE:true,unescape:true,AF:true,URL:true,AG:true,xZ:true,AH:true,AI:true,XMLHttpRequest:true,AJ:true,AK:true,AL:true};var IA;var IC;var ID=/@cc|<\/?|script|\]*s\]|<\s*!|&lt/i;var IE=/[\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/;var IF=/^\s*([(){}\[.,:;'"~\?\]#@]|==?=?|\/(\*(jslint|members?|global)?|=|\/)?|\*[\/=]?|\+[+=]?|-[\-=]?|%=?|&[&=]?|\|[|=]?|>>?>?=?|<([\/=!]|\!(\[|--)?|<=?)?|\^=?|\!=?=?|[a-zA-Z_$][a-zA-Z0-9_$]*|[0-9]+([xX][0-9a-fA-F]+|\.[0-9]*)?([eE][+\-]?[0-9]+)?)/;var IG=/^\s*(['"=>\/&#]|<(?:\/|\!(?:--)?)?|[a-zA-Z][a-zA-Z0-9_\-]*|[0-9]+|--|.)/;var IH=/[\u0000-\u001f&<"\/\\\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/;var II=/[\u0000-\u001f&<"\/\\\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;var IJ=/[>&]|<[\/!]?|--/;var IK=/\*\/|\/\*/;var IL=/^([a-zA-Z_$][a-zA-Z0-9_$]*)$/;var IM=/^(?:javascript|jscript|ecmascript|vbscript|mocha|livescript)\s*:/i;var IN=/&|\+|\u00AD|\.\.|\/\*|%[^;]|base64|url|expression|data|mailto/i;var IO=/^\s*([{:#%.=,>+\[\]@()"';]|\*=?|\$=|\|=|\^=|~=|[a-zA-Z_][a-zA-Z0-9_\-]*|[0-9]+|<\/|\/\*)/;var IP=/^\s*([@#!"'};:\-%.=,+\[\]()*_]|[a-zA-Z][a-zA-Z0-9._\-]*|\/\*?|\d+(?:\.\d+)?|<\/)/;var IQ=/[^a-zA-Z0-9-_\/ ]/;var IR=/[\[\]\/\\"'*<>.&:(){}+=#]/;var IS={A2:IG,yL:IG,style:IO,A3:IP};function IT(){}if(typeof Object.A5!=="function"){Object.A5=function(JK){IT.prototype=JK;return new IT();};}function JK(JL,JM){return Object.prototype.hasOwnProperty.call(JL,JM);}function JL(JM,JN){var JO;for(JO in JN){if(JK(JN,JO)){JM[JO]=JN[JO];}}}String.prototype.A8=function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");};String.prototype.A9=function(){return (this>="a"&&this<="z\u0000S\u0000\u0000\u0000R\u0000\u0000\u0000R\u0000\u0000")||(this>="A"&&this<="Z\u0000S\u0000\u0000\u0000R\u0000\u0000\u0000R\u0000\u0000");};String.prototype.Ba=function(){return (this>="0"&&this<="9");};String.prototype.Bb=function(JM){return this.replace(/\{([^{}]*)\}/g,function(JN,JO){var v0=JM[JO];return typeof v0==="string"||typeof v0==="number"?v0:JN;});};String.prototype.name=function(){if(IL.test(this)){return this;}if(IH.test(this)){return "\\\""+this.replace(II,function(JM){var Bp=h[JM];if(Bp){return Bp;}return "\u0000"+("0000"+JM.charCodeAt().toString(16)).slice(-4);})+"\\\"";}return "\\\""+this+"\\\"";};function JM(){if(!hG.xV){if(hG.xT){JL(r,xT);}if(hG.xr||hG.xW){JL(r,xr);}if(hG.xW){JL(r,xW);}if(hG.xZ){JL(r,xZ);}}}function zu(JN,JO,JP){throw {name:"JSLintError",sF:JO,v6:JP,message:JN+" ("+Math.floor((JO/bR.length)*100)+"% scanned)."};}function JN(JO,JP,JQ,JR,JS,JT){var JU;var JV;var JW;JP=JP||p;if(JP.id==="(end)"){JP=BA;}JV=JP.sF||0;JU=JP.gt||0;JW={id:"(error)",Bn:JO,Bo:bR[JV-1]||"",sF:JV,v6:JU,yd:JQ,yi:JR,Bp:JS,Bq:JT};JW.sH=JO.Bb(JW);vZ.v5.e2.push(JW);if(hG.xQ){zu("Stopping. ",JV,JU);}Iz+=1;if(Iz>=hG.Br){}return JW;}function JO(JP,JQ,JR,JS,JT,JU,JV){return JN(JP,{sF:JQ,gt:JR},JS,JT,JU,JV);}function jN(JP,JQ,JR,JS,JT,JU){var JV=JN(JP,JQ,JR,JS,JT,JU);zu("Stopping, unable to continue.",JV.sF,JV.v6);}function JP(JQ,JR,JS,JT,JU,JV,JW){return jN(JQ,{sF:JR,gt:JS},JT,JU,JV,JW);}var JQ=(function JQ(){var v6;var gt;var sF;var JR;function JS(){var JT;if(sF>=bR.length){return false;}v6=1;JR=bR[sF].replace(/\t/g,Iy);sF+=1;JT=JR.search(IE);if(JT>=0){JO("Unsafe character.",sF,JT);}return true;}function JT(JU,JV){var cI;var CB;if(JU==="(color)"){CB={type:JU};}else if(JU==="(punctuator)"||(JU==="(identifier)"&&JK(Ix,JV))){CB=Ix[JV]||Ix["(error)"];}else{CB=Ix[JU];}CB=Object.A5(CB);if(JU==="(string)"||JU==="(range)"){if(IM.test(JV)){JO("Script URL.",sF,gt);}}if(JU==="(identifier)"){CB.sO=true;if(hG.xO&&JV.charAt(0)==="_"){JO("Unexpected '_' in '{a}'.",sF,gt,JV);}}CB.value=JV;CB.sF=sF;CB.v6=v6;CB.gt=gt;cI=CB.id;if(cI!=="(endline)"){s=cI&&(("(,=:[!&|?{};".indexOf(cI.charAt(cI.length-1))>=0)||cI==="return");}return CB;}return {uh:function(JU){if(typeof JU==="string"){bR=JU.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n");}else{bR=JU;}sF=0;JS();gt=1;},Bz:function(JU,JV){var Bp;var value="";gt=v6;if(JR.charAt(0)!==JU){JP("Expected '{a}' and instead saw '{b}'.",sF,v6,JU,JR.charAt(0));}for(;;){JR=JR.slice(1);v6+=1;Bp=JR.charAt(0);switch(Bp){case "":JP("Missing '{a}'.",sF,v6,Bp);break;case JV:JR=JR.slice(1);v6+=1;return JT("(range)",value);case IC:case "\\":JO("Unexpected '{a}'.",sF,v6,Bp);}value+=Bp;}},BA:function(){var yi;var Bp;var JU;var Bq;var JV;var dU;var cI;var JW;var dT;var y1;var CB;function match(JX){var v0=JX.exec(JR);var JY;if(v0){JW=v0[0].length;JY=v0[1];Bp=JY.charAt(0);JR=JR.substr(JW);gt=v6+JW-JY.length;v6+=JW;return JY;}}function r3(JX){var Bp;var dz;var v0="";if(n&&JX!=="\\\""){JO("Strings must use doublequote.",sF,v6);}if(IC===JX||(IA==="scriptstring"&&!IC)){return JT("(punctuator)",JX);}function JY(JZ){var cI=parseInt(JR.substr(dz+1,JZ),16);dz+=JZ;if(cI>=32&&cI<=126&&cI!==34&&cI!==92&&cI!==39){JO("Unnecessary escapement.",sF,v6);}v6+=JZ;Bp=String.fromCharCode(cI);}dz=0;for(;;){while(dz>=JR.length){dz=0;if(IA!=="html"||!JS()){JP("Unclosed string.",sF,gt);}}Bp=JR.charAt(dz);if(Bp===JX){v6+=1;JR=JR.substr(dz+1);return JT("(string)",v0,JX);}if(Bp<" "){if(Bp==="\n"||Bp==="\r"){break;}JO("Control character in string: {a}.",sF,v6+dz,JR.slice(0,dz));}else if(Bp===IC){JO("Bad HTML string",sF,v6+dz);}else if(Bp==="<"){if(hG.xV&&IA==="html"){JO("ADsafe string violation.",sF,v6+dz);}else if(JR.charAt(dz+1)==="/"&&(IA||hG.xV)){JO("Expected '<\\/' and instead saw '</'.",sF,v6);}else if(JR.charAt(dz+1)==="!"&&(IA||hG.xV)){JO("Unexpected '<!' in a string.",sF,v6);}}else if(Bp==="\\"){if(IA==="html"){if(hG.xV){JO("ADsafe string violation.",sF,v6+dz);}}else if(IA==="styleproperty"){dz+=1;v6+=1;Bp=JR.charAt(dz);if(Bp!==JX){JO("Escapement in style string.",sF,v6+dz);}}else{dz+=1;v6+=1;Bp=JR.charAt(dz);switch(Bp){case IC:JO("Bad HTML string",sF,v6+dz);break;case "\\":case "'":case "\\\"":case "/":break;case "b":Bp="\\b";break;case "f":Bp="\\f";break;case "n":Bp="\n";break;case "r":Bp="\r";break;case "t":Bp="\t";break;case "u":JY(4);break;case "v":Bp="\\v";break;case "x":if(n){JO("Avoid \\x-.",sF,v6);}JY(2);break;default:JO("Bad escapement.",sF,v6);}}}v0+=Bp;v6+=1;dz+=1;}}for(;;){if(!JR){return JT(JS()?"(endline)":"(end)","");}while(IA==="outer"){cI=JR.search(IJ);if(cI===0){break;}else if(cI>0){v6+=1;JR=JR.slice(cI);break;}else{if(!JS()){return JT("(end)","");}}}CB=match(IS[IA]||IF);if(!CB){if(IA==="html"){return JT("(error)",JR.charAt(0));}else{CB="";Bp="";while(JR&&JR<"!"){JR=JR.substr(1);}if(JR){JR=JR.substr(1);}}}else{if(Bp.A9()||Bp==="_"||Bp==="$"){return JT("(identifier)",CB);}if(Bp.Ba()){if(IA!=="style"&&!isFinite(Number(CB))){JO("Bad number '{a}'.",sF,v6,CB);}if(IA!=="style"&&IA!=="styleproperty"&&JR.substr(0,1).A9()){JO("Missing space after '{a}'.",sF,v6,CB);}if(Bp==="0"){Bq=CB.substr(1,1);if(Bq.Ba()){if(BA.id!=="."&&IA!=="styleproperty"){JO("Don't use extra leading zeros '{a}'.",sF,v6,CB);}}else if(n&&(Bq==="x"||Bq==="X")){JO("Avoid 0x-. '{a}'.",sF,v6,CB);}}if(CB.substr(CB.length-1)==="."){JO("A trailing decimal point can be confused with a dot '{a}'.",sF,v6,CB);}return JT("(number)",CB);}switch(CB){case "\\\"":case "'":return r3(CB);case "//":if(src||(IA&&IA!=="script")){JO("Unexpected comment.",sF,v6);}else if(IA==="script"&&(/<\s*\//i).test(JR)){JO("Unexpected </ in comment.",sF,v6);}else if((hG.xV||IA==="script")&&ID.test(JR)){JO("Dangerous comment.",sF,v6);}JR="";BA.BF=true;break;case "/*":if(src||(IA&&IA!=="script"&&IA!=="style"&&IA!=="styleproperty")){JO("Unexpected comment.",sF,v6);}if(hG.xV&&ID.test(JR)){JO("ADsafe comment violation.",sF,v6);}for(;;){cI=JR.search(IK);if(cI>=0){break;}if(!JS()){JP("Unclosed comment.",sF,v6);}else{if(hG.xV&&ID.test(JR)){JO("ADsafe comment violation.",sF,v6);}}}v6+=cI+2;if(JR.substr(cI,1)==="/"){JP("Nested comment.",sF,v6);}JR=JR.substr(cI+2);BA.BF=true;break;case "/*members":case "/*member":case "/*jslint":case "/*global":case "*/":return {value:CB,type:"special",sF:sF,v6:v6,gt:gt};case "":break;case "/":if(s){JV=0;JU=0;JW=0;for(;;){yi=true;Bp=JR.charAt(JW);JW+=1;switch(Bp){case "":JP("Unclosed regular expression.",sF,gt);return;case "/":if(JV>0){JO("Unescaped '{a}'.",sF,gt+JW,"/");}Bp=JR.substr(0,JW-1);y1={BG:true,cI:true,BH:true};while(y1[JR.charAt(JW)]===true){y1[JR.charAt(JW)]=false;JW+=1;}v6+=JW;JR=JR.substr(JW);return JT("(regexp)",Bp);case "\\":Bp=JR.charAt(JW);if(Bp<" "){JO("Unexpected control character in regular expression.",sF,gt+JW);}else if(Bp==="<"){JO("Unexpected escaped character '{a}' in regular expression.",sF,gt+JW,Bp);}JW+=1;break;case "(":JV+=1;yi=false;if(JR.charAt(JW)==="?"){JW+=1;switch(JR.charAt(JW)){case ":":case "=":case "!":JW+=1;break;default:JO("Expected '{a}' and instead saw '{b}'.",sF,gt+JW,":",JR.charAt(JW));}}else{JU+=1;}break;case "|":yi=false;break;case ")":if(JV===0){JO("Unescaped '{a}'.",sF,gt+JW,")");}else{JV-=1;}break;case " ":y1=1;while(JR.charAt(JW)===" "){JW+=1;y1+=1;}if(y1>1){JO("Spaces are hard to count. Use {{a}}.",sF,gt+JW,y1);}break;case "[":Bp=JR.charAt(JW);if(Bp==="^"){JW+=1;}y1=false;if(Bp==="]"){JO("Empty class.",sF,gt+JW-1);y1=true;}klass:do{Bp=JR.charAt(JW);JW+=1;switch(Bp){case "[":case "^":JO("Unescaped '{a}'.",sF,gt+JW,Bp);y1=true;break;case "-":if(y1){y1=false;}else{JO("Unescaped '{a}'.",sF,gt+JW,"-");y1=true;}break;case "]":if(!y1){JO("Unescaped '{a}'.",sF,gt+JW-1,"-");}break klass;case "\\":Bp=JR.charAt(JW);if(Bp<" "){JO("Unexpected control character in regular expression.",sF,gt+JW);}else if(Bp==="<"){JO("Unexpected escaped character '{a}' in regular expression.",sF,gt+JW,Bp);}JW+=1;y1=true;break;case "/":JO("Unescaped '{a}'.",sF,gt+JW-1,"/");y1=true;break;case "<":if(IA==="script"){Bp=JR.charAt(JW);if(Bp==="!"||Bp==="/"){JO("HTML confusion in regular expression '<{a}'.",sF,gt+JW,Bp);}}y1=true;break;default:y1=true;}}while(Bp);break;case ".":if(hG.xS){JO("Unexpected '{a}'.",sF,gt+JW,Bp);}break;case "]":case "?":case "{":case "}":case "+":case "*":JO("Unescaped '{a}'.",sF,gt+JW,Bp);break;case "<":if(IA==="script"){Bp=JR.charAt(JW);if(Bp==="!"||Bp==="/"){JO("HTML confusion in regular expression '<{a}'.",sF,gt+JW,Bp);}}}if(yi){switch(JR.charAt(JW)){case "?":case "+":case "*":JW+=1;if(JR.charAt(JW)==="?"){JW+=1;}break;case "{":JW+=1;Bp=JR.charAt(JW);if(Bp<"0"||Bp>"9"){JO("Expected a number and instead saw '{a}'.",sF,gt+JW,Bp);}JW+=1;dT=+Bp;for(;;){Bp=JR.charAt(JW);if(Bp<"0"||Bp>"9"){break;}JW+=1;dT=+Bp+(dT*10);}dU=dT;if(Bp===","){JW+=1;dU=Infinity;Bp=JR.charAt(JW);if(Bp>="0"&&Bp<="9"){JW+=1;dU=+Bp;for(;;){Bp=JR.charAt(JW);if(Bp<"0"||Bp>"9"){break;}JW+=1;dU=+Bp+(dU*10);}}}if(JR.charAt(JW)!=="}"){JO("Expected '{a}' and instead saw '{b}'.",sF,gt+JW,"}",Bp);}else{JW+=1;}if(JR.charAt(JW)==="?"){JW+=1;}if(dT>dU){JO("'{a}' should not be greater than '{b}'.",sF,gt+JW,dT,dU);}}}}Bp=JR.substr(0,JW-1);v6+=JW;JR=JR.substr(JW);return JT("(regexp)",Bp);}return JT("(punctuator)",CB);case "<!--":JW=sF;Bp=v6;for(;;){cI=JR.indexOf("--");if(cI>=0){break;}cI=JR.indexOf("<!");if(cI>=0){JP("Nested HTML comment.",sF,v6+cI);}if(!JS()){JP("Unclosed HTML comment.",JW,Bp);}}JW=JR.indexOf("<!");if(JW>=0&&JW<cI){JP("Nested HTML comment.",sF,v6+JW);}v6+=cI;if(JR[cI+2]!==">"){JP("Expected -->.",sF,v6);}v6+=3;JR=JR.slice(cI+3);break;case "#":if(IA==="html"||IA==="styleproperty"){for(;;){Bp=JR.charAt(0);if((Bp<"0"||Bp>"9")&&(Bp<"a"||Bp>"f")&&(Bp<"A"||Bp>"F")){break;}v6+=1;JR=JR.substr(1);CB+=Bp;}if(CB.length!==4&&CB.length!==7){JO("Bad hex color '{a}'.",sF,gt+JW,CB);}return JT("(color)",CB);}return JT("(punctuator)",CB);default:if(IA==="outer"&&Bp==="&"){v6+=1;JR=JR.substr(1);for(;;){Bp=JR.charAt(0);v6+=1;JR=JR.substr(1);if(Bp===";"){break;}if(!((Bp>="0"&&Bp<="9")||(Bp>="a"&&Bp<="z")||Bp==="#")){JP("Bad entity",sF,gt+JW,v6);}}break;}return JT("(punctuator)",CB);}}}}};}());function JR(JS,JT){if(hG.xV&&CO["(global)"]&&typeof r[JS]!=="boolean"){JN("ADsafe global: "+JS+".",BA);}else if(JS==="hasOwnProperty"){JN("'hasOwnProperty' is a really bad name.");}if(JK(CO,JS)&&!CO["(global)"]){JN(CO[JS]===true?"'{a}' was used before it was defined.":"'{a}' is already defined.",p,JS);}CO[JS]=JT;if(CO["(global)"]){global[JS]=CO;if(JK(l,JS)){JN("'{a}' was used before it was defined.",p,JS);delete l[JS];}}else{sQ[JS]=CO;}}function JS(){var yi;var JT;var filter;var JU=p.value;var CB;var JV;switch(JU){case "*/":jN("Unbegun comment.");break;case "/*members":case "/*member":JU="/*members";if(!o){o={};}JT=o;break;case "/*jslint":if(hG.xV){JN("ADsafe restriction.");}JT=hG;filter=g;break;case "/*global":if(hG.xV){JN("ADsafe restriction.");}JT=r;break;default:}CB=JQ.BA();loop:for(;;){for(;;){if(CB.type==="special"&&CB.value==="*/"){break loop;}if(CB.id!=="(endline)"&&CB.id!==","){break;}CB=JQ.BA();}if(CB.type!=="(string)"&&CB.type!=="(identifier)"&&JU!=="/*members"){jN("Bad option.",CB);}JV=JQ.BA();if(JV.id===":"){JV=JQ.BA();if(JT===o){jN("Expected '{a}' and instead saw '{b}'.",CB,"*/",":");}if(CB.value==="indent"&&JU==="/*jslint"){yi=+JV.value;if(typeof yi!=="number"||!isFinite(yi)||yi<=0||Math.floor(yi)!==yi){jN("Expected a small integer and instead saw '{a}'.",JV,JV.value);}JT.xY=true;JT.BO=yi;}else if(CB.value==="maxerr"&&JU==="/*jslint"){yi=+JV.value;if(typeof yi!=="number"||!isFinite(yi)||yi<=0||Math.floor(yi)!==yi){jN("Expected a small integer and instead saw '{a}'.",JV,JV.value);}JT.Br=yi;}else if(JV.value==="true"){JT[CB.value]=true;}else if(JV.value==="false"){JT[CB.value]=false;}else{jN("Bad option value.",JV);}CB=JQ.BA();}else{if(JU==="/*jslint"){jN("Missing option value.",CB);}JT[CB.value]=false;CB=JV;}}if(filter){JM();}}function CT(JT){var cI=JT||0;var dz=0;var CB;while(dz<=cI){CB=CL[dz];if(!CB){CB=CL[dz]=JQ.BA();}dz+=1;}return CB;}function JT(JU,JV){switch(BA.id){case "(number)":if(p.id==="."){JN("A dot following a number can be confused with a decimal point.",BA);}break;case "-":if(p.id==="-"||p.id==="--"){JN("Confusing minusses.");}break;case "+":if(p.id==="+"||p.id==="++"){JN("Confusing plusses.");}break;}if(BA.type&&(BA.type==="(string)"||BA.sO)){d=BA.value;}if(JU&&p.id!==JU){if(JV){if(p.id==="(end)"){JN("Unmatched '{a}'.",JV,JV.id);}else{JN("Expected '{a}' to match '{b}' from line {c} and instead saw '{d}'.",p,JU,JV.id,JV.sF,p.value);}}else if(p.type!=="(identifier)"||p.value!==JU){JN("Expected '{a}' and instead saw '{b}'.",p,JU,p.value);}}t=BA;BA=p;for(;;){p=CL.shift()||JQ.BA();if(p.id&&(p.id==="(end)"||p.id==="(error)")){return;}if(p.type&&(p.type==="special")){JS();}else{if((p.id==null)||(p.id!=="(endline)")){break;}}}}function parse(JU,JV){var left;if(p.id&&(p.id==="(end)")){jN("Unexpected early end of program.",BA);}JT();if(hG.xV&&typeof r[BA.value]==="boolean"&&(p.id!=="("&&p.id!==".")){JN("ADsafe violation.",BA);}if(JV){d="anonymous";CO["(verb)"]=BA.value;}if(JV===true&&BA.BT){left=BA.BT();}else{if(BA.BU){left=BA.BU();}else{if(p.type==="(number)"&&BA.id==="."){JN("A leading decimal point can be confused with a dot: '.{a}'.",BA,p.value);JT();return BA;}else{jN("Expected an identifier and instead saw '{a}'.",BA,BA.id);}}while(JU<p.BV){JT();if(BA.BW){left=BA.BW(left);}else{jN("Expected an operator and instead saw '{a}'.",BA,BA.id);}}}return left;}function JU(JV,JW){JV=JV||BA;JW=JW||p;if(hG.xY||IA==="styleproperty"||IA==="style"){if(JV.v6!==JW.gt&&JV.sF===JW.sF){JN("Unexpected space after '{a}'.",JW,JV.value);}}}function JV(JW,JX){JW=JW||BA;JX=JX||p;if(hG.xY&&!JW.BF){if(JW.sF===JX.sF){JU(JW,JX);}}}function JW(JX,JY){if(hG.xY){JX=JX||BA;JY=JY||p;if(JX.v6===JY.gt){JN("Missing space after '{a}'.",p,JX.value);}}}function JX(JY,JZ){JY=JY||BA;JZ=JZ||p;if(!hG.xM&&JY.sF!==JZ.sF){JN("Bad line breaking before '{a}'.",JZ,JZ.id);}else if(hG.xY){JY=JY||BA;JZ=JZ||p;if(JY.v6===JZ.gt){JN("Missing space after '{a}'.",p,JY.value);}}}function JY(JZ){var cI;if(hG.xY&&p.id!=="(end)"){cI=BO+(JZ||0);if(p.gt!==cI){JN("Expected '{a}' to have an indentation at {b} instead at {c}.",p,p.value,cI,p.gt);}}}function JZ(J_){J_=J_||BA;if(J_.sF!==p.sF){JN("Line breaking error '{a}'.",J_,J_.value);}}function J_(){if(BA.sF!==p.sF){if(!hG.xM){JN("Bad line breaking before '{a}'.",BA,p.id);}}else if(BA.v6!==p.gt&&hG.xY){JN("Unexpected space after '{a}'.",p,BA.value);}JT(",");JW(BA,p);}function J$(J0,J1){var _=Ix[J0];if(!_||typeof _!=="object"){Ix[J0]=_={id:J0,BV:J1,value:J0};}return _;}function J0(J1){return J$(J1,0);}function J1(J2,J3){var _=J0(J2);_.sO=_.B7=true;_.BT=J3;return _;}function J2(J3,J4){var _=J1(J3,J4);_.Cb=true;return _;}function J3(J4){var Bp=J4.id.charAt(0);if((Bp>="a"&&Bp<="z")||(Bp>="A"&&Bp<="Z")){J4.sO=J4.B7=true;}return J4;}function J4(J5,J6){var _=J$(J5,150);J3(_);_.BU=(typeof J6==="function")?J6:function(){this.Cg=parse(150);this.Ch="unary";if(this.id==="++"||this.id==="--"){if(hG.xR){JN("Unexpected use of '{a}'.",this,this.id);}else if((!this.Cg.sO||this.Cg.B7)&&this.Cg.id!=="."&&this.Cg.id!=="["){JN("Bad operand.",this);}}return this;};return _;}function type(J5,J6){var _=J0(J5);_.type=J5;_.BU=J6;return _;}function J5(J6,J7){var _=type(J6,J7);_.sO=_.B7=true;return _;}function J6(J7,J8){return J5(J7,function(){if(hG.xV&&(this.id==="this"||this.id==="arguments")){JN("ADsafe violation.",this);}return this;});}function J7(J8,J9,Ka,Kb){var _=J$(J8,Ka);J3(_);_.BW=function(Kc){if(!Kb){JX(t,BA);JW(BA,p);}if(typeof J9==="function"){return J9(Kc,this);}else{this.left=Kc;this.Cg=parse(Ka);return this;}};return _;}function J8(J9,Ka){var _=J$(J9,100);_.BW=function(Kb){JX(t,BA);JW(BA,p);var Cg=parse(100);if((Kb&&Kb.id==="NaN")||(Cg&&Cg.id==="NaN")){JN("Use the isNaN function to compare with NaN.",this);}else if(Ka){Ka.apply(this,[Kb,Cg]);}this.left=Kb;this.Cg=Cg;return this;};return _;}function J9(Ka){return (Ka.type==="(number)"&&!+Ka.value)||(Ka.type==="(string)"&&!Ka.value)||Ka.type==="true"||Ka.type==="false"||Ka.type==="undefined";}function Ka(Kb,Kc){J$(Kb,20).Cq=true;return J7(Kb,function(Kd,Ke){var Kf;Ke.left=Kd;if(r[Kd.value]&&(r[Kd.value]===false&&sQ[Kd.value]["(global)"]===true)){JN("Read only.",Kd);}if(hG.xV){Kf=Kd;do{if(typeof r[Kf.value]==="boolean"){JN("ADsafe violation.",Kf);}Kf=Kf.left;}while(Kf);}if(Kd){if(Kd.id==="."||Kd.id==="["){if(Kd.left.value==="arguments"){JN("Bad assignment.",Ke);}Ke.Cg=parse(19);return Ke;}else if(Kd.sO&&!Kd.B7){if(CO[Kd.value]==="exception"){JN("Do not assign to the exception parameter.",Kd);}Ke.Cg=parse(19);return Ke;}if(Kd===Ix["function"]){JN("Expected an identifier in an assignment and instead saw a function invocation.",BA);}}jN("Bad assignment.",Ke);},20);}function xq(Kb,Kc,Kd){var _=J$(Kb,Kd);J3(_);_.BW=(typeof Kc==="function")?Kc:function(Ke){if(hG.xq){JN("Unexpected use of '{a}'.",this,this.id);}this.left=Ke;this.Cg=parse(Kd);return this;};return _;}function Kb(Kc){J$(Kc,20).Cq=true;return J7(Kc,function(Kd,Ke){if(hG.xq){JN("Unexpected use of '{a}'.",Ke,Ke.id);}JW(t,BA);JW(BA,p);if(Kd){if(Kd.id==="."||Kd.id==="["||(Kd.sO&&!Kd.B7)){parse(19);return Ke;}if(Kd===Ix["function"]){JN("Expected an identifier in an assignment, and instead saw a function invocation.",BA);}return Ke;}jN("Bad assignment.",Ke);},20);}function Kc(Kd,Ke){var _=J$(Kd,150);_.BW=function(Kf){if(hG.xR){JN("Unexpected use of '{a}'.",this,this.id);}else if((!Kf.sO||Kf.B7)&&Kf.id!=="."&&Kf.id!=="["){JN("Bad operand.",this);}this.left=Kf;return this;};return _;}function Kd(){if(p.B7){JN("Expected an identifier and instead saw '{a}' (a reserved word).",p,p.id);}if(p.sO){JT();return BA.value;}}function sO(){var cI=Kd();if(cI){return cI;}if(BA.id==="function"&&p.id==="("){JN("Missing name in function statement.");}else{jN("Expected an identifier and instead saw '{a}'.",p,p.value);}}function JA(Ke){var cI=0;var CB;if(p.id!==";"||q){return;}for(;;){CB=CT(cI);if(CB.Cx){return;}if(CB.id!=="(endline)"){if(CB.id==="function"){JN("Inner functions should be listed at the top of the outer function.",CB);break;}JN("Unreachable '{a}' after '{b}'.",CB,CB.value,Ke);break;}cI+=1;}}function D$(Ke){var cI=BO;var v0;var Kf=sQ;var CB=p;if(CB.id===";"){JN("Unnecessary semicolon.",CB);JT(";");return;}if(CB.sO&&!CB.B7&&CT().id===":"){JT();JT(":");sQ=Object.A5(Kf);JR(CB.value,"label");if(!p.CC){JN("Label '{a}' on {b} statement.",p,CB.value,p.value);}if(IM.test(CB.value+":")){JN("Label '{a}' looks like a javascript url.",CB,CB.value);}p.wl=CB.value;CB=p;}if(!Ke){JY();}if(p.id&&(p.id==="new")){JN("'new' should not be used as a statement.");}v0=parse(0,true);if(!CB.Cb){if(!v0||!v0.Cq){JN("Expected an assignment or function call and instead saw an expression.",BA);}if(p.id!==";"){JO("Missing semicolon.",BA.sF,BA.gt+BA.value.length);}else{vZ.v5.CD.push("found:"+BA);JU(BA,p);JT(";");JW(BA,p);}}BO=cI;sQ=Kf;return v0;}function Ke(){if(p.value==="use strict"){JT();JT(";");return true;}else{return false;}}function DQ(Kf){var yd=[];var Kg;var y_;if(Kf&&!Ke()&&hG.b2){JN("Missing \\\"use strict\\\" statement.",p);}while(!p.Cx&&((p.id==null)||(p.id!=="(end)"))){if(p.id&&(p.id===";")){JN("Unnecessary semicolon.");JT(";");}else{yd.push(D$());}}return yd;}function Cb(Kf){var yd;var yi=m;var Kg=sQ;var CB;m=Kf;sQ=Object.A5(sQ);JW(BA,p);CB=p;if(p.id==="{"){JT("{");if((p.id==null)||(p.id!=="}")||BA.sF!==p.sF){BO+=hG.BO;if(!Kf&&p.gt===BO+hG.BO){BO+=hG.BO;}if(!Kf){Ke();}yd=DQ();BO-=hG.BO;JY();}JT("}",CB);}else{JN("Expected '{a}' and instead saw '{b}'.",p,"{",p.value);q=true;yd=[D$()];q=false;}CO["(verb)"]=null;sQ=Kg;m=yi;return yd;}function Kf(){return this;}function Kg(Kh){if(o&&typeof o[Kh]!=="boolean"){JN("Unexpected /*member '{a}'.",BA,Kh);}if(typeof Df[Kh]==="number"){Df[Kh]+=1;}else{Df[Kh]=1;}}function Kh(Ki){var name=Ki.value;var sF=Ki.sF;var yd=l[name];if(typeof yd==="function"){yd=false;}if(!yd){yd=[sF];l[name]=yd;}else if(yd[yd.length-1]!==sF){yd.push(sF);}}type("(number)",Kf);type("(string)",Kf);Ix["(identifier)"]={type:"(identifier)",BV:0,sO:true,BU:function(){var Ki=this.value;var Kj=sQ[Ki];var Kk;if(typeof Kj==="function"){Kj=undefined;}else if(typeof Kj==="boolean"){Kk=CO;CO=C1[0];JR(Ki,"var");Kj=CO;CO=Kk;}if(CO===Kj){switch(CO[Ki]){case "unused":CO[Ki]="var";break;case "label":JN("'{a}' is a statement label.",BA,Ki);break;}}else if(CO["(global)"]){if(hG.xU&&r[Ki]!=="boolean"){JN("'{a}' is not defined.",BA,Ki);}Kh(BA);}else{switch(CO[Ki]){case "closure":case "function":case "var":case "unused":JN("'{a}' used out of scope.",BA,Ki);break;case "label":JN("'{a}' is a statement label.",BA,Ki);break;case "outer":case "global":break;default:if(Kj===true){CO[Ki]=true;}else if(typeof Kj!=="object"){if(hG.xU){JN("'{a}' is not defined.",BA,Ki);}else{CO[Ki]=true;}Kh(BA);}else{switch(Kj[Ki]){case "function":case "var":case "unused":Kj[Ki]="closure";CO[Ki]=Kj["(global)"]?"global":"outer";break;case "closure":case "parameter":CO[Ki]=Kj["(global)"]?"global":"outer";break;case "label":JN("'{a}' is a statement label.",BA,Ki);}}}}return this;},BW:function(){jN("Expected an operator and instead saw '{a}'.",p,p.value);}};type("(regexp)",function(){return this;});J0("(endline)");J0("(begin)");J0("(end)").Cx=true;J0("</").Cx=true;J0("<!");J0("<!--");J0("-->");J0("(error)").Cx=true;J0("}").Cx=true;J0(")");J0("]");J0("\\\"").Cx=true;J0("'").Cx=true;J0(";");J0(":").Cx=true;J0(",");J0("#");J0("@");J5("else");J5("case").Cx=true;J5("catch");J5("default").Cx=true;J5("finally");J6("arguments");J6("eval");J6("false");J6("Infinity");J6("NaN");J6("null");J6("this");J6("true");J6("undefined");Ka("=","assign",20);Ka("+=","assignadd",20);Ka("-=","assignsub",20);Ka("*=","assignmult",20);Ka("/=","assigndiv",20).BU=function(){jN("A regular expression literal can be confused with '/='.");};Ka("%=","assignmod",20);Kb("&=","assignbitand",20);Kb("|=","assignbitor",20);Kb("^=","assignbitxor",20);Kb("<<=","assignshiftleft",20);Kb(">>=","assignshiftright",20);Kb(">>>=","assignshiftrightunsigned",20);J7("?",function(Ki,Kj){Kj.left=Ki;Kj.Cg=parse(10);JT(":");Kj["else"]=parse(10);return Kj;},30);J7("||","or",40);J7("&&","and",50);xq("|","bitor",70);xq("^","bitxor",80);xq("&","bitand",90);J8("==",function(Ki,Kj){if(hG.xt){JN("Expected '{a}' and instead saw '{b}'.",this,"===","==");}else if(J9(Ki)){JN("Use '{a}' to compare with '{b}'.",this,"===",Ki.value);}else if(J9(Kj)){JN("Use '{a}' to compare with '{b}'.",this,"===",Kj.value);}return this;});J8("===");J8("!=",function(Ki,Kj){if(hG.xt){JN("Expected '{a}' and instead saw '{b}'.",this,"!==","!=");}else if(J9(Ki)){JN("Use '{a}' to compare with '{b}'.",this,"!==",Ki.value);}else if(J9(Kj)){JN("Use '{a}' to compare with '{b}'.",this,"!==",Kj.value);}return this;});J8("!==");J8("<");J8(">");J8("<=");J8(">=");xq("<<","shiftleft",120);xq(">>","shiftright",120);xq(">>>","shiftrightunsigned",120);J7("in","in",120);J7("instanceof","instanceof",120);J7("+",function(Ki,Kj){var Cg=parse(130);if(Ki&&Cg&&Ki.id==="(string)"&&Cg.id==="(string)"){Ki.value+=Cg.value;Ki.v6=Cg.v6;if(IM.test(Ki.value)){JN("JavaScript URL.",Ki);}return Ki;}Kj.left=Ki;Kj.Cg=Cg;return Kj;},130);J4("+","num");J7("-","sub",130);J4("-","neg");J7("*","mult",140);J7("/","div",140);J7("%","mod",140);Kc("++","postinc");J4("++","preinc");Ix["++"].Cq=true;Kc("--","postdec");J4("--","predec");Ix["--"].Cq=true;J4("delete",function(){var y_=parse(0);if(!y_||(y_.id!=="."&&y_.id!=="[")){JN("Expected '{a}' and instead saw '{b}'.",p,".",p.value);}this.f_=y_;return this;}).Cq=true;J4("~",function(){if(hG.xq){JN("Unexpected '{a}'.",this,"~");}parse(150);return this;});J4("!","not");J4("typeof","typeof");J4("new",function(){var Bp=parse(155);var cI;if(Bp&&Bp.id!=="function"){if(Bp.sO){Bp["new"]=true;switch(Bp.value){case "Object":JN("Use the object literal notation {}.",BA);break;case "Array":if(p.id!=="("){JN("Use the array literal notation [].",BA);}else{JT("(");if(p.id===")"){JN("Use the array literal notation [].",BA);}else{cI=parse(0);Bp.dc=cI;if((cI.id==="(number)"&&(/[.+\-Ee]/).test(cI.value))||(cI.id==="-"&&!cI.Cg)||cI.id==="(string)"||cI.id==="["||cI.id==="{"||cI.id==="true"||cI.id==="false"||cI.id==="null"||cI.id==="undefined"||cI.id==="Infinity"){JN("Use the array literal notation [].",BA);}if(p.id!==")"){jN("Use the array literal notation [].",BA);}}JT(")");}this.f_=Bp;return this;case "Number":case "String":case "Boolean":case "Math":case "JSON":JN("Do not use {a} as a constructor.",BA,Bp.value);break;case "Function":if(!hG.xu){JN("The Function constructor is eval.");}break;case "Date":case "RegExp":break;default:if(Bp.id!=="function"){cI=Bp.value.substr(0,1);if(hG.xN&&(cI<"A"||cI>"Z")){JN("A constructor name should start with an uppercase letter.",BA);}}}}else{if(Bp.id!=="."&&Bp.id!=="["&&Bp.id!=="("){JN("Bad constructor.",BA);}}}else{JN("Weird construction. Delete 'new'.",this);}JU(BA,p);if(p.id!=="("){JN("Missing '()' invoking a constructor.");}this.f_=Bp;return this;});Ix["new"].Cq=true;J7(".",function(Ki,Kj){JU(t,BA);var BH=sO();if(typeof BH==="string"){Kg(BH);}Kj.left=Ki;Kj.Cg=BH;if(!hG.xu&&Ki&&Ki.value==="document"&&(BH==="write"||BH==="writeln")){JN("document.write can be a form of eval.",Ki);}else if(hG.xp){if(Ki&&Ki.value==="ADSAFE"){if(BH==="id"||BH==="lib"){JN("ADsafe violation.",Kj);}else if(BH==="go"){if(IA!=="script"){JN("ADsafe violation.",Kj);}else if(c||p.id!=="("||CT(0).id!=="(string)"||CT(0).value!==a||CT(1).id!==","){jN("ADsafe violation: go.",Kj);}c=true;b=false;}}}if(!hG.xu&&(BH==="eval"||BH==="execScript")){JN("eval is evil.");}else if(hG.xV){for(;;){if(f[BH]===true){JN("ADsafe restricted word '{a}'.",BA,BH);}if(typeof r[Ki.value]!=="boolean"||p.id==="("){break;}if(Iw[BH]===true){if(p.id==="."){JN("ADsafe violation.",Kj);}break;}if(p.id!=="."){JN("ADsafe violation.",Kj);break;}JT(".");BA.left=Kj;BA.Cg=BH;Kj=BA;BH=sO();if(typeof BH==="string"){Kg(BH);}}}return Kj;},160,true);J7("(",function(Ki,Kj){JU(t,BA);JV();var Kk=0;var y_=[];if(Ki){if(Ki.type==="(identifier)"){if(Ki.value.match(/^[A-Z]([A-Z0-9_$]*[a-z][A-Za-z0-9_$]*)?$/)){if(Ki.value!=="Number"&&Ki.value!=="String"&&Ki.value!=="Boolean"&&Ki.value!=="Date"){if(Ki.value==="Math"){JN("Math is not a function.",Ki);}else if(hG.xN){JN("Missing 'new' prefix when invoking a constructor.",Ki);}}}}else if(Ki.id==="."){if(hG.xV&&Ki.left.value==="Math"&&Ki.Cg==="random"){JN("ADsafe violation.",Ki);}}}if(p.id!==")"){for(;;){y_[y_.length]=parse(10);Kk+=1;if(p.id!==","){break;}J_();}}JT(")");if(hG.xL&&Ki.id==="function"&&p.id!==")"){JN("Wrap the entire immediate function invocation in parens.",Kj);}JV(t,BA);if(typeof Ki==="object"){if(Ki.value==="parseInt"&&Kk===1){JN("Missing radix parameter.",Ki);}if(!hG.xu){if(Ki.value==="eval"||Ki.value==="Function"||Ki.value==="execScript"){JN("eval is evil.",Ki);}else if(y_[0]&&y_[0].id==="(string)"&&(Ki.value==="setTimeout"||Ki.value==="setInterval")){JN("Implied eval is evil. Pass a function instead of a string.",Ki);}}if(!Ki.sO&&Ki.id!=="."&&Ki.id!=="["&&Ki.id!=="("&&Ki.id!=="&&"&&Ki.id!=="||"&&Ki.id!=="?"){JN("Bad invocation.",Ki);}}Kj.left=Ki;return Kj;},155,true).Cq=true;J4("(",function(){JV();var Ki=parse(0);JT(")",this);JV(t,BA);if(hG.xL&&Ki.id==="function"){if(p.id==="("){JN("Move the invocation into the parens that contain the function.",p);}else{JN("Do not wrap function literals in parens unless they are to be immediately invoked.",this);}}return Ki;});J7("[",function(Ki,Kj){JV();var v1=parse(0);var Kk;if(v1&&v1.type==="(string)"){if(hG.xV&&f[v1.value]===true){JN("ADsafe restricted word '{a}'.",Kj,v1.value);}else if(!hG.xu&&(v1.value==="eval"||v1.value==="execScript")){JN("eval is evil.",Kj);}else if(hG.xV&&(v1.value.charAt(0)==="_"||v1.value.charAt(0)==="-")){JN("ADsafe restricted subscript '{a}'.",Kj,v1.value);}Kg(v1.value);if(!hG.xX&&IL.test(v1.value)){Kk=Ix[v1.value];if(!Kk||!Kk.B7){JN("['{a}'] is better written in dot notation.",v1,v1.value);}}}else if(!v1||v1.type!=="(number)"||v1.value<0){if(hG.xV){JN("ADsafe subscripting.");}}JT("]",Kj);JV(t,BA);Kj.left=Ki;Kj.Cg=v1;return Kj;},160,true);J4("[",function(){this.f_=[];if(p.id==="]"){JT("]");return this;}var yi=BA.sF!==p.sF;if(yi){BO+=hG.BO;if(p.gt===BO+hG.BO){BO+=hG.BO;}}for(;;){if(yi&&BA.sF!==p.sF){JY();}parse(10);if(p.id===","){J_();if(p.id===","){JN("Extra comma.",BA);}else if(p.id==="]"){JN("Extra comma.",BA);break;}}else{if(yi){BO-=hG.BO;JY();}break;}}JT("]",this);return this;},160);(function(Ki){Ki.BU=function(){var yi;var cI;var Kj;var Kk={};yi=BA.sF!==p.sF;if(yi){BO+=hG.BO;if(p.gt===BO+hG.BO){BO+=hG.BO;}}for(;;){if(p.id&&(p.id==="}")){break;}if(yi){JY();}cI=Kd(true);if(!cI){if(p.id&&(p.id==="(string)")){cI=p.value;if(IL.test(cI)){Kj=Ix[cI];}JT();}else if(p.id&&(p.id==="(number)")){cI=p.value.toString();JT();}else{jN("Expected '{a}' and instead saw '{b}'.",p,"}",p.value);}}if(Kk[cI]&&(Kk[cI]===true)){JN("Duplicate member '{a}'.",p,cI);}Kk[cI]=true;Kg(cI);JT(":");JW(BA,p);parse(10);if(p.id&&(p.id===",")){J_();if(p.id&&(p.id===","||p.id==="}")){JN("Extra comma.",BA);}}else{break;}}if(yi){BO-=hG.BO;JY();}JT("}",this);return this;};Ki.BT=function(){jN("Expected to see a statement and instead saw a block.",BA);};}(J0("{")));function Ki(Kj){var id;var name;var value;if(CO["(onevar)"]&&hG.xP){JN("Too many var statements.");}else if(!CO["(global)"]){CO["(onevar)"]=true;}this.f_=[];for(;;){JW(BA,p);id=sO();if(CO["(global)"]&&r[id]&&r[id]===false){JN("Redefinition of '{a}'.",BA,id);}JR(id,"unused");if(Kj){break;}name=BA;this.f_.push(BA);if(p.id==="="){JW(BA,p);JT("=");JW(BA,p);if(CT(0).id==="="&&p.sO){jN("Variable {a} was not declared correctly.",p,p.value);}value=parse(0);name.f_=value;}if(p.id!==","){break;}J_();}return this;}J1("var",Ki).Cq=true;function Kj(){var cI;var CB=p;var y_=[];JT("(");JV();if(p.id===")"){JT(")");JV(t,BA);return;}for(;;){cI=sO();y_.push(cI);JR(cI,"parameter");if(p.id===","){J_();}else{JT(")",CB);JV(t,BA);return y_;}}}function Kk(Kl){var Km=sQ;sQ=Object.A5(Km);CO={"(name)":Kl||"\\\""+d+"\\\"","(line)":p.sF,"(context)":CO,"(breakage)":0,"(loopage)":0,"(scope)":sQ};BA.CO=CO;C1.push(CO);if(Kl){JR(Kl,"function");}CO["(params)"]=Kj();Cb(false);sQ=Km;CO["(last)"]=BA.sF;CO=CO["(context)"];}J2("function",function(){if(m){JN("Function statements cannot be placed in blocks. Use a function expression or move the statement to the top of the outer function.",BA);}var cI=sO();JU(BA,p);JR(cI,"unused");Kk(cI);if(p.id==="("&&p.sF===BA.sF){jN("Function statements are not invocable. Wrap the whole function invocation in parens.");}return this;});J4("function",function(){var cI=Kd();if(cI){JU(BA,p);}else{JW(BA,p);}Kk(cI);if(CO["(loopage)"]&&p.id!=="("){JN("Be careful when making functions within a loop. Consider putting the function in a closure.");}return this;});J2("if",function(){var CB=p;JT("(");JW(this,CB);JV();parse(20);if(p.id==="="){JN("Expected a conditional expression and instead saw an assignment.");JT("=");parse(20);}JT(")",CB);JV(t,BA);Cb(true);if(p.id==="else"){JW(BA,p);JT("else");if(p.id==="if"||p.id==="switch"){D$(true);}else{Cb(true);}}return this;});J2("try",function(){var yi;var v1;var Kl;if(hG.xp){JN("ADsafe try violation.",this);}Cb(false);if(p.id==="catch"){JT("catch");JW(BA,p);JT("(");Kl=sQ;sQ=Object.A5(Kl);v1=p.value;if(p.type!=="(identifier)"){JN("Expected an identifier and instead saw '{a}'.",p,v1);}else{JR(v1,"exception");}JT();JT(")");Cb(false);yi=true;sQ=Kl;}if(p.id==="finally"){JT("finally");Cb(false);return;}else if(!yi){jN("Expected '{a}' and instead saw '{b}'.",p,"catch",p.value);}return this;});J2("while",function(){var CB=p;CO["(breakage)"]+=1;CO["(loopage)"]+=1;JT("(");JW(this,CB);JV();parse(20);if(p.id==="="){JN("Expected a conditional expression and instead saw an assignment.");JT("=");parse(20);}JT(")",CB);JV(t,BA);Cb(true);CO["(breakage)"]-=1;CO["(loopage)"]-=1;return this;}).CC=true;J5("with");J2("switch",function(){var CB=p;var BG=false;CO["(breakage)"]+=1;JT("(");JW(this,CB);JV();this.CQ=parse(20);JT(")",CB);JV(t,BA);JW(BA,p);CB=p;JT("{");JW(BA,p);BO+=hG.BO;this.CR=[];for(;;){switch(p.id){case "case":switch(CO["(verb)"]){case "break":case "case":case "continue":case "return":case "switch":case "throw":break;default:JN("Expected a 'break' statement before 'case'.",BA);}JY(-hG.BO);JT("case");this.CR.push(parse(20));BG=true;JT(":");CO["(verb)"]="case";break;case "default":switch(CO["(verb)"]){case "break":case "continue":case "return":case "throw":break;default:JN("Expected a 'break' statement before 'default'.",BA);}JY(-hG.BO);JT("default");BG=true;JT(":");break;case "}":BO-=hG.BO;JY();JT("}",CB);if(this.CR.length===1||this.CQ.id==="true"||this.CQ.id==="false"){JN("This 'switch' should be an 'if'.",this);}CO["(breakage)"]-=1;CO["(verb)"]=undefined;return;case "(end)":jN("Missing '{a}'.",p,"}");return;default:if(BG){switch(BA.id){case ",":jN("Each value should have its own case label.");return;case ":":DQ();break;default:jN("Missing ':' on a case clause.",BA);}}else{jN("Expected '{a}' and instead saw '{b}'.",p,"case",p.value);}}}}).CC=true;J1("debugger",function(){if(!hG.ey){JN("All 'debugger' statements should be removed.");}return this;}).Cq=true;(function(){var _=J1("do",function(){CO["(breakage)"]+=1;CO["(loopage)"]+=1;this.f_=Cb(true);JT("while");var CB=p;JW(BA,CB);JT("(");JV();parse(20);if(p.id==="="){JN("Expected a conditional expression and instead saw an assignment.");JT("=");parse(20);}JT(")",CB);JV(t,BA);CO["(breakage)"]-=1;CO["(loopage)"]-=1;return this;});_.CC=true;_.Cq=true;}());J2("for",function(){var Kl=hG.xv;var Km;var CB=p;CO["(breakage)"]+=1;CO["(loopage)"]+=1;JT("(");JW(this,CB);JV();if(CT(p.id==="var"?1:0).id==="in"){if(p.id==="var"){JT("var");Ki(true);}else{switch(CO[p.value]){case "unused":CO[p.value]="var";break;case "var":break;default:JN("Bad for in variable '{a}'.",p,p.value);}JT();}JT("in");parse(20);JT(")",CB);Km=Cb(true);if(!Kl&&(Km.length>1||typeof Km[0]!=="object"||Km[0].value!=="if")){JN("The body of a for in should be wrapped in an if statement to filter unwanted properties from the prototype.",this);}CO["(breakage)"]-=1;CO["(loopage)"]-=1;return this;}else{if(p.id!==";"){if(p.id==="var"){JT("var");Ki();}else{for(;;){parse(0,"for");if(p.id!==","){break;}J_();}}}JZ(BA);JT(";");if(p.id!==";"){parse(20);if(p.id==="="){JN("Expected a conditional expression and instead saw an assignment.");JT("=");parse(20);}}JZ(BA);JT(";");if(p.id===";"){jN("Expected '{a}' and instead saw '{b}'.",p,")",";");}if(p.id!==")"){for(;;){parse(0,"for");if(p.id!==","){break;}J_();}}JT(")",CB);JV(t,BA);Cb(true);CO["(breakage)"]-=1;CO["(loopage)"]-=1;return this;}}).CC=true;J1("break",function(){var Kl=p.value;if(CO["(breakage)"]===0){JN("Unexpected '{a}'.",p,this.value);}JZ(this);if(p.id!==";"){if(BA.sF===p.sF){if(CO[Kl]!=="label"){JN("'{a}' is not a statement label.",p,Kl);}else if(sQ[Kl]!==CO){JN("'{a}' is out of scope.",p,Kl);}this.f_=p;JT();}}JA("break");return this;}).Cq=true;J1("continue",function(){var Kl=p.value;if(CO["(breakage)"]===0){JN("Unexpected '{a}'.",p,this.value);}JZ(this);if(p.id!==";"){if(BA.sF===p.sF){if(CO[Kl]!=="label"){JN("'{a}' is not a statement label.",p,Kl);}else if(sQ[Kl]!==CO){JN("'{a}' is out of scope.",p,Kl);}this.f_=p;JT();}}JA("continue");return this;}).Cq=true;J1("return",function(){JZ(this);if(p.id==="(regexp)"){JN("Wrap the /regexp/ literal in parens to disambiguate the slash operator.");}if(p.id!==";"&&!p.Cx){JW(BA,p);this.f_=parse(20);}JA("return");return this;}).Cq=true;J1("throw",function(){JZ(this);JW(BA,p);this.f_=parse(20);JA("throw");return this;}).Cq=true;J5("void");J5("class");J5("const");J5("enum");J5("export");J5("extends");J5("super");J5("let");J5("yield");J5("implements");J5("interface");J5("package");J5("private");J5("protected");J5("public");J5("static");function Kl(){function Km(){var Kn={};var CB=p;JT("{");if(p.id!=="}"){for(;;){if(p.id==="(end)"){jN("Missing '}' to match '{' from line {a}.",p,CB.sF);}else if(p.id==="}"){JN("Unexpected comma.",BA);break;}else if(p.id===","){jN("Unexpected comma.",p);}else if(p.id!=="(string)"){JN("Expected a string and instead saw {a}.",p,p.value);}if(Kn[p.value]===true){JN("Duplicate key '{a}'.",p,p.value);}else if(p.value==="__proto__"){JN("Stupid key '{a}'.",p,p.value);}else{Kn[p.value]=true;}JT();JT(":");Kl();if(p.id!==","){break;}JT(",");}}JT("}");}function Kn(){var CB=p;JT("[");if(p.id!=="]"){for(;;){if(p.id==="(end)"){jN("Missing ']' to match '[' from line {a}.",p,CB.sF);}else if(p.id==="]"){JN("Unexpected comma.",BA);break;}else if(p.id===","){jN("Unexpected comma.",p);}Kl();if(p.id!==","){break;}JT(",");}}JT("]");}switch(p.id){case "{":Km();break;case "[":Kn();break;case "true":case "false":case "null":case "(number)":case "(string)":JT();break;case "-":JT("-");if(BA.v6!==p.gt){JN("Unexpected space after '-'.",BA);}JU(BA,p);JT("(number)");break;default:jN("Expected a JSON value.",p);}}var Km=function(Kn,Ko){var yd;var cI;vZ.v5.e2=[];vZ.v5.CD=[];r=Object.A5(u);if(Ko){yd=Ko.CW;if(yd instanceof Array){for(cI=0;cI<yd.length;cI+=1){r[yd[cI]]=true;}}if(Ko.xp){Ko.xV=true;}if(Ko.xV){Ko.xr=false;Ko.css=false;Ko.ey=false;Ko.xt=true;Ko.xu=false;Ko.xv=false;Ko.xO=true;Ko.on=false;Ko.xT=false;Ko.xV=true;Ko.xW=false;Ko.b2=true;Ko.xX=false;Ko.xU=true;Ko.xZ=false;r.Date=null;r["eval"]=null;r.Function=null;r.Object=null;r.CX=false;r.CY=false;}hG=Ko;}else{hG={};}hG.BO=hG.BO||4;hG.Br=hG.Br||50;a="";b=false;c=false;CZ={};if(hG.CZ){for(cI=0;cI<hG.CZ.length;cI+=1){CZ[hG.CZ[cI]]=hG.CZ[cI];}}else{CZ.test="test";}Iy="";for(cI=0;cI<hG.BO;cI+=1){Iy+=" ";}BO=1;global=Object.A5(r);sQ=global;CO={"(global)":true,"(name)":"(global)","(scope)":sQ,"(breakage)":0,"(loopage)":0};C1=[CO];k={};Dc=[];src=false;IA=false;stack=null;Df={};o=null;l={};m=false;CL=[];n=false;Iz=0;JQ.uh(Kn);s=true;t=BA=p=Ix["(begin)"];JM();try{JT();if(p.value.charAt(0)==="<"){yL();if(hG.xp&&!c){JN("ADsafe violation: Missing ADSAFE.go.",this);}}else{switch(p.id){case "{":case "[":hG.xM=true;n=true;Kl();break;case "@":case "*":case "#":case ".":case ":":IA="style";JT();if(BA.id!=="@"||!p.sO||p.value!=="charset"||BA.sF!==1||BA.gt!==1){jN("A css file should begin with @charset \\\"UTF-8\\\";");}JT();if(p.type!=="(string)"&&p.value!=="UTF-8"){jN("A css file should begin with @charset \\\"UTF-8\\\";");}JT();JT(";");C_();break;default:if(hG.xp&&hG.xK){jN("Expected '{a}' and instead saw '{b}'.",p,"<div>",p.value);}DQ("lib");}}JT("(end)");}catch(v1){if(v1){vZ.v5.e2.push({sH:v1.message,sF:v1.sF||p.sF,v6:v1.v6||p.gt},null);}}return vZ.v5.e2;};function Kn(Ko){return Object.prototype.toString.apply(Ko)==="[object Array]";}function Ko(Kp){var yd=[];var Kq;for(Kq in Kp){if(JK(Kp,Kq)){yd.push(Kq);}}return yd;}Km.data=function(){var data={C1:[]};var Kp;var Dd;var Db=[];var Kq;var cI;var dz;var Kr=[];var Ks;var De=[];var Kt;if(Km.e2.length){data.e2=Km.e2;}if(n){data.Da=true;}for(Ks in l){if(JK(l,Ks)){Db.push({name:Ks,sF:l[Ks]});}}if(Db.length>0){data.Db=Db;}if(Dc.length>0){data.Dc=Dc;}Dd=Ko(sQ);if(Dd.length>0){data.Dd=Dd;}for(cI=1;cI<C1.length;cI+=1){Kq=C1[cI];Kp={};for(dz=0;dz<i.length;dz+=1){Kp[i[dz]]=[];}for(Ks in Kq){if(JK(Kq,Ks)&&Ks.charAt(0)!=="("){Kt=Kq[Ks];if(Kn(Kp[Kt])){Kp[Kt].push(Ks);if(Kt==="unused"){De.push({name:Ks,sF:Kq["(line)"],"function":Kq["(name)"]});}}}}for(dz=0;dz<i.length;dz+=1){if(Kp[i[dz]].length===0){delete Kp[i[dz]];}}Kp.name=Kq["(name)"];Kp.y$=Kq["(params)"];Kp.sF=Kq["(line)"];Kp.b6=Kq["(last)"];data.C1.push(Kp);}if(De.length>0){data.De=De;}Kr=[];for(Ks in Df){if(typeof Df[Ks]==="number"){data.Df=Df;break;}}return data;};Km.Dg=function(Kp){var data=Km.data();var yd=[];var Bp;var v1;var Kq;var Kr;var cI;var Ks;var Kt;var BH="";var Ku;var Kv=[];var Kw;function detail(Kx,Ky){if(Ky){Kv.push("<div><i>"+Kx+"</i> "+Ky.sort().join(", ")+"</div>");}}if(data.e2||data.Db||data.De){Kq=true;Kv.push("<div id=errors><i>Error:</i>");if(data.e2){for(cI=0;cI<data.e2.length;cI+=1){Bp=data.e2[cI];if(Bp){v1=Bp.Bo||"";Kv.push("<p>Problem"+(isFinite(Bp.sF)?" at line "+Bp.sF+" character "+Bp.v6:"")+": "+Bp.sH.A8()+"</p><p class=evidence>"+(v1&&(v1.length>80?v1.slice(0,77)+"...":v1).A8())+"</p>");}}}if(data.Db){Kw=[];for(cI=0;cI<data.Db.length;cI+=1){Kw[cI]="<code>"+data.Db[cI].name+"</code>&nbsp;<i>"+data.Db[cI].sF+"</i>";}Kv.push("<p><i>Implied global:</i> "+Kw.join(", ")+"</p>");}if(data.De){Kw=[];for(cI=0;cI<data.De.length;cI+=1){Kw[cI]="<code>"+data.De[cI].name+"</code>&nbsp;<i>"+data.De[cI].sF+"</i> <code>"+data.De[cI]["function"]+"</code>";}Kv.push("<p><i>Unused variable:</i> "+Kw.join(", ")+"</p>");}if(data.Da){Kv.push("<p>JSON: bad.</p>");}Kv.push("</div>");}if(!Kp){Kv.push("<br><div id=functions>");if(data.Dc){detail("URLs<br>",data.Dc,"<br>");}if(data.Da&&!Kq){Kv.push("<p>JSON: good.</p>");}else if(data.Dd){Kv.push("<div><i>Global</i> "+data.Dd.sort().join(", ")+"</div>");}else{Kv.push("<div><i>No new global variables introduced.</i></div>");}for(cI=0;cI<data.C1.length;cI+=1){Kr=data.C1[cI];Kv.push("<br><div class=function><i>"+Kr.sF+"-"+Kr.b6+"</i> "+(Kr.name||"")+"("+(Kr.y$?Kr.y$.join(", "):"")+")</div>");detail("<big><b>Unused</b></big>",Kr.De);detail("Closure",Kr.Dp);detail("Variable",Kr["var"]);detail("Exception",Kr.Dq);detail("Outer",Kr.A2);detail("Global",Kr.global);detail("Label",Kr.wl);}if(data.Df){yd=Ko(data.Df);if(yd.length){yd=yd.sort();BH="<br><pre id=members>/*members ";Kt=10;for(cI=0;cI<yd.length;cI+=1){Ks=yd[cI];Ku=Ks.name();if(Kt+Ku.length>72){Kv.push(BH+"<br>");BH="    ";Kt=1;}Kt+=Ku.length+2;if(data.Df[Ks]===1){Ku="<i>"+Ku+"</i>";}if(cI<yd.length-1){Ku+=", ";}BH+=Ku;}Kv.push(BH+"<br>*/</pre>");}Kv.push("</div>");}}return Kv.join("");};Km.Dr=Km;Km.Ds="2009-08-31";return Km;}());/* (C) 2021 Halo Automation Systems LLC; This software is proprietary and is NOT to be distributed or shared in any way.*/"use strict";var sI={};if(typeof require!="undefined"){}sI.zj=[];sI.zk=["END","\n",";",",","=","?",":","CONDITIONAL","||","&&","|","^","&","==","!=","===","!==","<","<=",">=",">","<<",">>",">>>","+","-","*","/","%","!","~","UNARY_PLUS","UNARY_MINUS","++","--",".","[","]","{","}","(",")","SCRIPT","BLOCK","LABEL","FOR_IN","CALL","NEW_WITH_ARGS","INDEX","ARRAY_INIT","OBJECT_INIT","PROPERTY_INIT","GETTER","SETTER","GROUP","LIST","COMMENT","IDENTIFIER","NUMBER","STRING","REGEXP","break","case","catch","const","continue","debugger","default","delete","do","else","enum","false","finally","for","function","if","in","instanceof","new","null","return","switch","this","throw","true","try","typeof","var","void","while","with","async","await"];sI.d_={zl:0,zm:1,zn:2,zo:3,zE:4,zG:5,zO:6,zP:7,zQ:8,zR:9,zS:10,AM:11,AN:12,AO:13,AP:14,AQ:15,AR:16,AS:17,AT:18,AU:19,AV:20,AW:21,AX:22,AY:23,AZ:24,A_:25,A$:26,A0:27,A1:28,A4:29,A6:30,A7:31,Bc:32,Bd:33,Be:34,Bf:35,Bg:36,Bh:37,Bi:38,Bj:39,Bk:40,Bl:41,Bm:42,Bs:43,Bt:44,Bu:45,Bv:46,Bw:47,Bx:48,BB:49,BC:50,BD:51,BE:52,BI:53,BJ:54,BK:55,BL:56,BM:57,BN:58,BP:59,BQ:60,BR:61,BS:62,BX:63,BY:64,BZ:65,B_:66,B$:67,B0:68,B1:69,B2:70,B3:71,B4:72,B5:73,B6:74,B8:75,B9:76,Ca:77,Cc:78,Cd:79,Ce:80,Cf:81,Ci:82,Cj:83,Ck:84,Cl:85,Cm:86,Cn:87,Co:88,Cp:89,Cr:90,Cs:91,Ct:92,Cu:93};sI.Cv={"\n":sI.d_.zm,";":sI.d_.zn,",":sI.d_.zo,"?":sI.d_.zG,":":sI.d_.zO,"||":sI.d_.zQ,"&&":sI.d_.zR,"|":sI.d_.zS,"^":sI.d_.AM,"&":sI.d_.AN,"===":sI.d_.AQ,"==":sI.d_.AO,"=":sI.d_.zE,"!==":sI.d_.AR,"!=":sI.d_.AP,"<<":sI.d_.AW,"<=":sI.d_.AT,"<":sI.d_.AS,">>>":sI.d_.AY,">>":sI.d_.AX,">=":sI.d_.AU,">":sI.d_.AV,"++":sI.d_.Bd,"--":sI.d_.Be,"+":sI.d_.AZ,"-":sI.d_.A_,"*":sI.d_.A$,"/":sI.d_.A0,"%":sI.d_.A1,"!":sI.d_.A4,"~":sI.d_.A6,".":sI.d_.Bf,"[":sI.d_.Bg,"]":sI.d_.Bh,"{":sI.d_.Bi,"}":sI.d_.Bj,"(":sI.d_.Bk,")":sI.d_.Bl};sI.Cw={Cy:null};sI.Cz=function(){var a="const ";for(var cI=0,dz=sI.zk.length;cI<dz;cI++){if(cI>0){a+=", ";}var CB=sI.zk[cI];if(/^[a-z]/.test(CB)){a+=CB.toUpperCase();sI.Cw[CB]=cI;}else{a+=(/^\W/.test(CB)?sI.Cv[CB]:CB);}a+=" = "+cI;sI.zk[CB]=cI;}return a+";";};sI.Cz();sI.CA=["|","^","&","<<",">>",">>>","+","-","*","/","%"];for(var cI=0,dz=sI.CA.length;cI<dz;cI++){var CB=sI.CA[cI];sI.CA[CB]=sI.zk[CB];}sI.CE="^";for(cI in sI.Cv){if(cI=="\n"){continue;}if(sI.CE!="^"){sI.CE+="|^";}sI.CE+=cI.replace(/[?|^&(){}\[\]+\-*\/\.]/g,"\\$&");}sI.CF=new RegExp(sI.CE);sI.CG=/^\d+\.\d*(?:[eE][-+]?\d+)?|^\d+(?:\.\d*)?[eE][-+]?\d+|^\.\d+(?:[eE][-+]?\d+)?/;sI.CH=/^\/((?:\\.|\[(?:\\.|[^\]])*\]|[^\/])+)\/([gimy]*)/;sI.CI=function(a,b,c){this.CJ=0;this.source=String(a);this.zk=[];this.CK=0;this.CL=0;this.CM=false;this.CN=true;this.CP=b||"";this.CS=c||1;};sI.CI.prototype.yP=function(){return this.source.substring(this.CJ);};sI.CI.prototype.done=function(){return this.CT()==sI.d_.zl;};sI.CI.prototype.BA=function(){return this.zk[this.CK];};sI.CI.prototype.match=function(a){return this.CU()==a||this.CV();};sI.CI.prototype.C$=function(a){if(!this.match(a)){throw this.C0("Missing "+sI.zk[a].toLowerCase());}return this.BA();};sI.CI.prototype.CT=function(){var zg;var cL;if(this.CL){cL=this.zk[(this.CK+this.CL)&3];if(this.CM&&cL.CS!=this.CS){zg=sI.d_.zm;}else{zg=cL.type;}}else{zg=this.CU();this.CV();}return zg;};sI.CI.prototype.C2=function(){this.CM=true;var zg=this.CT();this.CM=false;return zg;};sI.CI.prototype.CU=function(){var BA;while(this.CL){--this.CL;this.CK=(this.CK+1)&3;BA=this.zk[this.CK];if(BA.type!=sI.d_.zm||this.CM){return BA.type;}}for(;;){var yP=this.yP();var a=this.CM?/^[ \t]+/:/^\s+/;var match=a.exec(yP);if(match){var b=match[0];this.CJ+=b.length;var c=b.match(/\n/g);if(c){this.CS+=c.length;}yP=this.yP();}a=/^\/(?:\*(?:.|\n)*?\*\/|\/.*)/;if(!(match=a.exec(yP))){break;}var BF={BF:match[0],CS:this.CS};sI.zj.push(BF);this.CJ+=match[0].length;c=match[0].match(/\n/g);if(c){this.CS+=c.length;}}this.CK=(this.CK+1)&3;BA=this.zk[this.CK];var d=function(e){e=unescape(e.slice(1,-1).replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t"));for(var cI=0;cI<e.length;cI++){if((e[cI]=="\\")&&(e[cI+1]=="u")){var f=Number(e[cI+2]+e[cI+3]+e[cI+4]+e[cI+5]);e=e.slice(0,cI)+String.fromCharCode(f)+e.slice(cI+6);cI--;}}return e;};if(!BA){this.zk[this.CK]=BA={};}if(!yP){BA.type=sI.d_.zl;return BA.type;}if((match=sI.CG.exec(yP))){BA.type=sI.d_.BN;BA.value=parseFloat(match[0]);}else if((match=(/^0[xX][\da-fA-F]+|^0[0-7]*|^\d+/).exec(yP))){BA.type=sI.d_.BN;BA.value=parseInt(match[0]);}else if((match=(/^[$_\w]+/).exec(yP))){var id=match[0];BA.type=sI.Cw[id]||sI.d_.BM;BA.value=id;}else if((match=(/^"(?:\\.|[^"])*"|^'(?:\\.|[^'])*'/).exec(yP))){BA.type=sI.d_.BP;try{BA.value=d(match[0]);}catch(e){this.C0(e.message);}}else if((match=(/^`(?:\\.|[^`])*`|^'(?:\\.|[^'])*'/).exec(yP))){BA.type=sI.d_.BP;try{BA.value=d(match[0]);}catch(e){this.C0(e.message);}}else if(this.CN&&(match=sI.CH.exec(yP))){BA.type=sI.d_.BQ;BA.value=new RegExp(match[1],match[2]);}else if((match=sI.CF.exec(yP))){var f=match[0];if(sI.CA[f]&&yP[f.length]=="="){BA.type=sI.d_.zE;BA.C3=sI.Cv[f];match[0]+="=";}else{BA.type=sI.Cv[f];if(this.CN&&(BA.type==sI.d_.AZ||BA.type==sI.d_.A_)){BA.type+=sI.d_.A7-sI.d_.AZ;}BA.C3=null;}BA.value=f;}else if(this.CM&&(match=(/^\n/).exec(yP))){BA.type=sI.d_.zm;}else{throw this.C0("Illegal token");}BA.ck=this.CJ;this.CJ+=match[0].length;BA.end=this.CJ;BA.CS=this.CS;return BA.type;};sI.CI.prototype.CV=function(){if(++this.CL===4){throw "PANIC: too much lookahead!";}this.CK=(this.CK-1)&3;};sI.CI.prototype.C0=function(a){if(this.zk){var b="";for(var cI in this.zk){b+=(this.zk[cI].value?this.zk[cI].value:"")+" ";}console.log("Possible line error: \\x1b[32m"+b+"\\x1b[0m");}var v1=new SyntaxError(a+" at line "+this.CS+"...source("+this.source.slice(0,100)+"...)",this.CP,this.CS,this.source);v1.sF=this.sF;v1.source=this.source;v1.CJ=this.CJ;return v1;};sI.C4=function(a){this.C5=a;this.C6=[];this.C7=[];this.C8=[];};sI.C9=sI.C4.prototype;sI.C9.Dh=sI.C9.Di=sI.C9.Dj=sI.C9.Dk=0;sI.C9.Dl=sI.C9.Dm=false;sI.Dn=function(a,b){var c=sI.Do(a,b);c.type=sI.d_.Bm;c.C7=b.C7;c.C8=b.C8;return c;};sI.top=function(a){return a.length&&a[a.length-1];};sI.Dt=function(a,b){var BA=a.BA();if(BA){this.type=b||BA.type;this.value=BA.value;this.CS=BA.CS;this.ck=BA.ck;this.end=BA.end;}else{this.type=b;this.CS=a.CS;}this.Du=a;for(var cI=2;cI<arguments.length;cI++){this.push(arguments[cI]);}sI.Dv=this;};sI.Dw=sI.Dt.prototype=new Array();sI.Dw.constructor=sI.Dt;sI.Dw.Dx=Object.prototype.Dx;sI.Dw.push=function(a){if(a.ck<this.ck){this.ck=a.ck;}if(this.end<a.end){this.end=a.end;}return Array.prototype.push.call(this,a);};sI.Dt.Dy=0;sI.Dz=function(a){var CB=sI.zk[a];return (/^\W/).test(CB)?sI.Cv[CB]:CB.toUpperCase();};sI.Dw.toString=function(){var yd=[];for(var cI in this){if(this.hasOwnProperty(cI)&&cI!="type"&&cI!="target"){yd.push({id:cI,value:this[cI]});}}yd.sort(function(a,b){return (a.id<b.id)?-1:1;});var a="    ";var b=++sI.Dt.Dy;var c="{\n"+a.DA(b)+"type: "+sI.Dz(this.type);for(cI=0;cI<yd.length;cI++){c+=",\n"+a.DA(b)+yd[cI].id+": "+yd[cI].value;}b=--sI.Dt.Dy;c+="\n"+a.DA(b)+"}";return c;};sI.Dw.DB=function(){return this.Du.source.slice(this.ck,this.end);};String.prototype.DA=function(a){var b="";var CB=this+b;while(--a>=0){b+=CB;}return b;};sI.DC=function(a,b,c,d,e){b.C6.push(c);var f=d(a,b);b.C6.pop();e&&a.C$(e);return f;};sI.Do=function(a,b){var c=new sI.Dt(a,sI.d_.Bs);b.C6.push(c);while(!a.done()&&a.CT()!=sI.d_.Bj){c.push(sI.DD(a,b));}b.C6.pop();return c;};sI.DE=function(a,b){a.C$(sI.d_.Bi);var c=sI.Do(a,b);a.C$(sI.d_.Bj);return c;};sI.DF=0;sI.DG=1;sI.DH=2;sI.DD=function(a,b){var cI;var wl;var c;var d;var e;var zg=a.CU();switch(zg){case sI.d_.B8:return sI.DI(a,b,true,(b.C6.length>1)?sI.DH:sI.DF);case sI.d_.Bi:c=sI.Do(a,b);a.C$(sI.d_.Bj);return c;case sI.d_.B9:c=new sI.Dt(a);c.CQ=sI.DJ(a,b);b.C6.push(c);c.DK=sI.DD(a,b);c.DL=a.match(sI.d_.B2)?sI.DD(a,b):null;b.C6.pop();return c;case sI.d_.Ci:c=new sI.Dt(a);a.C$(sI.d_.Bk);c.DM=sI.DN(a,b);a.C$(sI.d_.Bl);c.CR=[];c.DO=-1;b.C6.push(c);a.C$(sI.d_.Bi);while((zg=a.CU())!=sI.d_.Bj){switch(zg){case sI.d_.B$:if(c.DO>=0){throw a.C0("More than one switch default");}case sI.d_.BS:d=new sI.Dt(a);if(zg==sI.d_.B$){c.DO=c.CR.length;}else{d.DP=sI.DN(a,b,sI.d_.zO);}break;default:throw a.C0("Invalid switch case");}a.C$(sI.d_.zO);d.DQ=new sI.Dt(a,sI.d_.Bs);while((zg=a.CT())!=sI.d_.BS&&zg!=sI.d_.B$&&zg!=sI.d_.Bj){d.DQ.push(sI.DD(a,b));}c.CR.push(d);}b.C6.pop();return c;case sI.d_.B6:c=new sI.Dt(a);c.DR=true;a.C$(sI.d_.Bk);if((zg=a.CT())!=sI.d_.zn){b.Dm=true;if(zg==sI.d_.Co||zg==sI.d_.BY){a.CU();d=sI.DS(a,b);}else{d=sI.DN(a,b);}b.Dm=false;}if(d&&a.match(sI.d_.Ca)){c.type=sI.d_.Bu;if(d.type==sI.d_.Co){if(d.length!==1){throw new SyntaxError("Invalid for..in left-hand side",a.CP,d.CS);}c.DT=d[0];c.DU=d;}else{c.DT=d;c.DU=null;}c.hy=sI.DN(a,b);}else{c.DV=d||null;a.C$(sI.d_.zn);c.CQ=(a.CT()==sI.d_.zn)?null:sI.DN(a,b);a.C$(sI.d_.zn);c.update=(a.CT()==sI.d_.Bl)?null:sI.DN(a,b);}a.C$(sI.d_.Bl);c.body=sI.DC(a,b,c,sI.DD);return c;case sI.d_.Cr:c=new sI.Dt(a);c.DR=true;c.CQ=sI.DJ(a,b);c.body=sI.DC(a,b,c,sI.DD);return c;case sI.d_.B1:c=new sI.Dt(a);c.DR=true;c.body=sI.DC(a,b,c,sI.DD,sI.d_.Cr);c.CQ=sI.DJ(a,b);if(!b.Dl){a.match(sI.d_.zn);return c;}break;case sI.d_.BR:case sI.d_.BZ:c=new sI.Dt(a);if(a.C2()==sI.d_.BM){a.CU();c.wl=a.BA().value;}e=b.C6;cI=e.length;wl=c.wl;if(wl){do{if(--cI<0){throw a.C0("Label not found");}}while(e[cI].wl!=wl);}else{do{if(--cI<0){throw a.C0("Invalid "+((zg==sI.d_.BR)?"break":"continue"));}}while(!e[cI].DR&&(zg!=sI.d_.BR||e[cI].type!=sI.d_.Ci));}c.target=e[cI];break;case sI.d_.Cm:c=new sI.Dt(a);c.DW=sI.DE(a,b);c.DX=[];while(a.match(sI.d_.BX)){d=new sI.Dt(a);a.C$(sI.d_.Bk);d.DY=a.C$(sI.d_.BM).value;if(a.match(sI.d_.B9)){if(b.Dl){throw a.C0("Illegal catch guard");}if(c.DX.length&&!(sI.top(c.DX).DZ)){throw a.C0("Guarded catch after unguarded");}d.DZ=sI.DN(a,b);}else{d.DZ=null;}a.C$(sI.d_.Bl);d.Cb=sI.DE(a,b);c.DX.push(d);}if(a.match(sI.d_.B5)){c.D_=sI.DE(a,b);}if(!c.DX.length&&!c.D_){throw a.C0("Invalid try statement");}return c;case sI.d_.BX:case sI.d_.B5:throw a.C0(sI.zk[zg]+" without preceding try");case sI.d_.Ck:c=new sI.Dt(a);c.Dq=sI.DN(a,b);break;case sI.d_.Cf:if(!b.C5){throw a.C0("Invalid return");}c=new sI.Dt(a);zg=a.C2();if(zg!=sI.d_.zl&&zg!=sI.d_.zm&&zg!=sI.d_.zn&&zg!=sI.d_.Bj){c.value=sI.DN(a,b);}break;case sI.d_.Cs:c=new sI.Dt(a);c.hy=sI.DJ(a,b);c.body=sI.DC(a,b,c,sI.DD);return c;case sI.d_.Co:case sI.d_.BY:c=sI.DS(a,b);break;case sI.d_.B_:c=new sI.Dt(a);break;case sI.d_.zm:case sI.d_.zn:c=new sI.Dt(a,sI.d_.zn);c.s9=null;return c;default:if(zg==sI.d_.BM){a.CN=false;zg=a.CT();a.CN=true;if(zg==sI.d_.zO){wl=a.BA().value;e=b.C6;for(cI=e.length-1;cI>=0;--cI){if(e[cI].wl==wl){throw a.C0("Duplicate label");}}a.CU();c=new sI.Dt(a,sI.d_.Bt);c.wl=wl;c.D$=sI.DC(a,b,c,sI.DD);return c;}}c=new sI.Dt(a,sI.d_.zn);a.CV();c.s9=sI.DN(a,b);c.end=c.s9.end;break;}if(a.CS==a.BA().CS){zg=a.C2();if(zg!=sI.d_.zl&&zg!=sI.d_.zm&&zg!=sI.d_.zn&&zg!=sI.d_.Bj){throw a.C0("Missing ; before statement");}}a.match(sI.d_.zn);return c;};sI.DI=function(a,b,c,d){var e=new sI.Dt(a);if(a.D0){e.D0=true;a.D0=null;}if(e.type!=sI.d_.B8){e.type=(e.value=="get")?sI.d_.BE:sI.d_.BI;}if(a.match(sI.d_.BM)){e.name=a.BA().value;}else if(c){throw a.C0("Missing function identifier");}a.C$(sI.d_.Bk);e.D1=[];var zg;while((zg=a.CU())!=sI.d_.Bl){if(zg!=sI.d_.BM){throw a.C0("Missing formal parameter");}e.D1.push(a.BA().value);if(a.CT()!=sI.d_.Bl){a.C$(sI.d_.zo);}}a.C$(sI.d_.Bi);var f=new sI.C4(true);e.body=sI.Dn(a,f);a.C$(sI.d_.Bj);e.end=a.BA().end;e.D2=d;if(d==sI.d_.DF){b.C7.push(e);}return e;};sI.DS=function(a,b){var c=new sI.Dt(a);do{a.C$(sI.d_.BM);var d=new sI.Dt(a);d.name=d.value;if(a.match(sI.d_.zE)){if(a.BA().C3){throw a.C0("Invalid variable initialization");}d.D3=sI.DN(a,b,sI.d_.zo);}d.D4=(c.type==sI.d_.BY);c.push(d);b.C8.push(d);}while(a.match(sI.d_.zo));return c;};sI.DJ=function(a,b){a.C$(sI.d_.Bk);var c=sI.DN(a,b);a.C$(sI.d_.Bl);return c;};sI.D5={zn:0,zo:1,zE:2,zG:2,zO:2,zQ:4,zR:5,zS:6,AM:7,AN:8,AO:9,AP:9,AQ:9,AR:9,AS:10,AT:10,AU:10,AV:10,Ca:10,Cc:10,AW:11,AX:11,AY:11,AZ:12,A_:12,A$:13,A0:13,A1:13,B0:14,Cp:14,Cn:14,A4:14,A6:14,A7:14,Bc:14,Bd:15,Be:15,Cd:16,Bf:17};sI.D6=[null,null,0,1,2,2,2,null,4,5,6,7,8,9,9,9,9,10,10,10,10,11,11,11,12,12,13,13,13,14,14,14,14,15,15,17,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,14,null,null,null,null,null,null,null,null,10,10,16,null,null,null,null,null,null,null,14,null,14];sI.D7={zo:-2,zE:2,zG:3,zQ:2,zR:2,zS:2,AM:2,AN:2,AO:2,AP:2,AQ:2,AR:2,AS:2,AT:2,AU:2,AV:2,Ca:2,Cc:2,AW:2,AX:2,AY:2,AZ:2,A_:-2,A$:2,A0:2,A1:2,B0:1,Cp:1,Cn:1,A4:1,A6:1,A7:1,Bc:1,Bd:1,Be:1,Cd:1,Bw:2,Bf:2,Bx:2,Bv:2,BB:1,BC:1,BJ:1};sI.D8=[null,null,null,-2,2,3,null,null,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,2,null,null,null,null,null,null,null,null,null,null,2,2,2,1,1,null,null,null,1,null,null,null,null,null,null,null,null,null,null,null,null,null,1,null,null,null,null,null,null,null,null,2,2,1,null,null,null,null,null,null,null,1,null,1];sI.DN=function(a,b,c){var d;var id;var zg;var e=[];var f=[];var g=b.Dh;var h=b.Di;var i=b.Dj;var j=b.Dk;function reduce(){var d=e.pop();var k=d.type;var Ch=sI.D8[k];if(Ch==-2){var left=f.length>=2&&f[f.length-2];if(left.type==k){var Cg=f.pop();left.push(Cg);return left;}Ch=2;}var yd=f.splice(f.length-Ch);for(var cI=0;cI<Ch;cI++){d.push(yd[cI]);}if(d.end<a.BA().end){d.end=a.BA().end;}f.push(d);return d;}loop:while((zg=a.CU())!=sI.d_.zl){if(zg==c&&b.Dh==g&&b.Di==h&&b.Dj==i&&b.Dk==j){break;}switch(zg){case sI.d_.zn:break loop;case sI.d_.zE:case sI.d_.zG:case sI.d_.zO:if(a.CN){break loop;}while(sI.top(e)&&sI.top(e).type&&(sI.D6[sI.top(e).type]>sI.D6[zg]||(zg==sI.d_.zO&&sI.top(e).type==sI.d_.zE))){reduce();}if(zg==sI.d_.zO){d=sI.top(e);if(d.type!=sI.d_.zG){throw a.C0("Invalid label");}--b.Dk;}else{e.push(new sI.Dt(a));if(zg==sI.d_.zE){sI.top(f).C3=a.BA().C3;}else{++b.Dk;}}a.CN=true;break;case sI.d_.Ca:if(b.Dm&&!b.Dk&&!b.Dh&&!b.Di&&!b.Dj){break loop;}case sI.d_.zo:case sI.d_.zQ:case sI.d_.zR:case sI.d_.zS:case sI.d_.AM:case sI.d_.AN:case sI.d_.AO:case sI.d_.AP:case sI.d_.AQ:case sI.d_.AR:case sI.d_.AS:case sI.d_.AT:case sI.d_.AU:case sI.d_.AV:case sI.d_.Cc:case sI.d_.AW:case sI.d_.AX:case sI.d_.AY:case sI.d_.AZ:case sI.d_.A_:case sI.d_.A$:case sI.d_.A0:case sI.d_.A1:case sI.d_.Bf:if(a.CN){break loop;}while(sI.top(e)&&sI.top(e).type&&sI.D6[sI.top(e).type]&&(sI.D6[sI.top(e).type]>=sI.D6[zg])){reduce();}if(zg==sI.d_.Bf){a.C$(sI.d_.BM);f.push(new sI.Dt(a,sI.d_.Bf,f.pop(),new sI.Dt(a)));}else{e.push(new sI.Dt(a));a.CN=true;}break;case sI.d_.B0:case sI.d_.Cp:case sI.d_.Cn:case sI.d_.A4:case sI.d_.A6:case sI.d_.A7:case sI.d_.Bc:case sI.d_.Cd:case sI.d_.Cu:case sI.d_.Bd:case sI.d_.Be:if(a.CN){e.push(new sI.Dt(a));}else{if(a.zk[(a.CK+a.CL-1)&3].CS!=a.CS){break loop;}while(sI.D6[sI.top(e).type]>sI.D6[zg]){reduce();}d=new sI.Dt(a,zg,f.pop());d.D9=true;f.push(d);}break;case sI.d_.B8:if(!a.CN){break loop;}f.push(sI.DI(a,b,false,sI.d_.DG));a.CN=false;break;case sI.d_.Ce:case sI.d_.Cj:case sI.d_.Cl:case sI.d_.B4:case sI.d_.BM:case sI.d_.BN:case sI.d_.BP:case sI.d_.BQ:if(!a.CN){break loop;}f.push(new sI.Dt(a));a.CN=false;break;case sI.d_.Bg:if(a.CN){d=new sI.Dt(a,sI.d_.BB);while((zg=a.CT())!=sI.d_.Bh){if(zg==sI.d_.zo){a.CU();d.push(null);continue;}d.push(sI.DN(a,b,sI.d_.zo));if(!a.match(sI.d_.zo)){break;}}a.C$(sI.d_.Bh);f.push(d);a.CN=false;}else{e.push(new sI.Dt(a,sI.d_.Bx));a.CN=true;++b.Dh;}break;case sI.d_.Bh:if(a.CN||b.Dh==g){break loop;}while(reduce().type!=sI.d_.Bx){continue;}--b.Dh;break;case sI.d_.Bi:if(!a.CN){break loop;}++b.Di;d=new sI.Dt(a,sI.d_.BC);object_init:if(!a.match(sI.d_.Bj)){do{zg=a.CU();if((a.BA().value=="get"||a.BA().value=="set")&&a.CT()==sI.d_.BM){if(b.Dl){throw a.C0("Illegal property accessor");}d.push(sI.DI(a,b,true,sI.d_.DG));}else{switch(zg){case sI.d_.BM:case sI.d_.BN:case sI.d_.BP:id=new sI.Dt(a);break;case sI.d_.Bj:if(b.Dl){throw a.C0("Illegal trailing ,");}break object_init;default:throw a.C0("Invalid property name");}a.C$(sI.d_.zO);d.push(new sI.Dt(a,sI.d_.BD,id,sI.DN(a,b,sI.d_.zo)));}}while(a.match(sI.d_.zo));a.C$(sI.d_.Bj);}f.push(d);a.CN=false;--b.Di;break;case sI.d_.Bj:if(!a.CN&&b.Di!=h){throw "PANIC: right curly botch";}break loop;case sI.d_.Bk:if(a.CN){e.push(new sI.Dt(a,sI.d_.BJ));}else{while(sI.top(e)&&sI.top(e).type&&(sI.D6[sI.top(e).type]>sI.D6[sI.d_.Cd])){reduce();}d=sI.top(e);a.CN=true;if(a.match(sI.d_.Bl)){if((d.type==sI.d_.Cd)||(d.type==sI.d_.Cu)){--e.length;d.push(f.pop());}else{d=new sI.Dt(a,sI.d_.Bv,f.pop(),new sI.Dt(a,sI.d_.BK));}f.push(d);a.CN=false;break;}if(d.type==sI.d_.Cd||(d.type==sI.d_.Cu)){if(d.type==sI.d_.Cu){d.Ea=true;}d.type=sI.d_.Bw;}else{e.push(new sI.Dt(a,sI.d_.Bv));}}++b.Dj;break;case sI.d_.Bl:if(a.CN||b.Dj==i){break loop;}while((zg=reduce().type)!=sI.d_.BJ&&zg!=sI.d_.Bv&&zg!=sI.d_.Bw){continue;}if(zg!=sI.d_.BJ){d=sI.top(f);if(d[1].type!=sI.d_.zo){d[1]=new sI.Dt(a,sI.d_.BK,d[1]);}else{d[1].type=sI.d_.BK;}}--b.Dj;break;case sI.d_.Ct:a.D0=true;break;default:break loop;}}if(b.Dk!=j){throw a.C0("Missing : after ?");}if(b.Dj!=i){throw a.C0("Missing ) in parenthetical");}if(b.Dh!=g){throw a.C0("Missing ] in index expression");}if(a.CN){throw a.C0("Missing operand");}a.CN=true;a.CV();while(e.length){reduce();}return f.pop();};sI.parse=function(a,b,c){sI.zj=[];var CB=new sI.CI(a,b,c);var _=new sI.C4(false);var d=sI.Dn(CB,_);if(!CB.done()){throw CB.C0("Syntax error");}return {data:d,Eb:sI.zj};};/* (C) 2021 Halo Automation Systems LLC; This software is proprietary and is NOT to be distributed or shared in any way.*/"use strict";var sJ={};var Ec=0;if(typeof require!="undefined"){}sJ.Ed=function(a,b){var c=[];c=c.concat(60,101,60,128,153,162,a,62);if(b){c=c.concat(122,153,60,b,62);}return c.concat(62);};sJ.sK=function(a,b,c,d){this.sq={Ee:1,sT:[],Ef:[],Eg:[],Eh:[[147]],options:{Ei:false},sQ:[],Ej:false,Ek:[[]],El:[[]],Em:[],En:false,Eo:[],Ep:false,Eq:c?c:be.cn("/company/device/paragonrobotics.com/product/PR3/GW2/1/workspace/1")};this.jH=a;this.Er=b;this.Es=(d!=null)?d:1;};sJ.sK.prototype.cn=function(a){if(a.type==sI.d_.BP){return be.cn(a.value);}else if(a.type==sI.d_.BN){return be.cj(a.value);}else{return this.ta(a);}};sJ.sK.prototype.Et=function(a){var b=[];if(a.type==sI.d_.AZ){var c=this.Et(a[0]);var d=this.Et(a[1]);return b.concat(60,101,be.cn("/route/add"),122,200,c,122,201,d,62);}else if(a.type==sI.d_.BM){var c=this.cn(a);return b.concat(60,101,c,62);}else if(a.type==sI.d_.BP){var e=a.value.replace("thisApp","local/"+this.Es);var c=this.Eu(e);return b.concat(60,97,c,62);}};sJ.sK.prototype.Ev=function(a){var b=[];if(a.type!=sI.d_.Bv){throw new Error("Invalid call format");}if((a[0].type==sI.d_.Bf)&&(a[0][0].type==sI.d_.BM)&&(a[0][0].value=="Math")){if(a[0][1].value=="random"){throw new Error("Math.random has been deprecated");}var c=this.ta(a[1][0]);c=be.dh(c);if(a[0][1].value=="lookup"){var d=a[1][1];var e=[];for(var cI=0;cI<d.length;cI++){e.push(this.ta(d[cI]).slice(1));}if(e.length%2){throw new Error("Lookup table length must be even");}if(e.length>24){throw new Error("Lookup table length must be 24 rows or less");}var y8=[];for(var cI=0;cI<d.length;cI++){y8=y8.concat(e[cI]);}var f=be.df(y8);if(f.length>250){throw new Error("Lookup table is too long.");}return b.concat(60,101,be.cn("/number/dimension"),122,223,c,122,236,60,97,f,62,62);}if(a[0][1].value=="pow"){var g=this.ta(a[1][1]);g=be.dh(g);return b.concat(60,101,be.cn("/number/pow"),122,200,c,122,201,g,62);}else if(a[0][1].value=="sin"){return b.concat(60,101,be.cn("/number/sin"),122,200,c,62);}else if(a[0][1].value=="cos"){return b.concat(60,101,be.cn("/number/cos"),122,200,c,62);}else if(a[0][1].value=="tan"){return b.concat(60,101,be.cn("/number/tan"),122,200,c,62);}else if(a[0][1].value=="asin"){return b.concat(60,101,be.cn("/number/asin"),122,200,c,62);}else if(a[0][1].value=="acos"){return b.concat(60,101,be.cn("/number/acos"),122,200,c,62);}else if(a[0][1].value=="atan"){return b.concat(60,101,be.cn("/number/atan"),122,200,c,62);}else if(a[0][1].value=="sinh"){return b.concat(60,101,be.cn("/number/sinh"),122,200,c,62);}else if(a[0][1].value=="cosh"){return b.concat(60,101,be.cn("/number/cosh"),122,200,c,62);}else if(a[0][1].value=="tanh"){return b.concat(60,101,be.cn("/number/tanh"),122,200,c,62);}else if(a[0][1].value=="asinh"){return b.concat(60,101,be.cn("/number/asinh"),122,200,c,62);}else if(a[0][1].value=="acosh"){return b.concat(60,101,be.cn("/number/acosh"),122,200,c,62);}else if(a[0][1].value=="atanh"){return b.concat(60,101,be.cn("/number/atanh"),122,200,c,62);}else if(a[0][1].value=="log"){return b.concat(60,101,be.cn("/number/log"),122,200,c,62);}else if(a[0][1].value=="exp"){return b.concat(60,101,be.cn("/number/exp"),122,200,c,62);}else if(a[0][1].value=="abs"){return b.concat(60,101,be.cn("/number/abs"),122,200,c,62);}else if(a[0][1].value=="sqrt"){return b.concat(60,101,be.cn("/number/sqrt"),122,200,c,62);}else if(a[0][1].value=="floor"){return b.concat(60,101,be.cn("/number/floor"),122,200,c,62);}else if(a[0][1].value=="round"){return b.concat(60,101,be.cn("/number/round"),122,200,c,62);}else if(a[0][1].value=="ceil"){return b.concat(60,101,be.cn("/number/ceil"),122,200,c,62);}else if(a[0][1].value=="fromString"){return b.concat(60,101,be.cn("/number/change"),122,200,c,62);}else{throw new Error("Invalid Math function call: "+a[0][1].value);}return b;}else if((a[0].type==sI.d_.Bf)&&(a[0][0].type==sI.d_.BM)&&(a[0][0].value=="String")){if(a[0][1].value=="fromNumber"){var c=this.ta(a[1][0]);c=be.dh(c);b=b.concat(60,101,be.cn("/string/change"),122,200,c);if(a[1][1]){var g=this.ta(a[1][1]);g=be.dh(g);b=b.concat(122,201,g);}if(a[1][2]){var h=this.ta(a[1][2]);h=be.dh(h);b=b.concat(122,202,h);}if(a[1][3]){var i=this.ta(a[1][3]);i=be.dh(i);b=b.concat(122,203,i);}return b.concat(62);}else if(a[0][1].value=="concat"){var c=this.ta(a[1][0]);var g=this.ta(a[1][1]);c=be.dh(c);g=be.dh(g);return b.concat(60,101,be.cn("/string/add"),122,200,c,122,201,g,62);}else if(a[0][1].value=="slice"){var c=this.ta(a[1][0]);c=be.dh(c);b=b.concat(60,101,be.cn("/string/subtract"),122,200,c);var g=this.ta(a[1][1]);g=be.dh(g);b=b.concat(122,201,g);if(a[1][2]){var h=this.ta(a[1][2]);h=be.dh(h);b=b.concat(122,202,h);}return b.concat(62);}else if(a[0][1].value=="split"){var c=this.ta(a[1][0]);c=be.dh(c);b=b.concat(60,101,be.cn("/string/divide"),122,154,c);var g=this.ta(a[1][1]);g=be.dh(g);b=b.concat(122,150,g);var h=this.ta(a[1][2]);h=be.dh(h);b=b.concat(122,236,h);return b.concat(62);}}else if((a[0].type==sI.d_.Bf)&&(a[0][0].type==sI.d_.BM)&&(a[0][0].value=="clock")){if(a[1][0]&&(a[1][0].type==sI.d_.BC)){this.Ew("clock function argument cannot be an object.",a[0]);}if(a[0][1].value=="getTime"){var target=null;if(a[1][0]){target=this.ta(a[1][0]);}return sJ.Ed(159,target);}else if(a[0][1].value.slice(0,4)=="read"){var target=null;if(a[1][0]){target=this.ta(a[1][0]);}if(a[0][1].value=="readFullYear"){return sJ.Ed(200,target);}else if(a[0][1].value=="readMonth"){return sJ.Ed(201,target);}else if(a[0][1].value=="readDate"){return sJ.Ed(202,target);}else if(a[0][1].value=="readHour"){return sJ.Ed(203,target);}else if(a[0][1].value=="readMinute"){return sJ.Ed(204,target);}else if(a[0][1].value=="readSecond"){return sJ.Ed(205,target);}else if(a[0][1].value=="readMinisecond"){return sJ.Ed(206,target);}else if(a[0][1].value=="readDayOfWeek"){return sJ.Ed(207,target);}}else if(a[0][1].value=="write"){b=b.concat(60,101,60,128,153,171,62);try{for(var dz=0;dz<6;dz++){var target=this.ta(a[1][dz]);if(target){b=b.concat(122,200+dz,60,target,62);}}}catch(j){}return b.concat(62);}else if(a[0][1].value=="wait"){b=b.concat(60,101,60,128,153,199,62);var value=this.ta(a[1][0]);b=b.concat(122,199,60,value,62);return b.concat(62);}}else if((a[0].type==sI.d_.Bf)&&(a[0][0].type==sI.d_.BM)&&(a[0][0].value=="haloS")){if(a[0][1].value=="writeValueSync"){var k=false;var target=[];if(a[1][0].type==sI.d_.BP){var l=a[1][0].value.replace("thisApp","local/"+this.Es);target=target.concat(60,97,this.Eu(l),62);}else if(a[1][0].type==sI.d_.Bv){if(a[1][0][0].value=="arrayIndex"){if(a[1][0][1][0].type==sI.d_.BP){var l=a[1][0][1][0].value.replace("thisApp","local/"+this.Es);}target=target.concat();}target=target.concat(60,101,be.cn("/number/dimension"),122,212,60,101,this.Eu(l),62,122,236,60,this.ta(a[1][0][1][1]),62,62);k=true;}else if(a[1][0].type==sI.d_.AZ){var target=this.Et(a[1][0]);if(target==null){this.Ew("First argument must be a valid target: "+a[1][0].type,a[1][0]);}}else if(a[1].type==sI.d_.BC){this.Ew("haloS.writeValueSync 2nd argument cannot be an object.",a[0]);}else{target=target.concat(60,97,this.ta(a[1][0]),62);}if(a[1][1]==null){this.Ew("haloS.writeValueSync must have two arguments: "+a[0].type,a[0]);}var c=be.dh(this.ta(a[1][1]));var method=k?"/route/change/response/target":"/route/change/response";b=b.concat(60,101,be.cn(method),122,be.cn("target"),target,122,be.cn("value"),c,62);return b;}else if((a[0][1].value=="readValueSync")||(a[0][1].value=="callFunctionSync")){var target=[];if(a[1][0].type==sI.d_.BP){var l=a[1][0].value.replace("thisApp","local/"+this.Es);target=target.concat(60,101,this.Eu(l));}else if(a[1][0].type==sI.d_.Bv){if(a[1][0][0].value=="arrayIndex"){if(a[1][0][1][0].type==sI.d_.BP){var l=a[1][0][1][0].value.replace("thisApp","local/"+this.Es);}target=target.concat();}target=target.concat(60,101,be.cn("/number/dimension"),122,212,60,101,this.Eu(l),62,122,236,60,this.ta(a[1][0][1][1]),62,62);}else{var result=this.Et(a[1][0]);if(result==null){this.Ew("First argument must be a valid target: "+a[1][0].type,a[1][0]);}target=target.concat(60,101,be.cn("/route/target"),122,be.cn("reserved/target"),result);}b=b.concat(target);if(a[1][1]){b=b.concat(this.Ex(a[1][1]));}b.push(62);return b;}else if(a[0][1].value=="readLevel"){var hx=be.cn("/route/read");if(a[1][0].type==sI.d_.BP){var l=a[1][0].value.replace("thisApp","local/"+this.Es);var target=this.Eu(l);}else{this.Ew("First argument must be a string: "+a[0].type,a[0]);}b=b.concat(60,101,hx,122,223,60,101,target,62,62);return b;}}else if((a[0].type==sI.d_.Bf)&&(a[0][0].type==sI.d_.BM)&&(a[0][0].value=="encode")){if(a[0][1].value=="encodeTarget"){return b.concat(97,be.cs(a[1][0].value));}else if(a[0][1].value=="concatenateTargets"){var c=this.cn(a[1][0]);var g=this.cn(a[1][1]);c=be.dh(c);g=be.dh(g);return b.concat(60,101,be.cn("/route/add"),122,200,c,122,201,g,62);}else if(a[0][1].value=="encodeNumber"){var c=this.cn(a[1][0]);return b.concat(60,101,be.cn("/route/encode"),122,200,c,62);}}else if((a[0].type==sI.d_.Bf)&&(a[0][0].type==sI.d_.BM)&&(a[0][0].value.slice(0,7)!="thisApp")){this.Ew("First portion of call is invalid: "+a[0][0].value,a[0]);}else if((a[0].type==sI.d_.BM)||(a[0].type==sI.d_.Bf)||(a[0].type==sI.d_.Bx)){var c=this.ta(a[0]);c=be.dh(c);return c;}this.Ew("Function call is not valid: "+a[0].type,a[0]);};sJ.sK.prototype.Eu=function(a){if(a[0]=="/"){a=a.slice(1);var b=true;}var c=a.split("/");var v0=[];for(var cI=0;cI<c.length;cI++){var Bp=this.Ey(c[cI]);if(Bp==null){continue;}Bp=be.cv(Bp);v0=v0.concat(Bp);}if(b){v0.unshift(128);}v0=be.dh(v0);return v0;};sJ.sK.prototype.Ex=function(a){var b=[];if(a!=null){for(var cI=0;cI<a.length;cI++){var c=this.Ey(a[cI][0].value);var d=this.ta(a[cI][1],this.sq);c=be.dh(c);d=be.dh(d);b=b.concat(122,c,d);}}return b;};sJ.sK.prototype.Ew=function(a,b){throw new Error("Error: "+a+" (line "+b.CS+")");};sJ.sK.prototype.Ez=function(a){var b=[];this.sq.Ek.push([]);this.sq.El.push([]);if((a.type==sI.d_.Bs)||(a.type==sI.d_.BJ)){var c=[];c=c.concat(60,101,60,128,175,189,164,62);var d=0;var e=null;for(var cI=0;cI<a.length;++cI){var f=this.Ez(a[cI]);for(var dz=0;dz<f.length;dz++){c=c.concat(122,be.cj(++d),f[dz]);e=f[dz].concat();}}c.push(62);if(d===0){c=[60,62];}else if(d===1){c=e;}b.push(c);}else if(a.type==sI.d_.Bv){var c=this.Ev(a);b.push(c);}else if(a.type==sI.d_.Co){var g=true;var h=[];if((a[0]==null)||(a[0].D3==null)){g=false;}var i=false;var j=this.sq.sQ[this.sq.sQ.length-1];for(var cI=0;cI<this.sq.sT.length;cI++){if((this.sq.sT[cI].sN==a[0].value)&&(this.sq.sT[cI].sQ==j)){i=true;var k=this.sq.sT[cI].sO;break;}}if(!i){var d=1;while(1){var k=be.cn("local/"+this.Es+"/temporary/"+(d++)+"/reserved/");var l=false;for(var cI=0;cI<this.sq.sT.length;cI++){if(v.D(this.sq.sT[cI].sO,k)===true){l=true;break;}}if(l===false){break;}}var m={sO:k.concat(),EA:be.cn((d-1)+"/reserved/"),sN:a[0].value,sQ:j};this.sq.sT.push(m);}if(g){var n=this.ta(a[0].D3,this.sq);n=be.dh(n);h=h.concat(60,101,be.cn("/route/change/response"),122,be.cn("value"),n,122,be.cn("target"),60,97,k,62,62);}b.push(h);}else if(a.type==sI.d_.B9){var o=this.EB(a.CQ);var h=[];h=h.concat(60,101,be.cn("/route/if"),122,156,o);if(a.DK!=null){var p=this.Ez(a.DK);if(p.length>0){h=h.concat(122,200,p[0]);}}if(a.DL!=null){var q=this.Ez(a.DL);if(q.length>0){h=h.concat(122,201,q[0]);}}h.push(62);b.push(h);}else if(a.type==sI.d_.Cr){var o=this.EB(a.CQ);var h=[];h=h.concat(60,101,be.cn("/route/refresh"),122,156,o);if(a.body!=null){var r=this.Ez(a.body);if(r.length>0){h=h.concat(122,200,r[0]);}}h.push(62);b.push(h);}else if(a.type==sI.d_.Cm){var s=this.Ez(a.DW);if(s.length===0){s=[60,62];}else{s=s[0];}var t=this.Ez(a.DX[0].Cb);if(t.length===0){t=[60,62];}else{t=t[0];}var h=[];h=h.concat(60,101,be.cn("/route/check"),122,156,s,122,183,t,62);b.push(h);}else if(a.type==sI.d_.B6){var u=this.Ez(a.DV);for(var Iw=0;Iw<u.length;Iw++){this.sq.Ek[this.sq.Ek.length-1].unshift(u[Iw]);}if(a.CQ!=null){var o=this.EB(a.CQ);}else{o=[60,97,1,1,62];}var h=[];h=h.concat(60,101,be.cn("/route/refresh"),122,156,o);if(a.body!=null){var r=this.Ez(a.body);}if(a.update!=null){var Ix=this.Ez(a.update);}else{Ix=[];}var Iy=[];Iy=Iy.concat(60,101,be.cn("/route/container/larger"),122,1,1,r[0]);var d=2;for(var dz=0;dz<Ix.length;dz++){Iy=Iy.concat(122,be.cj(d++),Ix[dz]);}Iy.push(62);h=h.concat(122,200,Iy);h.push(62);b.push(h);}else if(a.type==sI.d_.zn){b=this.Ez(a.s9);}else if(a.type==sI.d_.zE){if(a.length!==2){throw new Error("Assign is not valid");}var Iz=this.ta(a[0]);var target=[];target=target.concat(97,Iz.slice(1));var IA=this.ta(a[1]);if(a.value!="="){var type;if(a.value=="+"){type=sI.d_.AZ;}else if(a.value=="-"){type=sI.d_.A_;}else if(a.value=="*"){type=sI.d_.A$;}else if(a.value=="/"){type=sI.d_.A0;}else if(a.value=="%"){type=sI.d_.A1;}else if(a.value=="|"){type=sI.d_.zS;}else if(a.value=="^"){type=sI.d_.AM;}else if(a.value=="&"){type=sI.d_.AN;}else if(a.value=="<<"){type=sI.d_.AW;}else if(a.value==">>"){type=sI.d_.AX;}IA=this.EI(Iz,IA,type);}var h=[];IA=be.dh(IA);h=h.concat(60,101,be.cn("/route/change/response"),122,be.cn("value"),IA,122,be.cn("target"),60,target,62,62);b.push(h);}else if(a.type==sI.d_.Cf){if(a.value&&a.value.type){var IC=this.ta(a.value);b.push(IC);}var ID=[];ID=ID.concat(60,101,60,128,175,183,62,122,223,60,97,189,62,62);b.push(ID);}else if(a.type==sI.d_.BR){var IE=[];IE=IE.concat(60,101,60,128,175,183,62,122,223,60,97,164,62,62);b.push(IE);}else if(a.type==sI.d_.B1){throw new Error("DO/WHILE calls are not allowed");}else if(a.type==sI.d_.Cm){throw new Error("TRY/CATCH blocks are not allowed");}else if(a.type==sI.d_.Bu){throw new Error("FOR/IN calls are not allowed");}else if((a.type==sI.d_.Bd)||(a.type==sI.d_.Be)){b.push(this.EM(a,true));}var IF=this.sq.Ek.pop();for(var dz=0;dz<IF.length;dz++){b.unshift(IF[dz]);}var IG=this.sq.El.pop();for(var dz=0;dz<IG.length;dz++){b.push(IG[dz]);}return b;};sJ.sK.prototype.EB=function(a){var b=true;var c=true;var d=false;var e=[60,101];if(a.type==sI.d_.BJ){return this.EB(a[0]);}else if(a.type==sI.d_.AS){e=e.concat(be.cn("/number/compare/smaller"));}else if(a.type==sI.d_.AT){e=e.concat(be.cn("/number/boolean/not"),122,200,60,101,be.cn("/number/compare/larger"));d=true;}else if(a.type==sI.d_.AV){e=e.concat(be.cn("/number/compare/larger"));}else if(a.type==sI.d_.AU){e=e.concat(be.cn("/number/boolean/not"),122,200,60,101,be.cn("/number/compare/smaller"));d=true;}else if((a.type==sI.d_.AO)||(a.type==sI.d_.AQ)){e=e.concat(be.cn("/number/compare/equal"));}else if((a.type==sI.d_.AP)||(a.type==sI.d_.AR)){e=e.concat(be.cn("/number/boolean/not"),122,200,60,101,be.cn("/number/compare/equal"));d=true;}else if(a.type==sI.d_.zR){e=e.concat(be.cn("/number/boolean/and"));}else if(a.type==sI.d_.zQ){e=e.concat(be.cn("/number/boolean/or"));}else if(a.type==sI.d_.AM){e=e.concat(be.cn("/number/boolean/xor"));}else if(a.type==sI.d_.A4){e=e.concat(be.cn("/number/boolean/not"));c=false;}else if((a.type==sI.d_.Bd)||(a.type==sI.d_.Be)){return this.EM(a);}else if((a.type==sI.d_.Bf)||(a.type==sI.d_.BM)||(a.type==sI.d_.Bv)){var e=this.ta(a);e=be.dh(e);return e;}else{throw new Error("Unsupported conditional "+a.type+" (accepted types are "+"<, <=, >, >=, !, ^, and ===) (line "+a.CS+")");}if(b){var f=this.ta(a[0]);f=be.dh(f);e=e.concat(122,200,f);}if(c){var g=this.ta(a[1]);g=be.dh(g);e=e.concat(122,201,g);}e.push(62);if(d){e.push(62);}return e;};sJ.sK.prototype.sU=function(a){if(a==null){return;}this.sq.sQ.push(a);if(a.body.type!=sI.d_.Bm){throw new Error("Function body not valid");}var b=[];for(var cI=0;cI<a.D1.length;cI++){var c=this.Ey("local/"+this.Es+"/message/"+a.D1[cI]);this.sq.Ef.push({match:a.D1[cI],target:c});b=b.concat(94,c,this.Ey(a.D1[cI]));}var d=1;for(var cI=0;cI<a.body.length;cI++){var e=a.body[cI];if(e.type==sI.d_.zn){if(e.s9){var f=this.Ez(e.s9);}}else{var f=this.Ez(e);}for(var dz=0;dz<f.length;dz++){if((dz==(f.length-1))&&(cI==(a.body.length-1))){if(v.D(f[dz],[60,101,60,128,175,183,62,122,223,60,97,60,128,175,183,189,163,62,62,62])){continue;}}f[dz]=be.dh(f[dz]);b=b.concat(122,be.cj(d++),f[dz]);}}if(a.body.length>1){}else{}for(var cI=0;cI<a.D1.length;cI++){this.sq.Ef.push(a.D1[cI]);b=b.concat(122,be.cn(a.D1[cI]),60,97,1,0,62);}this.sq.Ef=[];if((a.body.length<=1)&&f&&(f.length===1)&&(!a.D1.length)){var g=[];g=g.concat(f[0]);}else{var g=[];g=g.concat(101,60,128,175,189,163,62,b);}this.sq.sQ.pop();return g;};sJ.sK.prototype.EN=function(a){var b=[];if(a.type!=sI.d_.BD){throw new Error("Invalid declaration (must be in object literal notation (e.g. foobar: value,)) (line "+a.CS+")");}if(a[0].value=="_type"){var type=be.cn(a[1].value);b=b.concat(101,type);}else if(a[0].value=="_typeOther"){for(var cI=0;cI<a[1].length;cI++){var type=be.cn(a[1][cI].value);b=b.concat(101,type);}}else if(a[0].value=="_response"){var c=this.ta(a[1]);c.pop();c.shift();c.shift();b=b.concat(97,c);}else if(a[0].value=="temporary"){this.sq.Em=this.sq.Em.concat(this.ta(a[1]));b=[];}else{var d=this.Ey(a[0].value);var e=d;if(this.sq.options.Ei){this.sq.Eh.push(e);}var c=this.ta(a[1]);c=be.dh(c);if(this.sq.options.Ei){this.sq.Eh.pop();}c=be.dh(c);b=b.concat(122,e,c);}return b;};sJ.sK.prototype.ta=function(a){var b=[];if(a.type==sI.d_.BC){var c=[];for(var cI=0;cI<a.length;cI++){c=c.concat(this.EN(a[cI],this.sq));}return c;}else if((a.type==sI.d_.Bs)||(a.type==sI.d_.BJ)){return this.ta(a[0]);}else if(a.type==sI.d_.BN){return b.concat(97,be.cj(a.value));}else if(a.type==sI.d_.BP){return b.concat(97,be.cs(a.value));}else if(a.type==sI.d_.BB){var d=[];for(var cI=0;cI<a.length;cI++){d.push(a[cI].value);}return b.concat(97,be.df(d));}else if(a.type==sI.d_.Ce){return b.concat(60,62);}else if(a.type==sI.d_.Cl){return b.concat(97,be.cj(1));}else if(a.type==sI.d_.B4){return b.concat(97,be.cj(0));}else if(a.type==sI.d_.Bv){return b.concat(this.Ev(a));}else if(a.type==sI.d_.Bx){if(a.length!==2){throw new Error("Function call is not valid");}var e=this.EO(a,true);return b.concat(101,e);}else if(a.type==sI.d_.Bf){if(a.length!==2){throw new Error("Function call is not valid");}var e=this.EO(a[0],true);var f=this.EO(a[1]);var g=be.d2(e,f);return b.concat(101,g);}else if(a.type==sI.d_.Cj){throw new Error("Invalid reference to 'this'");}else if(a.type==sI.d_.B8){var h=this.sU(a);return h;}else if(a.type==sI.d_.Cd){if(a[0]&&a[0].type==sI.d_.BM&&a[0].value=="Date"){return b.concat(101,60,128,153,197,62);}else{throw new Error("Only Date objects are allowed to be intantiated (new Date())");}}else if(a.type==sI.d_.BM){if(a.value=="reserved"){throw new Error("Identifier contains the string 'reserved', which is invalid "+"and reserved for internal use (line "+a.CS+")");}var i=false;var sO;var j=this.sq.sQ[this.sq.sQ.length-1];for(cI=this.sq.sT.length-1;cI>=0;cI--){if((this.sq.sT[cI].sN==a.value)&&(this.sq.sT[cI].sQ==j)){i=true;sO=this.sq.sT[cI].sO;break;}}if(!i){for(var cI=0;cI<this.sq.Ef.length;cI++){if(this.sq.Ef[cI].match==a.value){i=true;sO=this.sq.Ef[cI].target;break;}}}if(!i){throw new Error("Invalid identifier '"+a.value+"' found on line "+a.CS);}return b.concat(101,sO);}else if((a.type==sI.d_.AS)||(a.type==sI.d_.AV)||(a.type==sI.d_.AT)||(a.type==sI.d_.AU)||(a.type==sI.d_.AQ)||(a.type==sI.d_.zR)||(a.type==sI.d_.zQ)||(a.type==sI.d_.A4)||(a.type==sI.d_.AR)||(a.type==sI.d_.AO)||(a.type==sI.d_.AP)){return this.EB(a);}else if((a.type==sI.d_.AZ)||(a.type==sI.d_.A_)||(a.type==sI.d_.A$)||(a.type==sI.d_.A0)||(a.type==sI.d_.A1)||(a.type==sI.d_.zS)||(a.type==sI.d_.AN)||(a.type==sI.d_.AM)||(a.type==sI.d_.AW)||(a.type==sI.d_.AX)){var k=this.EP(a);if(k!=null){return b.concat(97,be.cj(k));}else{var e=this.ta(a[0]);var f=this.ta(a[1]);return this.EI(e,f,a.type);}}else if(a.type==sI.d_.Bc){var k=this.EP(a);if(k!=null){Ec++;return b.concat(97,be.cj(k));}var e=this.ta(a[0]);var b=[];b=b.concat(60,101,be.cn("/number/multiply"),122,200,e,122,201,60,97,be.cj(-1),62,62);return b;}else if(a.type==sI.d_.A7){var k=this.EP(a);if(k!=null){return b.concat(97,be.cj(k));}return this.ta(a[0]);}else if((a.type==sI.d_.Bd)||(a.type==sI.d_.Be)){return this.EM(a);}else if(a.type==sI.d_.zG){var l=this.EB(a[0]);var b=[];b=b.concat(60,101,be.cn("/route/if"),122,156,l);var m=this.Ez(a[1]);if(m.length>0){b=b.concat(122,200,m[0]);}var n=this.Ez(a[2]);if(n.length>0){b=b.concat(122,201,n[0]);}b.push(62);return b;}else{throw new Error("Invalid object type found (line "+a.CS+")"+"(type is "+a.type+")");}};sJ.sK.prototype.EP=function(a){if((a)&&(a.type==sI.d_.BN)){return a.value;}if(a.type==sI.d_.AZ){var b=this.EP(a[0]);var c=this.EP(a[1]);if((b!=null)&&(c!=null)){return b+c;}}else if(a.type==sI.d_.A_){var b=this.EP(a[0]);var c=this.EP(a[1]);if((b!=null)&&(c!=null)){return b-c;}}else if(a.type==sI.d_.A$){var b=this.EP(a[0]);var c=this.EP(a[1]);if((b!=null)&&(c!=null)){return b*c;}}else if(a.type==sI.d_.A0){var b=this.EP(a[0]);var c=this.EP(a[1]);if((b!=null)&&(c!=null)){return b/c;}}else if(a.type==sI.d_.A1){var b=this.EP(a[0]);var c=this.EP(a[1]);if((b!=null)&&(c!=null)){return b%c;}}else if(a.type==sI.d_.Bc){var b=this.EP(a[0]);if((b!=null)){return -b;}}else if(a.type==sI.d_.A7){var b=this.EP(a[0]);if((b!=null)){return b;}}};sJ.sK.prototype.EM=function(a,b){if(a.type==sI.d_.Bd){var c=be.cn("/number/add");var d=be.cn("/number/subtract");}else{var c=be.cn("/number/subtract");var d=be.cn("/number/add");}var e=be.dh(this.ta(a[0]).concat());var f=[];var g=[];g=g.concat(60,101,c,122,200,e,122,201,60,97,1,1,62,62);var DY=be.dh(this.ta(a[0]).slice(1));f=f.concat(60,101,be.cn("/route/change/response"),122,223,g,122,212,60,97,DY,62,62);if(b){return f;}var h=[60,101,60,128,175,189,164,62];h=h.concat(122,1,1,f);if(a.D9){h=h.concat(122,1,2,60,101,d,122,200,DY,122,201,60,97,1,1,62,62);}else{h=h.concat(122,1,2,60,101,DY,62);}h.push(62);return h;};sJ.sK.prototype.EI=function(a,b,c){a=be.dh(a.concat());b=be.dh(b.concat());if(c==sI.d_.AZ){var d=[];d=d.concat(60,101,be.cn("/number/add"),122,200,a,122,201,b,62);return d;}else if(c==sI.d_.A_){var d=[];d=d.concat(60,101,be.cn("/number/subtract"),122,200,a,122,201,b,62);return d;}else if(c==sI.d_.A$){var d=[];d=d.concat(60,101,be.cn("/number/multiply"),122,200,a,122,201,b,62);return d;}else if(c==sI.d_.A0){var d=[];d=d.concat(60,101,be.cn("/number/divide"),122,200,a,122,201,b,62);return d;}else if(c==sI.d_.A1){var d=[];d=d.concat(60,101,be.cn("/number/modulo"),122,200,a,122,201,b,62);return d;}else if(c==sI.d_.zS){var d=[];d=d.concat(60,101,be.cn("/number/basic/or"),122,200,a,122,201,b,62);return d;}else if(c==sI.d_.AM){var d=[];d=d.concat(60,101,be.cn("/number/basic/xor"),122,200,a,122,201,b,62);return d;}else if(c==sI.d_.AN){var d=[];d=d.concat(60,101,be.cn("/number/basic/and"),122,200,a,122,201,b,62);return d;}else if(c==sI.d_.AW){var d=[];d=d.concat(60,101,be.cn("/number/basic/begin"),122,200,a,122,201,b,62);return d;}else if(c==sI.d_.AX){var d=[];d=d.concat(60,101,be.cn("/number/basic/end"),122,200,a,122,201,b,62);return d;}};sJ.sK.prototype.EO=function(a,b){if(a.type==sI.d_.Bf){if(a.length!==2){throw new Error("Function call is not valid");}var c=this.EO(a[0],b);var d=this.EO(a[1]);return be.d2(c,d);}else if((a.type==sI.d_.Bx)&&((a[1].type==sI.d_.BP)||(a[1].type==sI.d_.BN))){var c=this.EO(a[0],b);var d=be.cn(""+a[1].value);return be.d2(c,d);}else if(a.type==sI.d_.Cj){throw new Error("The 'this' keyword is not allowed in an app (line "+a.CS+")");}else if(a.type==sI.d_.BM){if(a.value=="reserved"){throw new Error("Identifier contains the string 'reserved', which is"+" invalid and reserved for internal use (line "+a.CS+")");}if(a.value=="thisApp"){this.sq.En=true;if(this.sq.Ep){return this.sq.Eq;}else{var e=[60,146];e=e.concat(be.cj(this.Es));e.push(62);return e;}}else{var f=false;var sO;if(b){for(cI=this.sq.sT.length-1;cI>=0;cI--){if(this.sq.sT[cI].sN==a.value){f=true;EQ=this.sq.sT[cI].sO;break;}}}if(!f){var EQ=this.Ey(a.value);if(this.sq.En){var g=false;for(var cI=0;cI<this.sq.Eo.length;cI++){if(v.D(this.sq.Eo[cI],EQ)){g=true;break;}}if(!g){this.sq.Eo.push(EQ);}this.sq.En=false;}}return EQ;}}else if(a.type==sI.d_.Bv){throw new Error("Invalid call inside dot string (line "+a.CS+")");}};sJ.sK.prototype.ER=function(a){if(typeof (a)==sI.d_.BP){return be.cn(a.replace(/_/g,"/"));}return be.cn(""+a);};sJ.sK.prototype.Ey=function(a){if(a.length&&a[0]=="_"){a=a.slice(1);}if(a.toLowerCase()!=a){var b=[];var c="";for(var cI=0;cI<a.length;cI++){if(a[cI]!=a[cI].toLowerCase()){if(c.length){b=be.d2(b,be.cn(c));}c=a[cI].toLowerCase();}else{c+=a[cI];}}if(c.length){b=be.d2(b,be.cn(c));}return b;}return be.cn(a);};sJ.sK.prototype.sL=function(){var a=[];var b=[];var c=[];var jH=this.jH;if(jH.type!=sI.d_.Bm){throw new Error("Program is not a valid Javascript program");}if(jH.length!==1){throw new Error("Program must only contain a resource object"+" at the root level, and nothing else");}if((jH[0].type!=sI.d_.zn)||(jH[0].s9.type!=sI.d_.zE)||(jH[0].s9[0].type!=sI.d_.Bf)||(jH[0].s9[0][0].value!="halo")||(jH[0].s9[0][1].value!="application")){throw new Error("Root resource declaration must be in the following format: halo."+"application = {...};");}var c=this.ta(jH[0].s9[1]);var d=[60];for(var cI=0;cI<this.Er.length;cI++){var name=this.Er[cI][0].name;var Bq=this.sU(this.Er[cI][0].D3);Bq=be.dh(Bq);d=d.concat(122,this.Ey(name),Bq);}d.push(62);var e=cP.de(d);var f=this.sq.Em;for(var cI=0;cI<this.sq.sT.length;cI++){f=f.concat(122,this.sq.sT[cI].EA,60,97,1,0,62);}var g=[];if(f&&f.length){g=g.concat(122,243,60,50,101,60,128,248,243,62,122,60,145,197,62,60,f,62,122,60,145,250,62,60,62,62);}var h=cP.de(be.dh(c));h["code"]=e;if(h["machine"]==null){h["machine"]={_type:"/machine/container"};}c=cP.c7(h);c=be.cv(c);var Eo=[];var i=new cP.jH(c);var j=new cP.hO(i);while((j.dn<j.ki.data.length)){if((j.ki.data[j.dn]===122)&&(j.ki.data[j.dn+1]===175)&&(j.ki.data[j.dn+3]!==62)){c.splice(j.dn+3,0,50);}else if((j.ki.data[j.dn]===122)&&(j.ki.data[j.dn+1]===181)&&(j.ki.data[j.dn+3]!==62)){c.splice(j.dn+3,0,50);}j.jW(true);}var i=new cP.jH(c);var j=new cP.hO(i);j.dn=0;while((j.ki.data[j.dn]<122)&&(j.dn<j.ki.data.length)){j.jW(true);}var save=j.dn;j.dn=0;while((j.dn<j.ki.data.length)){if((j.ki.data[j.dn]===122)&&(j.ki.data[j.dn+1]===248)){c.splice(j.dn+3,0,49);break;}j.jW(true);}j.dn=save;var k=c.slice(0,j.dn).concat(g);k=k.concat(c.slice(j.dn));var l=false;Eo=Eo.concat(94,60,146,be.cj(this.Es),175,62,175,94,60,146,be.cj(this.Es),181,62,181,94,60,146,be.cj(this.Es),194,62,194,94,60,146,be.cj(this.Es),243,62,243,94,60,146,be.cj(this.Es),248,62,248);a=a.concat(60,Eo,k,62);return a;};sJ.sK.prototype.ES=function(a){var hash=0;for(var cI=0;cI<a.length;cI++){hash+=a.charCodeAt(cI);}return (hash%256);};sJ.ET=function(a){var b=8;var c=[];while(a.length){var d=a.slice(0,1020);a.splice(0,1020);var e=[(b+((d.length>>8)&255)),(d.length&255)];e=e.concat(d);if(a.length>0){e.push(b+4);}else{e.push(0);}e.push(0);b+=4;c=c.concat(e);}return c;};/* (C) 2021 Halo Automation Systems LLC; This software is proprietary and is NOT to be distributed or shared in any way.*/"use strict";var EC={};if(typeof require!="undefined"){}EC.ED=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];EC.EE=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];EC.EF=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254,1,129,65,193,33,161,97,225,17,145,81,209,49,177,113,241,9,137,73,201,41,169,105,233,25,153,89,217,57,185,121,249,5,133,69,197,37,165,101,229,21,149,85,213,53,181,117,245,13,141,77,205,45,173,109,237,29,157,93,221,61,189,125,253,3,131,67,195,35,163,99,227,19,147,83,211,51,179,115,243,11,139,75,203,43,171,107,235,27,155,91,219,59,187,123,251,7,135,71,199,39,167,103,231,23,151,87,215,55,183,119,247,15,143,79,207,47,175,111,239,31,159,95,223,63,191,127,255];EC.EG=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0];EC.EH=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,99,99];EC.EJ=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];EC.EK=256;EC.EL=function(a){if((a.length>1)&&(a.slice(0,2)=="PK")){return true;}return false;};EC.EU=function(a,b,c){this.EV=b?b:function(){};this.EW=c;this.EX=[];this.EY="";this.EZ;this.E_=[];this.E$;this.E0=new Array(32768);this.E1=0;this.E2=false;this.E3;this.E4=a;this.E5=0;this.E6=0;this.E7=1;this.E8=[];this.E9;this.Fa=new Array(288);this.Fb=new Array(32);this.Fc=0;this.Fd=null;this.Fe=0;this.Ff=new Array(17);this.Ff[0]=0;this.Fg;this.Fh;};EC.EU.prototype.Fi=function(){var a=(this.E7&1);this.E7>>=1;if(this.E7===0){this.E7=this.Fj();a=(this.E7&1);this.E7=(this.E7>>1)|128;}return a;};EC.EU.prototype.Fj=function(){if(this.E5<this.E4.length){return this.E4[this.E5++];}else{return -1;}};EC.EU.prototype.Fk=function(a){this.E5+=a;};EC.EU.prototype.Fl=function(){var a=this.Fj()^this.Fj()<<8;return a;};EC.EU.prototype.Fm=function(){var a=this.Fj()^this.Fj()<<8^this.Fj()<<16^this.Fj()<<24;return a;};EC.EU.prototype.Fn=function(){this.E7=1;};EC.EU.prototype.Fo=function(a){var b=0;var cI=a;while(cI--){b=(b<<1)|this.Fi();}if(a){b=EC.EF[b]>>(8-a);}return b;};EC.EU.prototype.Fp=function(){this.E1=0;};EC.EU.prototype.Fq=function(a){this.E0[this.E1++]=a;this.EX.push(a);if(this.E1===32768){this.E1=0;}};EC.Fr=function(){this.Fs=0;this.Ft=0;this.Fu=null;this.Fv=-1;};EC.EU.prototype.Fw=function(){while(1){if(this.Ff[this.Fe]>=this.Fh){return -1;}if(this.Fg[this.Ff[this.Fe]]==this.Fe){return this.Ff[this.Fe]++;}this.Ff[this.Fe]++;}};EC.EU.prototype.Fx=function(){var a=this.Fd[this.Fc];var b;if(this.Fe===17){return -1;}this.Fc++;this.Fe++;b=this.Fw();if(b>=0){a.Fs=b;}else{a.Fs=32768;if(this.Fx()){return -1;}}b=this.Fw();if(b>=0){a.Ft=b;a.Fu=null;}else{a.Ft=32768;a.Fu=this.Fd[this.Fc];a.Fv=this.Fc;if(this.Fx()){return -1;}}this.Fe--;return 0;};EC.EU.prototype.Fy=function(a,b,c,d){var cI;this.Fd=a;this.Fc=0;this.Fg=c;this.Fh=b;for(cI=0;cI<17;cI++){this.Ff[cI]=0;}this.Fe=0;if(this.Fx()){return -1;}return 0;};EC.EU.prototype.Fz=function(a){var Fe;var cI;var b=0;var c=a[b];var yi;while(1){yi=this.Fi();if(yi){if(!(c.Ft&32768)){return c.Ft;}c=c.Fu;Fe=a.length;for(cI=0;cI<Fe;cI++){if(a[cI]===c){b=cI;break;}}}else{if(!(c.Fs&32768)){return c.Fs;}b++;c=a[b];}}return -1;};EC.EU.prototype.FA=function(){var b6;var Bp;var type;var cI;var Fe;while(1){var b6=this.Fi();type=this.Fo(2);if(type===0){var a;var b;this.Fn();a=this.Fl();b=this.Fl();if(((a^~b)&65535)){}while(a--){Bp=this.Fj();this.Fq(Bp);}}else if(type===1){var dz;while(1){dz=(EC.EF[this.Fo(7)]>>1);if(dz>23){dz=(dz<<1)|this.Fi();if(dz>199){dz-=128;dz=(dz<<1)|this.Fi();}else{dz-=48;if(dz>143){dz=dz+136;}}}else{dz+=256;}if(dz<256){this.Fq(dz);}else if(dz===256){break;}else{var Fe;var c;dz-=256+1;Fe=this.Fo(EC.EH[dz])+EC.EG[dz];dz=EC.EF[this.Fo(5)]>>3;if(EC.EJ[dz]>8){c=this.Fo(8);c|=(this.Fo(EC.EJ[dz]-8)<<8);}else{c=this.Fo(EC.EJ[dz]);}c+=EC.EE[dz];for(dz=0;dz<Fe;dz++){var Bp=this.E0[(this.E1-c)&32767];this.Fq(Bp);}}}}else if(type===2){var dz;var d;var e;var f;var g;var h=new Array(288+32);e=257+this.Fo(5);f=1+this.Fo(5);g=4+this.Fo(4);for(dz=0;dz<19;dz++){h[dz]=0;}for(dz=0;dz<g;dz++){h[EC.ED[dz]]=this.Fo(3);}Fe=this.Fb.length;for(cI=0;cI<Fe;cI++){this.Fb[cI]=new EC.Fr();}if(this.Fy(this.Fb,19,h,0)){this.Fp();return 1;}d=e+f;cI=0;var i=-1;while(cI<d){i++;dz=this.Fz(this.Fb);if(dz<16){h[cI++]=dz;}else if(dz===16){var j;dz=3+this.Fo(2);if(cI+dz>d){this.Fp();return 1;}j=cI?h[cI-1]:0;while(dz--){h[cI++]=j;}}else{if(dz===17){dz=3+this.Fo(3);}else{dz=11+this.Fo(7);}if(cI+dz>d){this.Fp();return 1;}while(dz--){h[cI++]=0;}}}Fe=this.Fa.length;for(cI=0;cI<Fe;cI++){this.Fa[cI]=new EC.Fr();}if(this.Fy(this.Fa,e,h,0)){this.Fp();return 1;}Fe=this.Fa.length;for(cI=0;cI<Fe;cI++){this.Fb[cI]=new EC.Fr();}var k=[];for(cI=e;cI<h.length;cI++){k[cI-e]=h[cI];}if(this.Fy(this.Fb,f,k,0)){this.Fp();return 1;}while(1){dz=this.Fz(this.Fa);if(dz>=256){var Fe;var c;dz-=256;if(dz===0){break;}dz--;Fe=this.Fo(EC.EH[dz])+EC.EG[dz];dz=this.Fz(this.Fb);if(EC.EJ[dz]>8){c=this.Fo(8);c|=(this.Fo(EC.EJ[dz]-8)<<8);}else{c=this.Fo(EC.EJ[dz]);}c+=EC.EE[dz];while(Fe--){var Bp=this.E0[(this.E1-c)&32767];this.Fq(Bp);}}else{this.Fq(dz);}}}if(b6){break;}}this.Fp();this.Fn();return 0;};EC.EU.prototype.FB=function(){var a=this;var E$;var b=[];var c;var fY;var cI;var Bp;if((this.EZ&8)){b[0]=this.Fj();b[1]=this.Fj();b[2]=this.Fj();b[3]=this.Fj();if((b[0]===80)&&(b[1]===75)&&(b[2]===7)&&(b[3]===8)){E$=this.Fm();}else{E$=b[0]|(b[1]<<8)|(b[2]<<16)|(b[3]<<24);}c=this.Fm();fY=this.Fm();}if(this.E2){this.EV(this,this.E5/this.E4.length);v.nextTick(function(){a.FC();});return 0;}b[0]=this.Fj();if(b[0]!==8){this.EW(this.E_);return 0;}this.EZ=this.Fj();this.Fk(6);if((this.EZ&4)){b[0]=this.Fj();b[2]=this.Fj();this.Fe=b[0]+256*b[1];this.Fk(this.Fe);}if((this.EZ&8)){cI=0;this.E8=[];while(Bp=this.Fj()){if(Bp=="7"||Bp==":"){cI=0;}if(cI<EC.EK-1){this.E8[cI++]=Bp;}}}if((this.EZ&16)){while(Bp=this.Fj()){}}if((this.EZ&2)){this.Fk(2);}this.FA();E$=this.Fm();fY=this.Fm();this.EV(this,this.E5/this.E4.length);v.nextTick(function(){a.FC();});};EC.aL=function(a,b){var c="";if(b==null){b=0;}for(var cI=b;cI<a.length;cI++){c+=String.fromCharCode(a[cI]);}return c;};EC.EU.prototype.FD=function(){var a=[];a[0]=this.Fj();a[1]=this.Fj();this.EX=[];this.E2=false;if((a[0]===120)&&(a[1]===218)){this.FA();var b={name:this.E8.join(""),data:EC.aL(this.EX)};this.E_.push(b);}else if((a[0]===80)&&(a[1]===75)){this.E2=true;a[2]=this.Fj();a[3]=this.Fj();if((a[2]===3)&&(a[3]===4)){a[0]=this.Fj();a[1]=this.Fj();this.EZ=this.Fl();var method=this.Fl();this.Fk(4);var E$=this.Fm();var c=this.Fm();var fY=this.Fm();var d=this.Fl();var e=this.Fl();var cI=0;this.E8=[];while(d--){var Bp=this.Fj();if(Bp=="/"|Bp==":"){cI=0;}else if(cI<EC.EK-1){this.E8[cI++]=String.fromCharCode(Bp);}}if(!this.E9){this.E9=this.E8;}this.Fk(e);this.E3=4294967295;if(method===0){this.EX=[];for(var f=0;f<fY;f++){var Bp=this.Fj();this.EX.push(Bp);}}else if(method===8){this.FA();}var b={name:this.E8.join(""),data:EC.aL(this.EX)};this.E_.push(b);this.FB();}else{this.EW(this.E_);}}else{var y_=this.Fj();this.EW(this.E_);}};EC.EU.prototype.FC=function(){this.FD();};EC.FE=function(a){var b=new EC.EU(a);b.FA();return b.EX;};/* (C) 2021 Halo Automation Systems LLC; This software is proprietary and is NOT to be distributed or shared in any way.*/"use strict";var FF={};var $=function(a){return document.getElementById(a);};FF.jS={};FF.FG=function(){FF.jS=FF.FH;return FF.jS;};FF.jT=function(a){var b=this;if(a==null){a={};}this.options=a;this.path=(a&&a.path)?a.path:"/reserved/system";this.options.FI=(a&&a.FI)?a.FI:false;};FF.FJ=function(a,b,c){var d=FF.FK(a);delete d[b];c();};FF.cX=function(a,b,c){var d=FF.FK(a);d[b]={};c();};FF.FL=function(a,b,c){if(a=="/reserved/system"){c(a);return;}var d=a.split("/");var cI=0;for(;cI<d.length;cI++){var e=d.slice(0,(-1-cI)).join("/");var f=FF.FK(e);if(f!=null){break;}}var g=d.slice(-1-cI).join("/");f[b]=f[g];delete f[g];c(e+"/"+b);};FF.FM=function(a,b,c){var yh=FF.FK(a);for(var cI in b){yh[cI]=b[cI];}var d=cP.dx(this.data);haloS.dv.dw({"path":a,"data":d},c);};FF.FN=function(a,b,c,d,e,f,g){var h=d;if(c&&c.length){var i=c.split("/");while(i.length){if(h[i[0]]){h=h[i[0]];b+=("/"+i[0]);i.shift();}else{h[i[0]]={};h=h[i[0]];b+=("/"+i[0]);i.shift();}if(h._type=="/type/node"){haloS.dv.dA({path:b},function(j){FF.FN(b,b,i.join("/"),cP.de(j["data"]),e,f,g);});return;}}}for(var cI in e){h[cI]=e[cI];}var j=cP.dx(d);var iz=g?g[a]:null;haloS.dv.dw({"path":a,"data":j,"previous":iz},function(k){if(k&&g){g[a]=k;}f();});};FF.FO=function(a,b,c){var d=function(e,f,g){if(FF.FK(e)){var h=e;while(h.length<f.length){var i=FF.FK(h);var bz=f.slice(h.length+1);var j=bz.split("/");i[j[0]]={};h+="/"+j[0];}g();return;}var k=e.split("/");var l=k.slice(0,-1).join("/");d(l,f,g);};d(a,a,function(){FF.FM(a,b,c);});};FF.FP=function(a,b){var c=b;if(a.length){var d=a.split("/");while(d.length){var e=null;var cI=0;for(;cI<d.length;cI++){var f=d.slice(0,cI+1).join("/");e=c[f];if(e!=null){break;}}c=e;if(c==null){return;}d.splice(0,cI+1);}}return c;};FF.FK=function(a){var yj="/reserved/system/";var b=haloS.jS;a=a.slice(yj.length);if(a.length){var c=a.split("/");while(c.length){var d=null;var cI=0;for(;cI<c.length;cI++){var e=c.slice(0,cI+1).join("/");d=b[e];if(d!=null){break;}}b=d;if(b==null){return;}c.splice(0,cI+1);}}return b;};FF.FQ=function(a){var yj="/reserved/system/";var b=haloS.jS;a=a.slice(yj.length);if(a.length){var c=a.split("/");while(c.length){b=b[c[0]];if(b==null){return;}c.splice(0,1);}}return b["name"]._response;};FF.FR=function(a,b){haloS["readTree"]("/reserved/system/data/"+a,function(c,d){if(c){b(c);return;}haloS["createChild"]("/reserved","system",function(e,f){haloS["createChild"]("/reserved/system","data",function(g,h){haloS["writeTree"]("/reserved/system/data",FF.FH,function(i,j){haloS["readTree"]("/reserved/system/data/"+a,function(k,l){b(k);});});});});});};FF.FS=function(a){var b=(a._type===FF.FT)?true:false;var c=0;while((b===false)&&(c++<10)){a=FF.FU(a);b=(a._type===FF.FT)?true:false;}return a;};FF.FT="/type/system/6";FF.FU=function(a){if(a._type==="/type/system/5"){var b=function(c){c["key"]={};c["security"]={"_type":"/type/security","authenticate":{"read":{},"create":{}},"not/authenticate":{}};c._type="/type/system/6";};b(a);}else if(a._type==="/type/system/4"){var b=function(c){if(c["share"]["model"]["type"]){c["share"]["class"]["reserved"]=JSON.parse(JSON.stringify(c["share"]["model"]["type"]));delete c["share"]["model"]["type"];delete c["share"]["class"]["type"];}if(c["share"]["model"]["container"]){c["share"]["model"]=JSON.parse(JSON.stringify(c["share"]["model"]["container"]));delete c["share"]["model"]["container"];}for(var dz in c["share"]["model"]){var floor=c["share"]["model"][dz];floor["container"]["device"]={};floor["container"]["door"]={};floor["container"]["floor"]={};floor["container"]["hvac zone"]={};floor["container"]["lighting zone"]={};floor["container"]["roof"]={};floor["container"]["text"]={};floor["container"]["image"]={};floor["container"]["model"]={};floor["container"]["wall"]={};floor["container"]["window"]={};floor["container"]["zone"]={};}for(var dz in c["share"]["model"]){var floor=c["share"]["model"][dz];for(var d in floor["container"]){var e=floor["container"][d];if(e._type&&(e._type.indexOf("runner/")!==-1)){var f=1;var type=e._type.replace("runner/type/","");type=type.replace("default ","");type=type.replace("exterior ","");type=type.replace("interior ","");while(floor["container"][type][f]){f++;}floor["container"][type][f]=JSON.parse(JSON.stringify(e));delete floor["container"][d];}}}for(var dz in c["share"]["voltage"]){var g=c["share"]["voltage"][dz];g["container"]["device"]={};g["container"]["text"]={};g["container"]["image"]={};g["container"]["wire"]={};g["container"]["polygon"]={};}var b3=1;for(var cI in c["share"]["device"]){var bV=c["share"]["device"][cI];var h=JSON.parse(JSON.stringify(bV));if(bV._type==null){continue;}if(bV._type.search("/device")!==-1){var target="/device";if(!c["device"]){c["device"]={};}var i=c["device"];if(bV._type.search("/device/type/device")!==-1){h["_type"]="/company/paragonrobotics.com/device/sensor";}if(bV._type.search("/device/type/container")!==-1){h["_type"]="/company/paragonrobotics.com/device/container";}}else if(bV._type.search("/mechanical")!==-1){var target="/share/device";var i=c["share"]["device"];}else{continue;}while(i[b3]){b3++;}var j=b3;delete h["qA"];if(bV["link"]){delete h["link"];}for(var dz in c["share"]["model"]){var floor=c["share"]["model"][dz];for(var d in floor["container"]){var e=floor["container"][d];if(e._type&&(e._type.indexOf("runner/")!==-1)){continue;}else if(e.name){if(e.name._response===bV.name._response){var k=v.ac(e);delete k["link"];delete k["name"];delete k["qA"];if(k._type.search("/device")===-1){h["_type"]=k["_type"];}delete k["_type"];k["target"]={"_type":"runner"+target+"/"+j};floor["container"]["device"][j]=k;delete floor["container"][d];break;}}}}for(var dz in c["share"]["voltage"]){var g=c["share"]["voltage"][dz];for(var d in g["container"][d]){var l=g["container"][d];if(l.name){if(l.name._response===bV.name._response){var m=JSON.parse(JSON.stringify(l));if(k._type.search("/device")===-1){h["_type"]=m["_type"];}delete m["_type"];m["target"]={"_type":"runner/share/device/"+j};g["electrical"][j]=m;delete l[d];break;}}}}i[j]=h;delete c["share"]["device"][cI];b3++;}c["_runners"]=JSON.parse(JSON.stringify(FF.FV));var f_=true;for(var dz in c["share"]["model"]){var floor=c["share"]["model"][dz];for(var d in floor["container"]){var e=floor["container"][d];if(e._type&&(e._type.indexOf("runner/")!==-1)){continue;}else if(e.name){if(f_){f_=false;c["share"]["error"]={};}var n=1;while(c["share"]["error"][n]){n++;}c["share"]["error"][n]=JSON.parse(JSON.stringify(e));delete floor["container"][d];}}}for(var cI in c["container"]){b(c["container"][cI]);}if(c["container"]==null){c["container"]={};}c._type="/type/system/5";};b(a);}else if(a._type==="/type/system/3"){a["share"]={};if(a["class"]){a["share"]["class"]={"container":{},"type":JSON.parse(JSON.stringify(a["class"]))};delete a["class"];}if(a["container"]){for(var cI in a["container"]){var c=a["container"][cI];var d=(c._type===FF.FT)?true:false;var e=0;while((d===false)&&(e++<3)){var f=FF.FU(c);d=(c._type===FF.FT)?true:false;}var g=function(h,i,j){if(h[i]){while(h[i+" "+j]){j++;}return i+" "+j;}else{return i;}};var name=g(a,f.name._response,1);a["container"][name]=JSON.parse(JSON.stringify(f));a["container"][name].name._response=name;delete a["container"][cI];}}if(a["device"]){a["share"]["device"]={};for(var cI in a["device"]){if(cI[0]!=="/"){a["share"]["device"][cI]=JSON.parse(JSON.stringify(a["device"][cI]));delete a["device"][cI];}}}if(a["software"]){a["share"]["software"]=JSON.parse(JSON.stringify(a["software"]));delete a["software"];}if(a["zones"]){a["share"]["workspace"]={};delete a["zones"];}if(a["model"]){if(a["model"]["container"]){}else{a["share"]["model"]={"container":{}};for(var cI in a["model"]){var g=function(h,i,j){if(h[i]){while(h[i+" "+j]){j++;}return i+" "+j;}else{return i;}};var name=g(a["share"]["model"]["container"],a["model"][cI].name._response,1);a["share"]["model"]["container"][name]=JSON.parse(JSON.stringify(a["model"][cI]));a["share"]["model"]["container"][name].name._response=name;delete a["model"][cI];var h=a["share"]["model"]["container"][name];for(var dz in h["container"]){var name=g(h["container"],h["container"][dz].name._response,1);h["container"][name]=JSON.parse(JSON.stringify(h["container"][dz]));h["container"][name].name._response=name;delete h["container"][dz];}}}delete a["model"];}if(a["file"]){a["share"]["voltage"]={};for(var cI in a["file"]){if(a["file"][cI]._type==="/type/schematic"){a["share"]["voltage"][cI]=JSON.parse(JSON.stringify(a["file"][cI]));delete a["file"][cI];}else{a["share"]["voltage"][cI]=JSON.parse(JSON.stringify(a["file"][cI]));delete a["file"][cI];}}}if(a["visual"]){a["share"]["visual"]=JSON.parse(JSON.stringify(a["visual"]));delete a["visual"];}if(a["document"]){a["share"]["document"]=JSON.parse(JSON.stringify(a["document"]));delete a["document"];}if(a["date"]){var su={"_type":"/type/date","value":{"_response":Number(a["date"]._response)},"start":{"_type":"/type/date","value":{"_response":Date.now()}}};a["date"]=su;}else{var su={"_type":"/type/date","value":{"_response":Date.now()},"start":{"_type":"/type/date","value":{"_response":Date.now()}}};a["date"]=su;}a._type="/type/system/4";}else if(a._type==="/type/system/2"){a._type="/type/system/3";var i=function(j,k){for(var cI in j["container"]){var c=j["container"][cI];if((c._type==="/type/campus")||(c._type==="/type/building")){var mr={_type:"/type/system/3","name":c["name"],"dimension":c["dimension"],"model":{},"file":{},"device":{},"software":{},"container":{},"class":{},"visual":{}};cP.dF(k["container"],mr);if(c["container"]){i(c,mr);}}else if(c._type==="/type/slice"){cP.dF(k["model"],c);i(c,k);}else{var l=j["container"][cI];if((l._type.search("/device/")!==-1)||(l._type.search("/mechanical/")!==-1)){var su={_type:l._type};for(var dz in l){if(dz==="_type"){continue;}else if(dz==="dimension"){continue;}su[dz]=l[dz];}cP.dF(k["device"],su);}}}};if(a["model"]["container"]&&a["model"]["container"]["1"]){var j=a["model"]["container"]["1"];var f={_type:"/type/system/3","name":j["name"],"dimension":j["dimension"],"date":a["date"],"model":{},"file":{},"device":{},"software":a["software"]||{},"container":{},"class":a["model"]["type"]||{},"visual":{}};i(j,f);}else{var cp=new Date();var f={_type:"/type/system/3","name":{_response:"Campus"},"date":{_response:Date.now()},"model":{},"file":{},"device":{},"software":a["software"]||{},"container":{},"visual":{}};}for(var cI in a["file"]){var k=a["file"][cI];var su={_type:k._type,"name":k.name,"type":k.type,"container":{}};for(var dz in k["container"]){var l=k["container"][dz];var mr={_type:l._type,"dimension":l.dc,"name":l.name,"network":l.i5,"simulate":l.FW,"temporary":l.FX};cP.dF(su["container"],mr);}cP.dF(f["file"],su);for(var dz in k["container"]){var l=k["container"][dz];var m=false;for(var n in a["device"]){var name=l.name;var cy=a["device"][n].name;var type=l._type;var o=a["device"][n]._type;if((name===cy)&&(type===o)){m=true;break;}}if(!m){var su={_type:l._type,"name":l.name};for(var p in l){if(p==="_type"){continue;}else if(p==="dimension"){continue;}else if(p==="network"){continue;}else if(p==="simulate"){continue;}else if(p==="temporary"){continue;}su[p]=l[p];}cP.dF(f["device"],su);}}}if(a["visual"]){f["visual"]=JSON.parse(JSON.stringify(a["visual"]));}a=f;haloS.FY=a;haloS.jS=f;}else if(a._type==="/type/system/1"){a._type="/type/system/2";a["file"]={};}else if(!a._type){var f={_type:"/type/system/1","model":a,"visual":{},"file":{}};haloS.jS=f;a=f;}haloS.jS=a;return a;};FF.FZ=function(a){var b=a.data["share"]["device"];var b3=1;var name="device/";while(b[name+b3]){b3++;}return name+b3;};FF.F_=function(a){var b3=1;while(a[b3]){b3++;}return b3;};FF.F$=function(a){if(a.search("/")!==-1){a=a.replace(/\//g,"/");}return a;};FF.F0=function(a){if(a.search("/")!==-1){a.replace("/","/");}return a;};FF.F1={_type:"/type/schematic","name":{_response:"New Schematic"},"type":{_response:"electrical"},"container":{"device":{},"text":{},"image":{},"wire":{},"polygon":{}}};FF.F2={_type:"/type/task","name":{_response:"New Task"},"id":{_response:Date.now()},"description":{_response:""},"deployedVersion":{_response:""},"selectedVersion":{_response:1},"workingVersion":{_response:1},"versions":{1:{_type:"/type/task","valid":{_response:0},"container":{"device":{},"text":{},"image":{}}}}};FF.F3={_type:"/type/building","name":{_response:"Warehouse"},"dimension":{"angle":{_response:0},"x":{_response:0},"y":{_response:0}},"container":{1:{_type:"/type/slice","name":{_response:"Floor 1"},"dimension":{_response:0},"container":{}}}};FF.F4={_type:"/type/building","name":{_response:"Residential Small House"},"dimension":{"angle":{_response:0},"x":{_response:0},"y":{_response:0}},"container":{1:{_type:"/type/slice","name":{_response:"Floor 1"},"dimension":{_response:0},"container":{}}}};FF.F5={_type:"/type/slice","name":{_response:"Floor 1"},"dimension":{_response:0},"container":{"device":{},"door":{},"floor":{},"hvac zone":{},"image":{},"lighting zone":{},"model":{},"roof":{},"text":{},"wall":{},"window":{},"zone":{}}};FF.F6={"_type":"/type/building","name":{_response:"Building 1"},"device":{}};FF.F7={"_runners":[{match:"runner/building/device",target:"device"}],"_type":"/type/building","name":{_response:"Building 1"},"dimension":{"angle":{_response:0},"x":{_response:0},"y":{_response:0}},"model":{"container":{"Floor 1":FF.F5}},"file":{},"device":{},"software":{},"class":{"zone":{},"equipment":{},"device":{}},"visual":{},"container":{}};FF.F8={"hvac-zones":{},"light-zones":{}};FF.F9={"name":{_response:"default zone"},"color":{"_type":"/type/color","value":{_response:"rgb(19, 0, 186)"}},"container":{}};FF.Ga={"_runners":[{match:"runner/system/device",target:"device"}],"_type":FF.FT,"date":{_response:Date.now()},"name":{_response:"Building"},"dimension":{},"model":{},"file":{},"device":{},"software":{},"zones":FF.F8,"type":{},"visual":{},"class":{"zone":{},"equipment":{},"device":{}}};FF.FV=[{match:"runner/device",target:"device"},{match:"runner/share",target:"share"}];FF.FH={"_runners":FF.FV,"_type":FF.FT,"container":{},"date":{"_type":"/type/date","value":{_response:Date.now()},"start":{"_type":"/type/date","value":{_response:Date.now()}}},"name":{_response:"Folder"},"description":{},"device":{},"share":{"class":{},"device":{},"document":{},"file":{},"machine":{},"model":{},"software":{},"workspace":{},"voltage":{},"visual":{},"register":{}},"reserved/share":{"_type":"/type/node"},"key":{},"security":{"_type":"/type/node"}};FF.Gb={"_runners":[{match:"runner/system/device",target:"device"}],"_type":FF.FT,"container":{},"date":{"_type":"/type/date","value":{_response:Date.now()},"start":{"_type":"/type/date","value":{_response:Date.now()}}},"name":{_response:"Layer"}};FF.Gc={_type:"/type/campus","name":{_response:"Campus 1"},"dimension":{"angle":{_response:0},"x":{_response:0},"y":{_response:0}},"container":{}};FF.Gd={_type:"/schedule/type/triggers/daily","name":{_response:"Daily"},"temporary":{"connect":{_response:0}},"simulate":function(a){if(Ge["temporary"]["connect"]._response){}else{}},"network":{"input":{_type:"/electrical/type/netlist","container":{}},"output":{_type:"/electrical/type/netlist","container":{}}},"option":{"Time of day":{_type:"/type/date/time","description":{_response:"Time of day"},"value":{_response:100}}}};FF.Gf={_type:"/schedule/type/triggers/weekly","name":{_response:"Weekly"},"temporary":{"connect":{_response:0}},"simulate":function(a){if(Ge["temporary"]["connect"]._response){}else{}},"network":{"input":{_type:"/electrical/type/netlist","container":{}},"output":{_type:"/electrical/type/netlist","container":{}}},"option":{"Time of day":{_type:"/type/date/time","description":{_response:"Time of day"},"value":{_response:100}},"Day of week":{_type:"/type/date/time","description":{_response:"Day of week"},"value":{_response:100}}}};FF.Gg={_type:"/schedule/type/triggers/monthly","name":{_response:"Monthly"},"temporary":{"connect":{_response:0}},"simulate":function(a){if(Ge["temporary"]["connect"]._response){}else{}},"network":{"input":{_type:"/electrical/type/netlist","container":{}},"output":{_type:"/electrical/type/netlist","container":{}}},"option":{"Time of day":{_type:"/type/date/time","description":{_response:"Time of day"},"value":{_response:100}},"Day of Month":{_type:"/type/date/time","description":{_response:"Day of month"},"value":{_response:100}}}};FF.Gh={_type:"/schedule/type/triggers/user","name":{_response:"User"},"temporary":{"connect":{_response:0}},"simulate":function(a){if(Ge["temporary"]["connect"]._response){}else{}},"network":{"input":{_type:"/electrical/type/netlist","container":{}},"output":{_type:"/electrical/type/netlist","container":{}}},"option":{"Time of day":{_type:"/type/date/time","description":{_response:"Time of day"},"value":{_response:100}},"Day of Month":{_type:"/type/date/time","description":{_response:"Day of month"},"value":{_response:100}}}};FF.Gi={_type:"/logic/type/objects/input","name":{_response:"IO Input"},"temporary":{"connect":{_response:0}},"simulate":function(a){if(Ge["temporary"]["connect"]._response){}else{}},"network":{"input":{_type:"/electrical/type/netlist","container":{}},"output":{_type:"/electrical/type/netlist","container":{}}},"option":{"input":{_type:"/device","description":{_response:"Input"}}}};FF.Gj={_type:"/logic/type/objects/constant","name":{_response:"Constant"},"temporary":{},"simulate":function(a){},"network":{"input":{_type:"/electrical/type/netlist","container":{}},"output":{_type:"/electrical/type/netlist","container":{}}},"option":{"constant":{_type:"/type/number","description":{_response:"Constant"},"value":{_response:0}}}};FF.Gk={_type:"/logic/type/objects/output","name":{_response:"IO Output"},"temporary":{"connect":{_response:0}},"simulate":function(a){if(Ge["temporary"]["connect"]._response){}else{}},"network":{"input":{_type:"/electrical/type/netlist","container":{}},"output":{_type:"/electrical/type/netlist","container":{}}},"option":{"output":{_type:"/device","description":{_response:"Input"}}}};FF.Gl={_type:"/logic/type/objects/trigger","name":{_response:"Trigger"},"temporary":{"connect":{_response:0}},"simulate":function(a){if(Ge["temporary"]["connect"]._response){}else{}},"network":{"input":{_type:"/electrical/type/netlist","container":{}},"output":{_type:"/electrical/type/netlist","container":{}}},"option":{"refresh":{_type:"/type/s","description":{_response:"Cycle time"},"value":{_response:3600}}}};FF.Gm={_type:"/logic/type/objects/block/pid","name":{_response:"PID loop"},"temporary":{"connect":{_response:0}},"simulate":function(a){if(Ge["temporary"]["connect"]._response){}else{}},"network":{"input":{_type:"/electrical/type/netlist","container":{}},"output":{_type:"/electrical/type/netlist","container":{}}},"option":{"setpoint":{_type:"/type/K","name":{_response:"Setpoint"}},"pv":{_type:"/type/K","name":{_response:"Present value"}},"kp":{_type:"/type/number","name":{_response:"Kp"},"value":{_response:1}},"ki":{_type:"/type/number","name":{_response:"Ki"},"value":{_response:1}},"kd":{_type:"/type/number","name":{_response:"Kd"},"value":{_response:1}},"kd":{_type:"/type/number","name":{_response:"Enable"},"value":{_response:1}}}};FF.Gn={_type:"/logic/type/objects/block/3","name":{_response:"Sequencer"},"temporary":{"connect":{_response:0}},"simulate":function(a){if(Ge["temporary"]["connect"]._response){}else{}},"network":{"input":{_type:"/electrical/type/netlist","container":{}},"output":{_type:"/electrical/type/netlist","container":{}}},"option":{"a":{_type:"/device","name":{_response:"A input"}},"b":{_type:"/device","name":{_response:"A input"}},"c":{_type:"/device","name":{_response:"A input"}}}};FF.Go={_type:"/logic/type/objects/block/2","name":{_response:"And"},"temporary":{"connect":{_response:0}},"simulate":function(a){if(Ge["temporary"]["connect"]._response){}else{}},"network":{"input":{_type:"/electrical/type/netlist","container":{}},"output":{_type:"/electrical/type/netlist","container":{}}},"option":{"formula":{_type:"/type/textarea","description":{_response:"Formula"},"value":{_response:"a=b*c"}}}};FF.Gp={_type:"/logic/type/objects/block/2","name":{_response:"Or"},"temporary":{"connect":{_response:0}},"simulate":function(a){if(Ge["temporary"]["connect"]._response){}else{}},"network":{"input":{_type:"/electrical/type/netlist","container":{}},"output":{_type:"/electrical/type/netlist","container":{}}},"option":{"formula":{_type:"/type/textarea","description":{_response:"Formula"},"value":{_response:"a=b*c"}}}};FF.Gq={_type:"/logic/type/objects/block","name":{_response:"Not"},"temporary":{"connect":{_response:0}},"simulate":function(a){if(Ge["temporary"]["connect"]._response){}else{}},"network":{"input":{_type:"/electrical/type/netlist","container":{}},"output":{_type:"/electrical/type/netlist","container":{}}},"option":{"formula":{_type:"/type/textarea","description":{_response:"Formula"},"value":{_response:"a=b*c"}}}};FF.Gr={_type:"/schedule/type/objects/report","name":{_response:"Report"},"temporary":{"connect":{_response:0}},"simulate":function(a){if(Ge["temporary"]["connect"]._response){}else{}},"network":{"input":{_type:"/electrical/type/netlist","container":{}},"output":{_type:"/electrical/type/netlist","container":{}}},"option":{"report":{_type:"/type/option","name":{_response:"Selected Report"},"description":{_response:"Select the report you wish to be applied"},"option":{"1":{"name":{_response:"PlaceHolder"},"value":{_response:"Option 1 value"}},"2":{"name":{_response:"Placeholder 1"},"value":{_response:"Option 2 value"}}},"value":{_response:100}}}};FF.Gs={_type:"/schedule/type/objects/conditional-formula","name":{_response:"Conditional Formula"},"temporary":{"connect":{_response:0}},"simulate":function(a){if(Ge["temporary"]["connect"]._response){}else{}},"network":{"input":{_type:"/electrical/type/netlist","container":{}},"output":{_type:"/electrical/type/netlist","container":{}}},"option":{"formula":{_type:"/type/textarea","description":{_response:"Formula"},"value":{_response:"a=b*c"}}}};FF.Gt={_type:"/schedule/type/objects/formula","name":{_response:"Formula"},"temporary":{"connect":{_response:0}},"simulate":function(a){if(Ge["temporary"]["connect"]._response){}else{}},"network":{"input":{_type:"/electrical/type/netlist","container":{}},"output":{_type:"/electrical/type/netlist","container":{}}},"option":{"formula":{_type:"/type/textarea","description":{_response:"Formula"},"value":{_response:"a=b*c"}}}};FF.Gu={_type:"/schedule/type/actions/text","name":{_response:"Send text"},"temporary":{"connect":{_response:0}},"simulate":function(a){if(Ge["temporary"]["connect"]._response){}else{}},"network":{"input":{_type:"/electrical/type/netlist","container":{}},"output":{_type:"/electrical/type/netlist","container":{}}},"option":{"message":{_type:"/type/textarea","description":{_response:"Message"},"value":{_response:"Alarm:SC12 temp/humidity v2 #352 - Temperature"}}}};FF.Gv={_type:"/schedule/type/actions/message","name":{_response:"Send message"},"temporary":{"connect":{_response:0}},"simulate":function(a){if(Ge["temporary"]["connect"]._response){}else{}},"network":{"input":{_type:"/electrical/type/netlist","container":{}},"output":{_type:"/electrical/type/netlist","container":{}}},"option":{"message":{_type:"/type/textarea","description":{_response:"Message"},"value":{_response:"Alarm:SC12 temp/humidity v2 #352 - Temperature"}},"people":{_type:"/type/people/message","description":{_response:"Recipient"},"value":{_response:"bob@example.com"}}}};FF.Gw={_type:"/schedule/type/actions/email","name":{_response:"Send email"},"temporary":{"connect":{_response:0}},"simulate":function(a){if(Ge["temporary"]["connect"]._response){}else{}},"network":{"input":{_type:"/electrical/type/netlist","container":{}},"output":{_type:"/electrical/type/netlist","container":{}}},"option":{"message":{_type:"/type/textarea","description":{_response:"Message"},"value":{_response:"Alarm:SC12 temp/humidity v2 #352 - Temperature"}}}};FF.Gx={_type:"/electrical/type/control/switch/no","name":{_response:"SPST Switch"},"temporary":{"connect":{_response:0}},"simulate":function(a){if(Ge["temporary"]["connect"]._response){}else{}},"network":{"input":{_type:"/electrical/type/netlist","container":{}},"output":{_type:"/electrical/type/netlist","container":{}}},"option":{"current":{_type:"/type/A","name":{_response:"Max current rating"},"description":{_response:"Max expected current at full load"},"value":{_response:100}},"speed":{_type:"/type/s","name":{_response:"Switching Speed"},"description":{_response:"Time required to switch"},"value":{_response:0.05}}}};FF.Gy={"name":{_type:"/people/type/name","prefix":{_response:""},"start":{_response:""},"middle":{_response:""},"end":{_response:""},"suffix":{_response:""},"company":{_response:""}},"mail":{_type:"/people/type/mail","a":{_response:""},"b":{_response:""},"city":{_response:""},"state":{_response:""},"code":{_response:""},"country":{_response:""}},"phone":{_type:"/people/type/phone","country":{_response:""},"start":{_response:""},"end":{_response:""}},"email":{_type:"/people/type/email","value":{_response:""}},"error":{_response:""}};FF.Gz={"default exterior wall":{"name":{_response:"default exterior wall"},"type":{_response:"wall"},"color":{_response:"rgb(255, 25, 25)"},"data":{"constructionText":{_response:"Custom"},"absorbtivity":{_response:0.75},"conductivity":{_response:0.025},"density":{_response:30},"specificHeat":{_response:0.2},"thickness":{_response:0.5},"transmissivity":{_response:0},"specificInfiltrationRate":{_response:0.12*60},"windShield":{_response:0},"sunShield":{_response:0},"sunShieldLostInWinter":{_response:0}}},"default interior wall":{"name":{_response:"default interior wall"},"type":{_response:"wall"},"color":{_response:"rgb(200, 200, 200)"},"data":{"constructionText":{_response:"Custom"},"absorbtivity":{_response:0},"conductivity":{_response:5.822},"density":{_response:30},"specificHeat":{_response:0.05},"thickness":{_response:0.395},"transmissivity":{_response:0},"specificInfiltrationRate":{_response:0.12*60},"windShield":{_response:0},"sunShield":{_response:0},"sunShieldLostInWinter":{_response:0}}},"default interior window":{"name":{_response:"default interior window"},"type":{_response:"window"},"color":{_response:"rgb(200, 200, 120)"},"data":{"constructionText":{_response:"Custom"},"absorbtivity":{_response:0},"conductivity":{_response:0.25},"density":{_response:30},"specificHeat":{_response:0.5},"thickness":{_response:0.1},"area":{_response:40},"transmissivity":{_response:0.8},"ventilationArea":{_response:0},"specificInfiltrationRate":{_response:0},"windowCoveringRatio":{_response:0}}},"default exterior window":{"name":{_response:"default exterior window"},"type":{_response:"window"},"color":{_response:"rgb(220, 180, 130)"},"data":{"constructionText":{_response:"Custom"},"absorbtivity":{_response:0},"conductivity":{_response:0.25},"density":{_response:30},"specificHeat":{_response:0.5},"thickness":{_response:0.1},"area":{_response:40},"transmissivity":{_response:0.8},"ventilationArea":{_response:0},"specificInfiltrationRate":{_response:0},"windowCoveringRatio":{_response:0}}},"default exterior door":{"name":{_response:"default exterior door"},"type":{_response:"door"},"color":{_response:"rgb(25, 25, 255)"},"data":{"constructionText":{_response:"Custom"},"absorbtivity":{_response:0},"conductivity":{_response:0.25},"density":{_response:30},"specificHeat":{_response:0.5},"thickness":{_response:0.1},"area":{_response:40},"transmissivity":{_response:0.8},"ventilationArea":{_response:0},"specificInfiltrationRate":{_response:0}}},"default interior door":{"name":{_response:"default interior door"},"type":{_response:"door"},"color":{_response:"rgb(50, 25, 155)"},"data":{"constructionText":{_response:"Custom"},"absorbtivity":{_response:0},"conductivity":{_response:0.25},"density":{_response:30},"specificHeat":{_response:0.5},"thickness":{_response:0.1},"area":{_response:40},"transmissivity":{_response:0.8},"ventilationArea":{_response:0},"specificInfiltrationRate":{_response:0}}},"default floor":{"name":{_response:"default floor"},"type":{_response:"floor"},"color":{_response:"rgb(255, 144, 88)"},"data":{"constructionText":{_response:"Custom"},"absorbtivity":{_response:0.75},"conductivity":{_response:0.025},"density":{_response:30},"specificHeat":{_response:0.5},"thickness":{_response:0.5},"transmissivity":{_response:0},"specificInfiltrationRate":{_response:0.012*60},"windShield":{_response:0},"sunShield":{_response:0},"sunShieldLostInWinter":{_response:0}}},"default hvac zone":{"name":{_response:"default hvac zone"},"type":{_response:"hvac zone"},"color":{_response:"rgb(85,255,93)"},"data":{"constructionText":{_response:"Custom"},"absorbtivity":{_response:0.75},"conductivity":{_response:0.025},"density":{_response:30},"specificHeat":{_response:0.5},"thickness":{_response:0.5},"transmissivity":{_response:0},"specificInfiltrationRate":{_response:0.012*60},"windShield":{_response:0},"sunShield":{_response:0},"sunShieldLostInWinter":{_response:0}}},"default lighting zone":{"name":{_response:"default lighting zone"},"type":{_response:"lighting zone"},"color":{_response:"rgb(248,255,148)"},"data":{"constructionText":{_response:"Custom"},"absorbtivity":{_response:0.75},"conductivity":{_response:0.025},"density":{_response:30},"specificHeat":{_response:0.5},"thickness":{_response:0.5},"transmissivity":{_response:0},"specificInfiltrationRate":{_response:0.012*60},"windShield":{_response:0},"sunShield":{_response:0},"sunShieldLostInWinter":{_response:0}}},"default roof":{"name":{_response:"default roof"},"type":{_response:"roof"},"color":{_response:"rgb(183, 64, 255)"},"data":{"constructionText":{_response:"Custom"},"absorbtivity":{_response:0.9},"conductivity":{_response:0.14},"density":{_response:60},"specificHeat":{_response:0.5},"thickness":{_response:1.5/12},"transmissivity":{_response:0},"specificInfiltrationRate":{_response:0.25*60},"windShield":{_response:0},"sunShield":{_response:0},"sunShieldLostInWinter":{_response:0}}}};FF.GA={_type:"/electrical/type/control/switch/nc","name":{_response:"SPST Switch"},"temporary":{"connect":{_response:0}},"simulate":function(a){if(Ge["temporary"]["connect"]._response){}else{}},"network":{"input":{_type:"/electrical/type/netlist","container":{}},"output":{_type:"/electrical/type/netlist","container":{}}},"option":{"current":{_type:"/type/A","name":{_response:"Max current rating"},"description":{_response:"Max expected current at full load"},"value":{_response:100}},"speed":{_type:"/type/s","name":{_response:"Switching Speed"},"description":{_response:"Time required to switch"},"value":{_response:0.05}}}};FF.GB={_type:"/electrical/type/motor","name":{_response:"Motor"},"temporary":{},"simulate":function(a){if(Ge["temporary"]["connect"]._response){}else{}},"network":{"input":{_type:"/electrical/type/netlist","container":{}}},"option":{"current":{_type:"/type/A","name":{_response:"Max current rating"},"description":{_response:"Max expected current at full load"},"value":{_response:100}}}};FF.GC={_type:"/electrical/type/utility","name":{_response:"Utility"},"temporary":{},"simulate":function(a){if(Ge["temporary"]["connect"]._response){}else{}},"network":{"output":{_type:"/electrical/type/netlist","container":{}}},"option":{"current":{"name":{_response:"Max current rating"},"description":{_response:"Max expected current at full load"},_type:"/type/A",value:{_response:100}},"speed":{"name":{_response:"Switching Speed"},"description":{_response:"Time required to switch"},_type:"/type/s",value:{_response:0.05}}}};FF.GD={_type:"/electrical/type/solar-group","name":{_response:"Solar group"},"temporary":{},"simulate":function(a){if(Ge["temporary"]["connect"]._response){}else{}},"network":{},"option":{}};FF.GE={_type:"/electrical/type/solar-group-red","name":{_response:"Solar group red"},"temporary":{},"simulate":function(a){if(Ge["temporary"]["connect"]._response){}else{}},"network":{},"option":{}};FF.GF={_type:"/electrical/type/solar-group-green","name":{_response:"Solar group green"},"temporary":{},"simulate":function(a){if(Ge["temporary"]["connect"]._response){}else{}},"network":{},"option":{}};FF.GG={_type:"/electrical/type/solar","name":{_response:"Solar"},"temporary":{},"simulate":function(a){if(Ge["temporary"]["connect"]._response){}else{}},"network":{},"option":{}};FF.GH={_type:"/electrical/type/battery","name":{_response:"Battery"},"temporary":{},"simulate":function(a){if(Ge["temporary"]["connect"]._response){}else{}},"network":{},"option":{}};FF.GI={_type:"/electrical/type/vfd","name":{_response:"VFD"},"temporary":{},"simulate":function(a){if(Ge["temporary"]["connect"]._response){}else{}},"network":{"output":{_type:"/electrical/type/netlist","container":{}}},"option":{}};FF.GJ={_type:"/electrical/type/ground","name":{_response:"Ground"},"temporary":{},"simulate":function(a){if(Ge["temporary"]["connect"]._response){}else{}},"network":{"output":{_type:"/electrical/type/netlist","container":{}}},"option":{}};FF.GK={_type:"/electrical/type/bus-output","name":{_response:"Bus output"},"temporary":{},"simulate":function(a){if(Ge["temporary"]["connect"]._response){}else{}},"network":{"output":{_type:"/electrical/type/netlist","container":{}}},"option":{}};FF.GL={_type:"/electrical/type/bus-input","name":{_response:"Bus input"},"temporary":{},"simulate":function(a){if(Ge["temporary"]["connect"]._response){}else{}},"network":{"output":{_type:"/electrical/type/netlist","container":{}}},"option":{}};FF.GM={_type:"/electrical/type/bus-io","name":{_response:"Bus input-output"},"temporary":{},"simulate":function(a){if(Ge["temporary"]["connect"]._response){}else{}},"network":{"output":{_type:"/electrical/type/netlist","container":{}}},"option":{}};FF.GN={_type:"/type/group/activity","container":{},"description":{_response:""},"name":{_response:"Welding task #15234a by unit A group"},data:{},GO:{_response:"#545aa7"},cO:{_response:"Building #1"}};FF.GP={_type:"/type/activity/load/light","description":{_response:"Opening of Hanger bay door #1"},"device":{},"name":{_response:"Default Activity"},data:{},GO:{_response:"#545aa7"},cO:{_response:"Building #1"}};FF.GQ={_type:"/type/group/asset","description":{_response:""},"name":{_response:"Default Asset Group"},"data":{"0":{"x":{_response:Date.now()},"y":{_response:0.9}},"1":{"x":{_response:Date.now()-(3600000*12)},"y":{_response:1}},"2":{"x":{_response:Date.now()+(3600000*12)},"y":{_response:1}},"3":{"x":{_response:Date.now()-(3600000*9)},"y":{_response:0.8}},"4":{"x":{_response:Date.now()-(3600000*11.99)},"y":{_response:1}},"5":{"x":{_response:Date.now()+(3600000*3)},"y":{_response:1}},"6":{"x":{_response:Date.now()-(3600000*6)},"y":{_response:0.7}},"7":{"x":{_response:Date.now()-(3600000*3)},"y":{_response:0.8}},"8":{"x":{_response:Date.now()+(3600000*6)},"y":{_response:1}},"9":{"x":{_response:Date.now()+(3600000*9)},"y":{_response:1}}},GO:{_response:"#545aa7"},cO:{_response:"Building #1"}};FF.GR={_type:"/type/asset","description":{_response:""},"name":{_response:"Default Asset"},GO:{_response:"#545aa7"},cO:{_response:"Building #1"},data:{"0":{"x":{_response:Date.now()},"y":{_response:0.9}},"1":{"x":{_response:Date.now()-(3600000*12)},"y":{_response:1}},"2":{"x":{_response:Date.now()+(3600000*12)},"y":{_response:0.1}},"3":{"x":{_response:Date.now()-(3600000*9)},"y":{_response:0.6}},"4":{"x":{_response:Date.now()-(3600000*11.99)},"y":{_response:0.5}},"5":{"x":{_response:Date.now()+(3600000*3)},"y":{_response:0.6}},"6":{"x":{_response:Date.now()-(3600000*6)},"y":{_response:0.7}},"7":{"x":{_response:Date.now()-(3600000*3)},"y":{_response:0.95}},"8":{"x":{_response:Date.now()+(3600000*6)},"y":{_response:0.3}},"9":{"x":{_response:Date.now()+(3600000*9)},"y":{_response:0.2}}}};FF.GS={_type:"/electrical/type/photovoltaic","name":{_response:"PV site 1"},"temporary":{"efficiency":{_type:"/type/unitless",value:{_response:0.31}}},"network":{"solar":{_type:"/unit/power",value:{_response:1000}},"output":{_type:"/electrical/type/netlist","container":{"1":{_responseTarget:"runner/net/3"}}}},"option":{"dimension":{_type:"/unit/power",value:{_response:1000}},"angleA":{_type:"/type/angle",value:{_response:1}},"angleB":{_type:"/type/angle",value:{_response:1}},"efficiency":{_type:"/type/unitless",value:{_response:0.31}}}};FF.GT={_type:"/electrical/type/photovoltaic","name":{_response:"Battery"},"temporary":{"efficiency":{_type:"/type/unitless",value:{_response:0.31}}},"network":{"output":{_type:"/electrical/type/netlist","container":{"1":{_responseTarget:"runner/net/4"}}}},"option":{"energy":{_type:"/type/energy",value:{_response:1000}},"power":{_type:"/type/power",value:{_response:1000}},"efficiency":{_type:"/type/unitless",value:{_response:0.94}}}};FF.GU={_type:"/electrical/type/inverter","name":{_response:"PV/BES inverter"},"temporary":{"efficiency":{_type:"/type/unitless",value:{_response:0.96}}},"network":{"pv":{_type:"/electrical/type/netlist","container":{"1":{_responseTarget:"runner/net/3"}}},"battery":{_type:"/electrical/type/netlist","container":{"1":{_responseTarget:"runner/net/4"}}},"output":{_type:"/electrical/type/netlist","container":{"1":{_responseTarget:"runner/net/2"}}}},"option":{"dimension":{_type:"/unit/power",value:{_response:250}},"efficiency":{_type:"/type/unitless",value:{_response:0.31}}}};FF.GV={_type:"/electrical/type/load","name":{_response:"Daily loads"},"temporary":{"power":{_type:"/unit/power",value:{_response:250}}},"network":{"input":{_type:"/electrical/type/netlist","container":{"1":{_responseTarget:"runner/net/2"}}}},"option":{"power":{_type:"/unit/power",value:{_response:250}}}};FF.GW=[{name:"HVAC",children:[{_type:"/mechanical/type/heat exchanger","name":{_response:"Heat exchanger"},"option":{}},{_type:"/mechanical/type/heating/thermostat","name":{_response:"Thermostat"},"option":{}},{_type:"/mechanical/type/heating/fan coil","name":{_response:"Fan coil"},"option":{}},{_type:"/mechanical/type/heating/rooftop unit","name":{_response:"Packaged unit"},"option":{}},{_type:"/mechanical/type/vent","name":{_response:"Vent"},"option":{}},{_type:"/mechanical/type/radiator","name":{_response:"Radiator"},"option":{}},{_type:"/mechanical/type/intake","name":{_response:"Air intake"},"option":{}},{_type:"/mechanical/type/heating/boiler","name":{_response:"Boiler"},"option":{}},{_type:"/mechanical/type/heating/chiller","name":{_response:"Chiller"},"option":{}},{_type:"/mechanical/type/heating/air handler","name":{_response:"Air handler"},"option":{}},{_type:"/mechanical/type/heating/pump","name":{_response:"Heat pump"},"option":{}},{_type:"/mechanical/type/cooling/ac","name":{_response:"Air conditioning"},"option":{}},{_type:"/mechanical/type/heating/furnace","name":{_response:"Furnace"},"option":{}},{_type:"/mechanical/type/heating/area","name":{_response:"Area heater"},"option":{}},{_type:"/mechanical/type/cooling/window ac","name":{_response:"Window A/C"},"option":{}}]},{name:"Plumbing",children:[{_type:"/mechanical/type/pump","name":{_response:"Pump"},"option":{}},{_type:"/mechanical/type/compressor","name":{_response:"Compressor"},"option":{}},{_type:"/mechanical/type/fan","name":{_response:"Fan"},"option":{}},{_type:"/mechanical/type/valve/automatic","name":{_response:"Control valve"},"option":{}},{_type:"/mechanical/type/valve/manual","name":{_response:"Manual valve"},"option":{}},{_type:"/mechanical/type/vessel","name":{_response:"Pressure vessel"},"option":{}}]}];FF.GX=[{name:"Reoccuring Triggers",children:[FF.Gd,FF.Gf,FF.Gg,FF.Gh]},{name:"Objects",children:[FF.Gr,FF.Gs,FF.Gt]},{name:"Actions",children:[FF.Gv,FF.Gu,FF.Gw]}];FF.GY=[{name:"Triggers",children:[FF.Gl]},{name:"Formulas",children:[FF.Gt]},{name:"Functions",children:[FF.Gm,FF.Gn,FF.Go,FF.Gp,FF.Gq]},{name:"I/O",children:[FF.Gi,FF.Gk]},{name:"Other",children:[FF.Gj]}];FF.GZ=[{name:"Devices",children:[{_type:"/company/paragonrobotics.com/device/sensor/generic","name":{_response:"Generic Sensor"}},{_type:"/company/paragonrobotics.com/device/sensor/ct","name":{_response:"CT Sensor"}},{_type:"/company/paragonrobotics.com/device/sensor/power","name":{_response:"Power Sensor"}},{_type:"/company/paragonrobotics.com/device/gateway/generic","name":{_response:"Generic Gateway"}}]}];FF.G_=[{name:"Common",children:[FF.GC,FF.GG,FF.GH,FF.GK,FF.GL,FF.GM,FF.GJ,FF.GI]},{name:"Power",children:[{_type:"/electrical/type/motor","name":{_response:"Motor"},"option":{"current":{_type:"/type/A","name":{_response:"Max current rating"},"description":{_response:"Max expected current at full load"},"value":{_response:200}},"voltage":{_type:"/type/m^2kgs^-3A^-1","name":{_response:"Max voltage rating"},"description":{_response:"Max recommended operating voltage"},"value":{_response:480}},"electrical/a":{_type:"/electrical/type/node","description":{_response:"A terminal"}},"electrical/b":{_type:"/electrical/type/node","description":{_response:"B terminal"}}}},{_type:"/electrical/type/motor/2","name":{_response:"Motor"},"temporary":{},"simulate":function(a){if(Ge["temporary"]["connect"]._response){}else{}},"network":{"input":{_type:"/electrical/type/netlist","container":{}}},"option":{"current":{_type:"/type/A","name":{_response:"Max current rating"},"description":{_response:"Max expected current at full load"},"value":{_response:200}},"voltage":{_type:"/type/m^2kgs^-3A^-1","name":{_response:"Max voltage rating"},"description":{_response:"Max recommended operating voltage"},"value":{_response:480}},"electrical/a":{_type:"/electrical/type/node","description":{_response:"A terminal"}},"electrical/b":{_type:"/electrical/type/node","description":{_response:"B terminal"}}}},{_type:"/electrical/type/motor overload protection","name":{_response:"Motor overload protection"},"option":{"current":{_type:"/type/A","name":{_response:"Max current rating"},"description":{_response:"Max expected current at full load"},"value":{_response:200}},"voltage":{_type:"/type/m^2kgs^-3A^-1","name":{_response:"Max voltage rating"},"description":{_response:"Max recommended operating voltage"},"value":{_response:480}},"electrical/a":{_type:"/electrical/type/node","description":{_response:"A terminal"}},"electrical/b":{_type:"/electrical/type/node","description":{_response:"B terminal"}}}},{_type:"/electrical/type/arrester","name":{_response:"Arrester"},"option":{"current":{_type:"/type/A","name":{_response:"Max current rating"},"description":{_response:"Max expected current at full load"},"value":{_response:200}},"voltage":{_type:"/type/m^2kgs^-3A^-1","name":{_response:"Max voltage rating"},"description":{_response:"Max recommended operating voltage"},"value":{_response:480}},"electrical/a":{_type:"/electrical/type/node","description":{_response:"A terminal"}},"electrical/b":{_type:"/electrical/type/node","description":{_response:"B terminal"}}}},{_type:"/electrical/type/circuit breaker","name":{_response:"Circuit breaker"},"option":{"current":{_type:"/type/A","name":{_response:"Max current rating"},"description":{_response:"Max expected current at full load"},"value":{_response:200}},"voltage":{_type:"/type/m^2kgs^-3A^-1","name":{_response:"Max voltage rating"},"description":{_response:"Max recommended operating voltage"},"value":{_response:480}},"electrical/a":{_type:"/electrical/type/node","description":{_response:"A terminal"}},"electrical/b":{_type:"/electrical/type/node","description":{_response:"B terminal"}}}},{_type:"/electrical/type/spd","name":{_response:"Surge protector device"},"option":{"current":{_type:"/type/A","name":{_response:"Max current rating"},"description":{_response:"Max expected current at full load"},"value":{_response:200}},"electrical/a":{_type:"/electrical/type/node","description":{_response:"A terminal"}},"electrical/b":{_type:"/electrical/type/node","description":{_response:"B terminal"}}}},{_type:"/electrical/type/fuse","name":{_response:"Fuse"},"option":{"current":{_type:"/type/A","name":{_response:"Max current rating"},"description":{_response:"Max expected current at full load"},"value":{_response:200}},"electrical/a":{_type:"/electrical/type/node","description":{_response:"A terminal"}},"electrical/b":{_type:"/electrical/type/node","description":{_response:"B terminal"}}}},{_type:"/electrical/type/fused disconnect","name":{_response:"Fused disconnect"},"option":{"current":{_type:"/type/A","name":{_response:"Max current rating"},"description":{_response:"Max expected current at full load"},"value":{_response:200}},"voltage":{_type:"/type/m^2kgs^-3A^-1","name":{_response:"Max voltage rating"},"description":{_response:"Max recommended operating voltage"},"value":{_response:480}},"electrical/add":{_type:"/electrical/type/node","description":{_response:"A terminal"}},"electrical/subtract":{_type:"/electrical/type/node","description":{_response:"B terminal"}}}},{_type:"/electrical/type/transformer","name":{_response:"Transformer"},"option":{"power":{_type:"/type/m^2kgs^-3","name":{_response:"Power rating"},"description":{_response:"Max operating power that can be sustained"},"value":{_response:100}},"voltage/greater":{_type:"/type/m^2kgs^-3A^-1","name":{_response:"High-side voltage"},"description":{_response:"Voltage rating for the high-side"},"value":{_response:480}},"voltage/smaller":{_type:"/type/m^2kgs^-3A^-1","name":{_response:"Low-side voltage"},"description":{_response:"Voltage rating for the low-side"},"value":{_response:120}},"electrical/add":{_type:"/electrical/type/node","description":{_response:"High-side terminal"}},"electrical/subtract":{_type:"/electrical/type/node","description":{_response:"Low-side terminal"}}}},{_type:"/electrical/type/power meter","name":{_response:"Electrical meter"},"option":{"current":{_type:"/type/A","name":{_response:"Max current rating"},"description":{_response:"Max expected current at full load"},"value":{_response:200}},"electrical/a":{_type:"/electrical/type/node","description":{_response:"A terminal"}},"electrical/b":{_type:"/electrical/type/node","description":{_response:"B terminal"}}}}]},{name:"Electronics",children:[{_type:"/electrical/type/resistor","name":{_response:"Resistor"},"option":{"resistance":{_type:"/type/m^2kgs^-3A^-2","description":{_response:"Resistance"},value:{_response:1000}},"electrical/a":{_type:"/electrical/type/node","description":{_response:"A terminal"}},"electrical/b":{_type:"/electrical/type/node","description":{_response:"B terminal"}}}},{_type:"/electrical/type/capacitor","name":{_response:"Capacitor"},"option":{"capacitance":{_type:"/type/m^-2kg^-1s^4A^2","description":{_response:"Capacitance"},value:{_response:0.000001}},"electrical/a":{_type:"/electrical/type/node","description":{_response:"A terminal"}},"electrical/b":{_type:"/electrical/type/node","description":{_response:"B terminal"}}}},{_type:"/electrical/type/capacitor/electrolytic","name":{_response:"Capacitor"},"option":{"capacitance":{_type:"/type/m^-2kg^-1s^4A^2","description":{_response:"Capacitance"},value:{_response:0.000001}},"electrical/a":{_type:"/electrical/type/node","description":{_response:"A terminal"}},"electrical/b":{_type:"/electrical/type/node","description":{_response:"B terminal"}}}},{_type:"/electrical/type/inductor","name":{_response:"Inductor"},"option":{"inductance":{_type:"/type/m^2kgs^-2A^-2","description":{_response:"Inductance"},value:{_response:0.001}},"electrical/a":{_type:"/electrical/type/node","description":{_response:"A terminal"}},"electrical/b":{_type:"/electrical/type/node","description":{_response:"B terminal"}}}},{_type:"/electrical/type/supply/voltage","name":{_response:"Voltage supply"},"option":{"voltage":{_type:"/type/m^2kgs^-3A^-1","description":{_response:"Voltage"},value:{_response:5}},"electrical/add":{_type:"/electrical/type/node","description":{_response:"Positive terminal"}},"electrical/subtract":{_type:"/electrical/type/node","description":{_response:"Negative terminal"}}}},{_type:"/electrical/type/supply/current","name":{_response:"Current supply"},"option":{"current":{_type:"/type/A","description":{_response:"Current"},value:{_response:0.001}},"electrical/add":{_type:"/electrical/type/node","description":{_response:"Positive terminal"}},"electrical/subtract":{_type:"/electrical/type/node","description":{_response:"Negative terminal"}}}}]},{name:"Switches",children:[FF.Gx,FF.GA]}];FF.G$={_type:"/electrical/type/hvac/split","name":{_response:"Split unit"},"temporary":{"power":{_type:"/unit/power",value:{_response:250}}},"network":{"input":{_type:"/electrical/type/netlist","container":{"1":{_responseTarget:"runner/net/2"}}}},"option":{"power":{_type:"/unit/power",value:{_response:250}}}};FF.G0={_type:"/company/paragonrobotics.com/device/temperature/1/1","name":{_response:"Device 1"},"product":{_responseTarget:"/company/paragonrobotics.com/device/temperature/1/1/1"}};FF.G1={_type:"/runner/type/default interior wall","dimension":{"1":{"x":{_response:0},"y":{_response:0}},"2":{"x":{_response:12.191999435424805},"y":{_response:0}}},"name":{_response:"Wall"},"container":{}};FF.G2={_type:"/runner/type/default exterior wall","dimension":{"1":{"x":{_response:0},"y":{_response:0}},"2":{"x":{_response:12.191999435424805},"y":{_response:0}}},"name":{_response:"Wall"},"container":{}};FF.G3={_type:"/runner/type/default floor","dimension":{"1":{"x":{_response:0},"y":{_response:0}},"2":{"x":{_response:12.191999435424805},"y":{_response:0}},"3":{"x":{_response:12.191999435424805},"y":{_response:5.4863996505737305}},"4":{"x":{_response:0},"y":{_response:5.4863996505737305}}},"name":{_response:"Floor segment 1"}};FF.G4={_type:"/runner/type/default roof","dimension":{"1":{"x":{_response:0},"y":{_response:0}},"2":{"x":{_response:12.191999435424805},"y":{_response:0}},"3":{"x":{_response:12.191999435424805},"y":{_response:5.4863996505737305}},"4":{"x":{_response:0},"y":{_response:5.4863996505737305}},"angle":{_response:7.5}},"name":{_response:"Roof segment 1"}};FF.G5={_type:"/runner/type/default interior window","dimension":{"1":{"x":{_response:3},"y":{_response:0}},"2":{"x":{_response:4},"y":{_response:0}},"a":{_response:1},"b":{_response:2}},"name":{_response:"Interior window"}};FF.G6={_type:"/runner/type/default exterior window","dimension":{"1":{"x":{_response:3},"y":{_response:0}},"2":{"x":{_response:4},"y":{_response:0}},"a":{_response:1},"b":{_response:2}},"name":{_response:"Exterior window"}};FF.G7={_type:"/runner/type/default interior door","dimension":{"1":{"x":{_response:3},"y":{_response:0}},"2":{"x":{_response:4},"y":{_response:0}},"a":{_response:1},"b":{_response:2}},"name":{_response:"Interior door"}};FF.G8={_type:"/runner/type/default exterior door","dimension":{"1":{"x":{_response:3},"y":{_response:0}},"2":{"x":{_response:4},"y":{_response:0}},"a":{_response:1},"b":{_response:2}},"name":{_response:"Exterior door"}};FF.G9=function(a){var b;a=a.toLowerCase();switch(a){case "campus":b=FF.Gc;break;case "building":b=FF.F7;break;case "utility":b=FF.GC;break;case "control switch":b=FF.Ha;break;case "pv":b=FF.GS;break;case "bes":b=FF.GT;break;case "inverter":b=FF.GU;break;case "misc. load":b=FF.GV;break;case "split unit":b=FF.G$;break;case "device":b=FF.G0;break;case "floor":b=FF.F5;break;case "interior wall":b=FF.G1;break;case "exterior wall":b=FF.G2;break;case "floor segment":b=FF.G3;break;case "roof segment":b=FF.G4;break;case "interior window":b=FF.G5;break;case "exterior window":b=FF.G6;break;case "interior door":b=FF.G7;break;case "exterior door":b=FF.G8;break;case "warehouse":b=FF.F3;break;case "residential small house":b=FF.F4;break;default:return false;}return JSON.parse(JSON.stringify(b));};FF.Hb=function(){return v.ac(FF.F7);};FF.Hc=function(a,b,c){var d={_type:"/type/building","name":{_response:"New building"},"dimension":{"angle":{_response:0},"x":{_response:0},"y":{_response:0}},"container":{}};var e=a/b;var f=Math.sqrt(e/2);var g=f*2;for(var cI=0;cI<b;cI++){var h={_type:"/type/slice","name":{_response:"Floor "+(cI+1)},"dimension":{_response:(cI*4)},"container":{}};var i={_type:"runner/type/default exterior wall","name":{_response:"Wall"},"dimension":{"1":{"x":{_response:0},"y":{_response:0}},"2":{"x":{_response:0},"y":{_response:f}}},"container":{}};cP.dF(h["container"],i);var j={_type:"runner/type/default exterior wall","name":{_response:"Wall"},"dimension":{"1":{"x":{_response:0},"y":{_response:f}},"2":{"x":{_response:g},"y":{_response:f}}},"container":{}};cP.dF(h["container"],j);var k={_type:"runner/type/default exterior wall","name":{_response:"Wall"},"dimension":{"1":{"x":{_response:g},"y":{_response:f}},"2":{"x":{_response:g},"y":{_response:0}}},"container":{}};cP.dF(h["container"],k);var l={_type:"runner/type/default exterior wall","name":{_response:"Wall"},"dimension":{"1":{"x":{_response:g},"y":{_response:0}},"2":{"x":{_response:0},"y":{_response:0}}},"container":{}};cP.dF(h["container"],l);cP.dF(h["container"],{_type:"runner/type/default floor","name":{_response:"Floor"},"dimension":{"1":{"x":{_response:0},"y":{_response:0}},"2":{"x":{_response:0},"y":{_response:f}},"3":{"x":{_response:g},"y":{_response:f}},"4":{"x":{_response:g},"y":{_response:0}}}});cP.dF(i["container"],{_type:"runner/type/default door","name":{_response:"Door"},"dimension":{"1":{"x":{_response:0},"y":{_response:f/2-0.5}},"2":{"x":{_response:0},"y":{_response:f/2+0.5}}}});cP.dF(j["container"],{_type:"runner/type/default window","name":{_response:"Window"},"dimension":{"1":{"x":{_response:g},"y":{_response:f/2-0.5}},"2":{"x":{_response:g},"y":{_response:f/2+0.5}}}});cP.dF(k["container"],{_type:"runner/type/default window","name":{_response:"Window"},"dimension":{"1":{"x":{_response:g/2-0.5},"y":{_response:0}},"2":{"x":{_response:g/2+0.5},"y":{_response:0}}}});cP.dF(l["container"],{_type:"runner/type/default window","name":{_response:"Window"},"dimension":{"1":{"x":{_response:g/2-0.5},"y":{_response:f}},"2":{"x":{_response:g/2+0.5},"y":{_response:f}}}});cP.dF(d["container"],h);}var h={_type:"/type/slice","name":{_response:"Roof"},"dimension":{_response:(b*4)},"container":{}};cP.dF(d["container"],h);cP.dF(h["container"],{_type:"runner/type/default roof","name":{_response:"Roof"},"dimension":{"angle":{_response:20},"1":{"x":{_response:0},"y":{_response:f/2}},"2":{"x":{_response:g},"y":{_response:f/2}},"3":{"x":{_response:g},"y":{_response:0}},"4":{"x":{_response:0},"y":{_response:0}}}});cP.dF(h["container"],{_type:"runner/type/default roof","name":{_response:"Roof"},"dimension":{"angle":{_response:20},"1":{"x":{_response:0},"y":{_response:f/2}},"2":{"x":{_response:g},"y":{_response:f/2}},"3":{"x":{_response:g},"y":{_response:f}},"4":{"x":{_response:0},"y":{_response:f}}}});return d;};FF.Hd=function(a){var b=[];b._type=a._type;b.hG={};for(var c in a){if(c==="_type"){continue;}if(c==="container"){continue;}b.hG[c]={_type:"",dd:a[c]};}return b;};FF.He=function(a,b,c){if(a._type.search("/electrical/")!==-1||a._type.search("/device/")!==-1){var bV=true;}if(b._type.search("/type/system")!==-1||b._type==="/type/campus"&&!bV){var d=b["container"];}else if((b._type.search("/type/system")!==-1||b._type==="/type/campus")&&bV){var d=b["model"];}else if(b.type==="/type/campus"){var d=b["container"];}else if(b._type==="/type/building"){var d=b["model"];}else if(b._type==="/type/slice"){var d=b["container"];}else{var d=b["container"];}var b3=Object["keys"](d)[0];if(!b3){b3=1;}while(d[b3]){b3++;}d[b3]=a;c(a,b3);};FF.Hf=function(a,b,c){var oW=FF.Hg(b,a);var d=b;var parent=oW.parent;if(d._type.search("/electrical/")!==-1||d._type.search("/device/")!==-1){var bV=true;}if(parent._type.search("/type/system")!==-1||parent._type==="/type/campus"&&!bV){var e=parent["container"];}else if((parent._type.search("/type/system")!==-1||parent._type==="/type/campus")&&bV){var e=parent["model"];}else if(parent.type==="/type/campus"){var e=parent["container"];}else if(parent._type==="/type/building"){var e=parent["model"];}else if(parent._type==="/type/slice"){var e=parent["container"];}else{var e=parent["container"];}cP.nE(e,b);c(oW.parent);};FF.Hh=function(a,b,c){var oW=FF.Hg(b,a);b=JSON.parse(JSON.stringify(b));var d=b;var parent=oW.parent;if(d._type.search("/electrical/")!==-1||d._type.search("/device/")!==-1){var bV=true;}if(parent._type.search("/type/system")!==-1||parent._type==="/type/campus"&&!bV){var e=parent["container"];}else if((parent._type.search("/type/system")!==-1||parent._type==="/type/campus")&&bV){var e=parent["model"];}else if(parent.type==="/type/campus"){var e=parent["container"];}else if(parent._type==="/type/building"){var e=parent["model"];}else if(parent._type==="/type/slice"){var e=parent["container"];}else{var e=parent["container"];}var bw=1;while(e[bw]){bw++;}b.name._response=b.name._response+" - Copy";e[bw]=b;c(b);};FF.Hg=function(a,b,c){var HA=b["container"];var d={};if(a===b){return {parent:b,b3:1,target:c};}for(var cI in HA){if(HA[cI]===a){return {parent:b,b3:cI,target:c+"/"+cI};}else if(HA[cI]["container"]){var v0=FF.Hg(a,HA[cI],c+"/container");if(v0){return v0;}}}var e=b["model"];for(var cI in e){if(e[cI]===a){return {parent:b,b3:cI,target:c+"/"+cI};}else if(e[cI]["container"]){var v0=FF.Hg(a,e[cI],c+"/container");if(v0){return v0;}}}};/* (C) 2021 Halo Automation Systems LLC; This software is proprietary and is NOT to be distributed or shared in any way.*/"use strict";var Hi=function(a,b,c,d){this.jT=a;this.Hj=this.Hk(b);if(d){this.dm(d);}};Hi.prototype.dm=function(a){var b=this;this.jT.dm(this.Hj,function(c,d){b.data=c;if(c[0]){b.data=c[0];}else if(c){b.data=c;}if(a){a(b.data,d);}});};Hi.prototype.Hl=function(a,b,c){a=this.Hj+"/"+this.Hk(a);if(typeof b==="undefined"){b=null;}this.jT.Hm(a,b,function(d,e){c();});};Hi.prototype.Hn=function(a){a=this.Hk(a);this.jT.Hn(this.Hj+"/"+a,function(b,c){});var b=a.split("/");if(b[0]==""){b=b.slice(1);}var H3=b.slice(0,-1).join("/");var c=FF.FP(H3,this.data);delete c[b.slice(-1)];};Hi.prototype.Ho=function(a,b,c){a=this.Hk(a);this.jT.Ho(this.Hj+"/"+a,this.Hj+"/"+b,function(d,e){c();});var d=a.split("/");if(d[0]==""){d=d.slice(1);}};Hi.prototype.db=function(a,b,c){a=this.Hk(a);var d=this.data;if(a&&a.length){var e=a.split("/");while(e.length){if(d[e[0]]){d=d[e[0]];e.shift();}else{d[e[0]]={};d=d[e[0]];e.shift();}}}Object.assign(d,b);if(typeof b==="undefined"){b=null;}var f=this.Hk(this.Hj+"/"+a);this.jT.write(f,b,function(g,h){if(c){c();}});};Hi.prototype.update=function(a){this.db("",this.data,a);};Hi.prototype.Hp=function(){return this.jT.path+"/"+this.Hj;};Hi.prototype.remove=function(a,b){a=this.Hk(a);var c=a.split("/");if(c[0]==="runner"){c.splice(0,1);}var b3=0;var d=this.data;while(d[c[b3]]){if(b3!==(c.length-1)){d=d[c[b3]];b3++;}else{break;}}delete d[c[c.length-1]];this.update(b);};Hi.prototype.CU=function(a){a=this.Hk(a);if(a.indexOf("runner/")!==-1){a=a.replace("runner/","");}var b=a.split("/");var b3=0;var c=this.data;while(b[b3]){c=c[b[b3]];b.splice(0,1);}return c;};Hi.prototype.Hk=function(a){a=String(a);if(a[0]==="/"){a=a.slice(1);}if(a[a.length-1]==="/"){a=a.substring(0,a.length-1);}return a;};/* (C) 2021 Halo Automation Systems LLC; This software is proprietary and is NOT to be distributed or shared in any way.*/"use strict";var Hq={};if(typeof require!=="undefined"){}Hq.Hr=Object.freeze({Hs:"/type/pod/sensor/a",Ht:"/type/pod/sensor/b"});Hq.Hu=Object.freeze({Hv:"/type/machine/container/authenticate",Hw:"/type/machine/container"});Hq.Hx=-1;Hq.Hy=-1;Hq.Hz={_type:Hq.Hu.Hw,type:"/type/K",id:{_response:"0123"},name:{_response:"My First Pod"},cp:{ck:{_response:0},wd:{_response:1623443542044}},HA:{0:{_type:Hq.Hr.Hs,id:{_response:"1623443542044"},target:{_response:"/company/paragonrobotics.com/device/transform/20102/1/154/machine/2"},sB:{_response:"/company/paragonrobotics.com/device/transform/20102/1/154/machine/2"},dd:{_response:"Sensor 1"},cp:{ck:{_response:0},wd:{_response:Hq.Hx}},b$:{_response:6000}},1:{_type:Hq.Hr.Ht,id:{_response:"1623443542045"},target:{_response:"/company/paragonrobotics.com/device/transform/20102/1/154/machine/3"},sB:{_response:"/company/paragonrobotics.com/device/transform/20102/1/154/machine/3"},dd:{_response:"Sensor 2"},cp:{ck:{_response:0},wd:{_response:Hq.Hx}},b$:{_response:6000}},2:{_type:Hq.Hr.Ht,id:{_response:"1623443542046"},target:{_response:"/company/paragonrobotics.com/device/transform/20102/1/154/workspace/2"},sB:{_response:"/company/paragonrobotics.com/device/transform/20102/1/154/machine/3"},dd:{_response:"Sensor 3"},cp:{ck:{_response:0},wd:{_response:Hq.Hx}},b$:{_response:6000}}}};Hq.HB={_type:Hq.Hu.Hv,type:"/type/K",id:{_response:"/company/paragonrobotics.com/device/transform/20102/1/154/machine/2"},name:{_response:"N20102 - Temperature"},cp:{ck:{_response:0},wd:{_response:Hq.Hx}},HA:{0:{_type:Hq.Hr.Hs,id:{_response:"1623443542046"},target:{_response:"/company/paragonrobotics.com/device/transform/20102/1/154/workspace/2"},sB:{_response:"/company/paragonrobotics.com/device/transform/20102/1/154/machine/2"},dd:{_response:""},cp:{ck:{_response:0},wd:{_response:1}},b$:{_response:6000}},1:{_type:Hq.Hr.Hs,id:{_response:"1623443542047"},target:{_response:"/company/paragonrobotics.com/device/transform/20102/1/154/workspace/3"},sB:{_response:"/company/paragonrobotics.com/device/transform/20102/1/154/machine/2"},dd:{_response:""},cp:{ck:{_response:2},wd:{_response:3}},b$:{_response:6000}},2:{_type:Hq.Hr.Hs,id:{_response:"1623443542048"},target:{_response:"/company/paragonrobotics.com/device/transform/20102/1/154/workspace/2"},sB:{_response:"/company/paragonrobotics.com/device/transform/20102/1/154/machine/2"},dd:{_response:""},cp:{ck:{_response:4},wd:{_response:Hq.Hx}},b$:{_response:6000}}}};Hq.HC=function(a,b){b=b||{};return {data:{_type:b._type||Hq.Hu.Hw,"type":{_response:v.ba(b["type"])||""},"name":{_response:v.ba(b["name"])||"New Data Pod"},"date":b["date"]||{"start":{_response:0},"stop":{_response:Hq.Hx}},"id":{_response:v.ba(b["id"])||Hq.HD()},"container":b["container"]||{},"log":b["log"]||{}},dl:a,HE:function(){return this.data._type===Hq.Hu.Hv;},HF:function(c,d,e,f,g,h,i){fQ.push(this.data["container"],{_type:f||Hq.Hr.Hs,"id":{_response:String(Date.now())},"target":{_response:c},"sensor":{_response:d},"description":{_response:g||""},"date":{"start":{_response:h||0},"stop":{_response:i||Hq.Hx}},"refresh":{_response:e}});return true;},HG:function(c){this.data["container"]=fQ.filter(this.data["container"],function(d){return d["target"]._response!==c;});return true;},HH:function(c){this.data["container"]=fQ.filter(this.data["container"],function(d){return d["id"]._response!==c;});return true;},HI:function(c){var d=this;this.data["container"]=fQ.fR(this.data["container"]).map(function(e){if(e["sensor"]._response===c&&e["date"]["stop"]._response===Hq.Hx){e["date"]["stop"]._response=Date.now();d.HJ("Stopped logging sensor "+c+".");}return e;}).fX();return true;},save:function(c){var d=this;if(this.HE()){Hq.write(this,c);}else{Hq.HK(this.dl,this.data["id"]._response,function(e){d.dl.db("machine/"+e,d.data,c);});}},remove:function(c){if(this.HE()){c();return;}var d=this;Hq.HK(this.dl,this.data["id"]._response,function(e){delete d.dl.data["machine"][e];d.dl.data["machine"]=v.a9(d.dl.data["machine"],0);d.dl.db("machine",d.dl.data["machine"],c);});},HL:function(c,d,e){var f=this;if(!c){c=f.data["date"]["start"]._response;}if(!d){var d=Hq.HM(f.data["date"]["stop"]._response);}this.HN(c,d,function(g){var u5=g.v_;var u6=g.v$;var HO=g.HO;var data=u5.map(function(h,i){return [h,u6[i]];});var h=Hq.HP(data,HO,c,d);g.u5=h[0];g.u6=h[1];e(g);});},HN:function(c,d,e){var f=fQ.fR(this.data["container"]).sort(function(g,h){return g._type===Hq.Hu.Hs?-1:1;}).fX();var HO=Object.values(f).map(function(g){return g["refresh"]._response;});var vF=Hq.HM(this.data["date"]["stop"]._response);var g=new tG.vz({sB:Hq.HQ(this.data["container"]),ef:be.cn(this.data["type"]._response),ve:3,vx:28,vy:4,uZ:v.K(),uY:Hq.HR(this.data["container"]),vB:true,name:this.data["name"]._response,dW:0,vD:f,vE:this.data["date"]["start"]._response,vF:vF});if(fQ.fZ(this.data["container"])){e(new tG.vz({}));return;}g.HO=HO;haloS["findShareServerForSensor"](fQ.f_(this.data["container"])["target"]._response,g);g.z(function(){g.vk(0,c,d,function(){e(g);});});},ui:function(c,d,e){var f=this;if(!c){c=f.data["date"]["start"]._response;}if(!d){var d=Hq.HM(f.data["date"]["stop"]._response);}this.HL(c,d,function(g){haloView.HS("dataChart",e||function(){},false,{"series":[{"baseName":f.data["name"]._response,"name":f.data["name"]._response,"data":g,"time:":0}]},true);});},HJ:function(c){return true;},bn:function(){var f_=fQ.f_(this.data["container"]);return f_&&f_["refresh"]._response!==Hq.Hy;}};};Hq.write=function(a,b){var c=a.data["id"]._response.replace(/\//g,"%%");fF.request("writeDataPod",[[212,c],[250,a.data]],b);};Hq.dm=function(a,b){var c=a.replace(/\//g,"%%");fF.request("readDataPod",[[212,c]],b);};Hq.HT=function(a){fF.request("readAllDataPods",[],a);};Hq.HK=function(a,b,c){a.dm(function(d){var e=d["machine"];var f=0;while(e[f]){if(e[f]["id"]._response===b){c(f);return;}f++;}c(f);});};Hq.HD=function(){return String(Date.now());};Hq.HU=function(a){return a.slice(a.lastIndexOf("/machine")-1);};Hq.HR=function(a){a=Object.values(a);if(!a.length){return 0;}if(!a.length||a[0]["refresh"]._response===Hq.Hy){var b=1000*60*60*24*3;return b;}var c=a.reduce(function(d,e){return d+e["refresh"]._response;},0);return c/a.length;};Hq.HQ=function(a){a=Object.values(a);var target=a[a.length-1]["target"]._response;if(v.bi(target)){target+="/machine/1";}return be.cn(target);};Hq.HM=function(a){return a===Hq.Hx?Date.now():a;};Hq.HP=function(a,b,c,d){var e=[];for(var cI=0;cI<a.length;cI++){if(b[cI]!==Hq.Hy){var f=Hq.HV(a[cI][0],b[cI]);var g=Hq.HW(f,a,cI);var h=Hq.HX(a[cI],g);e.push(h);}else{e.push(a[cI]);}}var i=Hq.HY(e,c,d);return i;};Hq.HV=function(a,b){var c=[];for(var cI=0;cI<a.length-1;++cI){var bz=a[cI+1]-a[cI];if(bz!==b){var d=a[cI];while(d+b<a[cI+1]){d+=b;c.push(d);}}}return [b,c];};Hq.HW=function(a,b,c){var d=[];var Ja=a[0];var bU=Ja*0.5;for(var dz=0;dz<a[1].length;++dz){var e=a[1][dz];var Bz=[e-bU,e+bU];var f=Hq.HZ(Bz,b,c);if(f!==undefined){d.push([f[0],f[1]]);}}return d;};Hq.HZ=function(a,b,c){for(var cI=c+1;cI<b.length;++cI){var b3=Hq.H_(b[cI][0],a);if(b3!==-1){return [b[cI][0][b3],b[cI][1][b3]];}}};Hq.H_=function(a,b){var ck=0;var end=a.length-1;var c=function(d){return d>=b[0]?d<=b[1]:0?1:-1;};while(ck<=end){var d=parseInt(ck+((end-ck)/2),10);var e=c(a[d]);if(e===0){return d;}else if(e===-1){ck=d+1;}else if(e===1){end=d-1;}}return -1;};Hq.HX=function(a,b){if(!b.length){return [a[0].slice(),a[1].slice()];}var c=a[0];var data=a[1];var d=[];var e=[];var f=0;var g=b[f][0];for(var cI=0;cI<c.length;++cI){while(c[cI]>g){d.push(b[f][0]);e.push(b[f][1]);f++;if(f<b.length){g=b[f][0];}else{g=Infinity;}}d.push(c[cI]);e.push(data[cI]);}return [d,e];};Hq.HY=function(a,b,c){var d=function(e,f,g,h){if(g>=a.length){return;}if(a[g][0].length===0){d(e,f,g+1,h);return;}var i=a[g][0][0];var j=a[g][0][a[g][0].length-1];loop:for(var cI=0;cI<a[g][0].length;++cI){while(a[g][0][cI]<e){cI++;if(cI>=a[g][0].length){break loop;}}var _=a[g][0][cI];var aa=a[g][1][cI];if(e<=_&&_<=f){h.push([_,aa]);}else{break;}}if(i>e){d(e,i-1,g+1,h);}if(j<f){d(j+1,f,g+1,h);}};var e=[];d(b,c,0,e);return e.sort(function(f,g){return f[0]-g[0];}).reduce(function(f,g){f[0].push(g[0]);f[1].push(g[1]);return f;},[[],[]]);};/* (C) 2021 Halo Automation Systems LLC; This software is proprietary and is NOT to be distributed or shared in any way.*/"use strict";var H$={};H$.CU=function(a){var b=function(c){var _type=JSON.parse(JSON.stringify(c));if(c[0]=="/"){c=c.substring(1);}if(c[c.length-1]=="/"){c=c.substring(0,c.length-2);}var d=c.split("/");var b3=0;var e=H$;while(d[b3]){e=e[d[b3]];d.splice(0,1);}e["_type"]=_type;return v.ac(e);};if(typeof a==="string"){return b(a);}else if(Array.isArray(a)){var data={};for(var cI=0;cI<a.length;cI++){data[cI]=b(a[cI]);}return data;}};H$["type"]={};H$["type"]["activity"]={};H$["type"]["activity"]["1"]={"description":{_response:"Opening of Hanger bay door #1"},"device":{},"name":{_response:"Default Activity"},"code":"","container":{},"data":{},"visual":{_response:"#545aa7"},"workspace":{_response:"Building #1"},"option":{},"power":{},"target":{"_type":""},"tasks":{}};H$["electrical"]={};H$["electrical"]["type"]={};H$["electrical"]["type"]["constraint-item"]={};H$["electrical"]["type"]["constraint-item"]["1"]={"code":{_response:""}};H$["electrical"]["type"]["constraint-item"]["thermostat-schedule"]={_type:"/type/constraint-item/1","option":{"frequency":{"_type":"/type/input","description":{"_response":"The frequency of the load"},"name":{"_response":"Filler"},"value":{"_response":"1"}}}};H$["electrical"]["type"]["constraint-item"]["scheduled-load"]={_type:"/type/constraint-item/1","option":{"frequency-period":{"_type":"/type/select","description":{"_response":"The frequency period"},"name":{"_response":"Frequency period"},"option":{"1":{"name":{_response:"Daily"},"value":{_response:"daily"}},"2":{"name":{_response:"Weekly"},"value":{_response:"weekly"}},"3":{"name":{_response:"Monthly"},"value":{_response:"monthly"}},"4":{"name":{_response:"Yearly"},"value":{_response:"yearly"}}},"value":{"_response":"daily"}},"frequency":{"_type":"/type/input","description":{"_response":"The frequency of the load"},"name":{"_response":"Frequency"},"value":{"_response":"1"}},"missed-cost":{"_type":"/type/input","description":{"_response":"The cost of not running the activity"},"name":{"_response":"Missed cost"},"value":{"_response":"0"}},"missed-cost2":{"_type":"/type/currency","description":{"_response":"The cost of not running the activity"},"name":{"_response":"Missed cost"},"type":{"_response":"USD"},"value":{"_response":"1"}},"missed-cost3":{"_type":"currency/per/m^2kgs^-2","description":{"_response":"The cost of not running the activity"},"name":{"_response":"Missed cost"},"value":{"_response":"0"}},"duration":{"_type":"/type/s","description":{"_response":"The activity length"},"name":{"_response":"Duration"},"value":{"_response":"10"}},"duration1":{"_type":"/type/input","description":{"_response":"The activity length"},"name":{"_response":"Duration"},"value":{"_response":"10"}},"duration-period":{"_type":"/type/select","description":{"_response":"The activity length period"},"name":{"_response":"Duration period"},"option":{"1":{"name":{_response:"Seconds"},"value":{_response:"seconds"}},"2":{"name":{_response:"Minutes"},"value":{_response:"minutes"}},"3":{"name":{_response:"Hours"},"value":{_response:"hours"}}},"value":{"_response":"minutes"}},"start-date":{"_type":"/type/date","description":{"_response":"The start date"},"name":{"_response":"Start date"},"value":{"_response":""}},"end-date":{"_type":"/type/date","description":{"_response":"The end date"},"name":{"_response":"End date"},"value":{"_response":""}},"start-time":{"_type":"/type/date/time","description":{"_response":"The end date"},"name":{"_response":"End date"},"value":{"_response":""}},"end-time":{"_type":"/type/date/time","description":{"_response":"The end date"},"name":{"_response":"End date"},"value":{"_response":""}}}};H$["electrical"]["type"]["constraint-item"]["base-rate"]={_type:"/type/constraint-item/1","name":{_response:"Base name"},"option":{"base-rate-input":{"_type":"/type/input","description":{"_response":"The regular base rate"},"name":{"_response":"Base rate"},"value":{"_response":".045"}}}};H$["electrical"]["type"]["constraint-item"]["schedule-rate"]={_type:"/type/constraint-item/1","option":{"start-date":{"_type":"/type/date","description":{"_response":"The start date"},"name":{"_response":"Start date"},"value":{"_response":""}},"end-date":{"_type":"/type/date","description":{"_response":"The end date"},"name":{"_response":"End date"},"value":{"_response":""}},"start-time":{"_type":"/type/date/time","description":{"_response":"The end date"},"name":{"_response":"End date"},"value":{"_response":""}},"end-time":{"_type":"/type/date/time","description":{"_response":"The end date"},"name":{"_response":"End date"},"value":{"_response":""}},"base-rate-input":{"_type":"/type/input","description":{"_response":"The regular base rate"},"name":{"_response":"Base rate"},"value":{"_response":".045"}},"additional-rate":{"_type":"/type/input","description":{"_response":"The additional base rate"},"name":{"_response":"Additional rate"},"value":{"_response":""}},"total-rate":{"_type":"/type/input","description":{"_response":"The base rate + additional rate"},"name":{"_response":"Total rate"},"value":{"_response":""}}}};H$["electrical"]["type"]["constraint-item"]["demand-charge"]={_type:"/type/constraint-item/1","name":{_response:""},"option":{"demand-charge-input":{"_type":"/type/input","description":{"_response":"The demand charge rate"},"name":{"_response":"Base rate"},"value":{"_response":".045"}},"time-period":{"_type":"/type/select","description":{"_response":"The time period"},"name":{"_response":"Time period"},"option":{"1":{"name":{_response:"15 minutes"},"value":{_response:"15"}},"2":{"name":{_response:"30 minutes"},"value":{_response:"30"}},"3":{"name":{_response:"60 minutes"},"value":{_response:"60"}}},"value":{"_response":"15"}}}};H$["electrical"]["type"]["constraint-item"]["custom"]={_type:"/type/constraint-item/1","option":{"variables-select":{"_type":"/type/select","description":{"_response":"The number of variables"},"name":{"_response":"Variables"},"option":{"1":{"name":{_response:"0"},"value":{_response:"0"}},"2":{"name":{_response:"1"},"value":{_response:"1"}},"3":{"name":{_response:"2"},"value":{_response:"2"}}},"value":{"_response":"0"}},"equation":{"_type":"/type/textarea","description":{"_response":"The custom equation"},"name":{"_response":"Equation"},"value":{"_response":""}}}};H$["electrical"]["type"]["microgrid"]={};H$["electrical"]["type"]["microgrid"]["1"]={"name":{"_response":"Microgrid"},"description":{"_response":""},"schedule":{"temporary":{},"program":{}},"activities":{},"option":{}};H$["type"]["activity"]["instance"]={};H$["type"]["activity"]["instance"]["1"]={"_type":"/type/activity/instance/1","option":{"start":{"_type":"/type/date","description":{"_response":"The start date"},"name":{"_response":"Start date"},"value":{"_response":0}}},"tasks":{},"power":{},"activity":{}};H$["type"]["task"]={};H$["type"]["task"]["manual"]={};H$["type"]["task"]["manual"]["1"]={"_type":"/type/task/manual/1","check":{_response:0},"description":{_response:""},"duration":{_response:""},"lead-time":{_response:""}};H$["type"]["task"]["automatic"]={};H$["type"]["task"]["automatic"]["1"]={"_type":"/type/task/automatic/1","check":{_response:0},"description":{_response:""},"duration":{_response:""},"lead-time":{_response:""}};/* (C) 2021 Halo Automation Systems LLC; This software is proprietary and is NOT to be distributed or shared in any way.*/"use strict";var H0=function(a){a=a||{};this.options=a;this.path=a.path||"/reserved/system";this.options.FI=a.FI||false;this.H1={};};H0.prototype.dl=function(a,b,c){var dl=new Hi(this,a,b,c);return dl;};H0.prototype.dm=function(a,b){var c=this;var d=function(e){if(e.length===0){b(null,"No data found");return;}var f=e.join("/");c.H2(f,function(g){if(g){c.data=g;c.dm(a,function(h){c.H3=c.H4;c.data=h;b(h);});}else{d(e.slice(0,-1));}});};if(b==null){b=a;a="";}if(c.data==null){d(c.path.split("/"));return;}this.H5(a,"/",c.data,b);};var FP=function(a,b){var c=b;if(a.length){var d=a.split("/");while(d.length){var e=null;var cI=0;for(;cI<d.length;cI++){var f=d.slice(0,cI+1).join("/");e=c[f];if(e!=null){break;}}if(e==null){return {target:c,H6:d.join("/")};}c=e;d.splice(0,cI+1);}}return {target:c};};H0.prototype.H5=function(a,b,c,d){var e=this;if(c._type==="/type/node"){var path=(this.path+b);if(path[path.length-1]==="/"){path=path.slice(0,-1);}this.H2(path,function(f){if(f){e.H4=path;e.H5(a,b,f,d);}else{d(null,"No data found");}});return;}var f=a;f=this.H7(f);if((f==="/")||(f==="")){d(c);return;}var g=FP(f,c);if(g.H6===f){d(null,"No data found");}else if(g.H6){e.H5(g.H6,b+f.slice(0,-g.H6.length),g.target,d);return;}else if(g.target){e.H5("",b+f,g.target,d);}else{d(null,"No data found");}};H0.prototype.cX=function(a,b,c){var d=this;if(a.slice(-1)==="/"){a=a.slice(0,-1);}var e=d.path+"/"+a;FF.cX(e,b,c);};H0.prototype.H2=function(a,b){var c=this;var d=false;d=this.options.H8&&((c.H1[a]==null)&&(!this.options.H9));haloS.dv.dA({path:a},function(e){if(e){c.H1[a]=e["date"];b(cP.de(e["data"]));}else{b({});}},null,d);};H0.prototype.Hm=function(a,b,c){var d=this;var path=this.path;var e=a.split("/");if(e[0]==""){e=e.slice(1);}var H3=e.slice(0,-1);var nodeName=e.slice(-1);var f=this.data;var H4=path;var g=this.data;var h=function(i,j){if(j>=i.length){f[nodeName]={_type:"/type/node"};var k=cP.dx(g);haloS.dv.dw({"path":H4,"data":k,"previous":d.H1[H4]},function(l){if(l){d.H1[H4]=l;}var k=cP.dx(b);haloS.dv.dw({"path":path+"/"+nodeName,"data":k,"previous":d.H1[path+"/"+nodeName]},function(m){if(m){d.H1[path+"/"+nodeName]=m;}c();});});return;}var l=i[j];l=d.H7(l);var v0=f[l];path+=("/"+l);if(v0){if(v0._type==="/type/node"){H4=path;d.H2(H4,function(m){f=m;g=f;h(i,j+1);});return;}f=v0;h(i,j+1);}else{c(false);}};h(H3,0);};H0.prototype.Hn=function(a,b){var c=this;var d=a.split("/");if(d[0]==""){d=d.slice(1);}var H3=d.slice(0,-1).join("/");var e=FF.FP(H3,this.data);var f=d.join("/");var g=FF.FP(f,this.data);delete e[d.slice(-1)];var path=this.path;var h=cP.dx(this.data);haloS.dv.dw({"path":path,"data":h,"previous":c.H1[path]},function(i){if(i){c.H1[path]=i;}if(g._type==="/type/node"){var path=c.path;if(a.length){a=c.Ia(a);path+=("/"+a);}haloS.dv.iI({"path":path},function(){b();});}else{b();}});};H0.prototype.Ho=function(a,b,c){var d=this;var e=a.split("/");if(e[0]==""){e=e.slice(1);}var H3=e.slice(0,-1).join("/");var f=FF.FP(H3,this.data);var g=e.join("/");var h=FF.FP(g,this.data);var i=f[e.slice(-1)];delete f[e.slice(-1)];var j=b.split("/");var k=j[j.length-1];f[k]=i;var path=this.path;var l=cP.dx(this.data);haloS.dv.dw({"path":path,"data":l,"previous":d.H1[path]},function(m){if(m){d.H1[path]=m;}if(h._type==="/type/node"){var path=d.path;if(a.length){a=d.Ia(a);path+=("/"+a);}var n=path;var path=d.path;if(b.length){b=d.Ia(b);path+=("/"+b);}var o=path;haloS.dv.iJ(n,o,function(){c();});}else{c();}});};H0.prototype.write=function(a,b,c){a=this.Ia(a);a=this.H7(a);FF.FN(this.path,this.path,a,this.data,b,c,this.H1);};H0.prototype.remove=function(a,b){a=this.Ia(a);a=this.H7(a);var b3=a.lastIndexOf("/");var c=a.substring(b3+1);var d=a.substring(0,b3);var e=FF.FP(d,this.data);delete e[c];this.write("",this.data,b);};H0.prototype["delete"]=function(a,b){this.remove(a,b);};H0.prototype.H7=function(a){if(a.slice(0,7)==="runner/"){a=a.slice(7);}return a;};H0.prototype.Ia=function(a){if(a[0]==="/"){a=a.slice(1);}return a;};/* (C) 2021 Halo Automation Systems LLC; This software is proprietary and is NOT to be distributed or shared in any way.*/"use strict";var Ib={};Ib.Ic=function(a){for(var cI in a){var b=a[cI];if(cI==="_type"){continue;}Ib.Id(b);}};Ib.Id=function(a){if(a["test"]){for(var dz in a["test"]){var b=Ib.Ie[dz]["evaluate"](a);if(typeof b==="object"){if(a["onupdate"]){a["onupdate"](b["value"]);}b=b["pass"];}if(b){if(a["error"]){delete a["error"][dz];if(Object["keys"](a["error"]).length===0){delete a["error"];}}}else{if(!a["error"]){a["error"]={};}a["error"][dz]=Ib.Ie[dz].message;}}}};Ib.If=function(a){for(var cI in a){var b=a[cI];if(cI==="_type"){continue;}if(!b["test"]){b["test"]={"/test/required":{}};}else{b["test"]["/test/required"]={};}}};Ib.Ie={"/test/creditCardExpiration":{"message":{_response:"Please enter an expiration date of format mm/yyyy that has not yet passed.\n"},"evaluate":function(a){var b=/(0|1)[0-9]\/(19|20)[0-9]{2}/;var b=/^(0|1)[0-9]\/(19|20)[0-9]{2}$/;if(b.test(a["value"]._response)){var c=a["value"]._response.split("/");var d=c[0]-1;var e=c[1];var f=new Date();if(e>String(f.getFullYear())){return true;}else if(e===String(f.getFullYear())){if(d>=String(f.getMonth())){return true;}}else{return false;}}else{return false;}}},"/test/creditCardNumber":{"message":{_response:"This is not a valid credit card number of the accepted types.\n"},"evaluate":function(a){var b=new RegExp("^(?:4[0-9]{12}(?:[0-9]{3})?|[25][1-7][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}"+"|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\\d{3})\\d{11})$");if(b.test(a["value"]._response)){return true;}else{return false;}}},"/test/email":{"message":{_response:"This is not a valid email address.\n"},"evaluate":function(a){if(v.ar(a["value"]._response)){return true;}else{return false;}}},"/test/hostname":{"message":{_response:"This is not a valid hostname.\n"},"regex":{_response:/^((([a-zA-Z]|[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\-]*[A-Za-z0-9])(:[0-9]+)?)?$/},"evaluate":function(a){if(this["regex"]["_response"].test(a["value"]._response)){return true;}}},"/test/ipAddress":{"message":{_response:"This is not a valid IP.\n"},"regex":{_response:/^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(:[0-9]+)?)?$/},"evaluate":function(a){if(this["regex"]["_response"].test(a["value"]._response)){return true;}}},"/test/ipAddressOrHostname":{"message":{_response:"Provide a valid IP or hostname for this required field.\n"},"regex_ip":{_response:/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(:[0-9]+)?$/},"regex_hostname":{_response:/^(([a-zA-Z]|[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\-]*[A-Za-z0-9])(:[0-9]+)?$/},"evaluate":function(a){var b=false;if(a["value"]._response!==""){if(this["regex_ip"]["_response"].test(a["value"]._response)){b=true;}if(this["regex_hostname"]["_response"].test(a["value"]._response)){b=true;}}else{b=true;}return b;}},"/test/phone":{"message":{_response:"This is not a valid phone.\n"},"regex":{_response:/^([\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6})?$/im},"evaluate":function(a){if(this["regex"]["_response"].test(a["value"]._response)){return true;}try{var b=v.at(a["value"]._response).au;if(b===a["value"]._response){return true;}}catch(c){return false;}}},"/test/nodeName":{"message":{_response:"Invalid value detected. Please remove special characters.\n"},"regex":{_response:/^[^/]+$/im},"evaluate":function(a){if(this["regex"]["_response"].test(a["value"]._response)){return true;}}},"/test/minimumValue":{"message":{_response:""},"evaluate":function(a){var b=a["minimum-value"]._response;var c;if(a["minimum-value-message"]){c=a["minimum-value-message"]._response+"\n";}else{c="The minimum value for this field is "+b+".\n";}if(a["value"]._response>=b){return true;}else{this["message"]._response=c;return false;}}},"/test/maximumValue":{"message":{_response:""},"evaluate":function(a){var b=a["maximum-value"]._response;var c;if(a["maximum-value-message"]){c=a["maximum-value-message"]._response+"\n";}else{c="The maximum value for this field is "+b+".\n";}if(a["value"]._response<=b){return true;}else{this["message"]._response=c;return false;}}},"/test/required":{"message":{_response:"This field is required.\n"},"evaluate":function(a){if(a._type&&(a._type=="/type/checkbox"||a._type=="/type/toggle")){if(a["value"]&&(a["value"]._response!==null)&&a["value"]._response!==0&&a["value"]._response!==""){return true;}}else{if(a["value"]&&(a["value"]._response!==null)&&a["value"]._response!==""){return true;}else if(a["target"]&&(a["target"]._type!==null)){return true;}}}},"/test/zip-code":{"message":{_response:"Invalid zip code.\n"},"regex":{_response:/(^\d{5}$)|(^\d{9}$)|(^\d{5}-\d{4}$)/},"evaluate":function(a){if(this["regex"]["_response"].test(a["value"]._response)){return true;}}},"/test/phone-extension":{"message":{_response:"Invalid phone extension.\n"},"regex":{_response:/\b\d{3}?\b/},"evaluate":function(a){if(a["value"]._response===""||a["value"]._response===undefined||a["value"]._response===null){return true;}else if(this["regex"]["_response"].test(a["value"]._response)){return true;}}},"/test/custom":{"message":{_response:""},"evaluate":function(a){Ib.Ie["/test/custom"]["message"]=a["test"]["/test/custom"]["message"]?a["test"]["/test/custom"]["message"]:{_response:""};return a["test"]["/test/custom"]["validationFunction"](a);}},"/test/string":{"message":{_response:"Input is not a string.\n"},"evaluate":function(a){if(typeof (a["value"]._response)==="string"){return true;}}},"/test/text":{"message":{_response:"Input contains characters other than letters.\n"},"regex":{_response:/([a-zA-Z ]+)/},"evaluate":function(a){if(this["regex"]["_response"].test(a["value"]._response)){return true;}}},"/test/number":{"message":{_response:"Input is not a number.\n"},"evaluate":function(a){if(typeof (Number(a["value"]._response))==="number"&&!isNaN(Number(a["value"]._response))){return true;}}},"/test/range":{"message":{_response:"Value input is outside of required range.\n"},"evaluate":function(a){if(a.Bz){var b=[];for(var item in a.Bz){if(a["value"]._response>=a.Bz[item]["range-min"]._response&&a["value"]._response<=a.Bz[item]["range-max"]._response){return true;}}}}},"/test/alphanumeric-with-spacing":{"message":{_response:"Input contains illegal characters. Only alphanumeric, -, _, and spaces are allowed.\n"},"regex":{_response:/^[\w\-\s]+$/},"evaluate":function(a){if(this["regex"]["_response"].test(a["value"]._response)){return true;}}},"/test/password-complexity":{"message":{_response:""},"evaluate":function(a){var result=v.aq(a["value"]._response);if(a["confirm"]._response!==a["value"]._response){this["message"]._response="Password fields do not match.";return {"pass":false,"value":result};}switch(result){case 0:this["message"]._response="Passwords must be at least 8 characters long.";return {"pass":false,"value":result};break;case 1:case 2:this["message"]._response="Passwords must include a capital letter, lowercase\n"+"letter, special character, and number.";return {"pass":false,"value":result};break;case 3:this["message"]._response="";return {"pass":true,"value":result};break;default:break;}}}};/* (C) 2021 Halo Automation Systems LLC; This software is proprietary and is NOT to be distributed or shared in any way.*/"use strict";var haloS=(typeof exports!="undefined")?exports:{};if(typeof require!="undefined"){var util=require("util");}haloS.Ig=20000;haloS.Ih=1;haloS.h_=false;haloS.Ii={r4:r4,tG:tG,v:v,bV:bV,cP:cP,fF:fF,fQ:fQ,be:be,d9:d9,f2:f2,f4:f4,iP:iP,vZ:vZ,sI:sI,sJ:sJ,gG:gG,mn:mn,mo:mo,mp:mp,mq:mq,aZ:aZ,ks:ks,gj:gj,rk:rk,FF:FF,Hi:Hi,H0:H0,Hq:Hq,Ib:Ib,H$:H$,EC:EC};haloS.Ij={};haloS["initialize"]=function(a,b){if(iP.rF){throw new Error("Duplicate call to haloS.initialize. "+"Only one initialization is allowed.");}console.log("Starting Halo/S environment...");if(typeof window!=="undefined"){v.z(window);}if(a==null){a={};}if(a["useMdns"]){gG.h8=".local";}var lc=a.lc||a["securityDomain"];if(a.rE==null){var j2=[];j2=j2.concat(60,122,169,60,122,be.cn("apps"),60,62,122,be.cn("watches"),60,62,62,122,182,60,101,be.cn("/local/network"),62,122,210,60,101,be.cn("/local/message"),62,122,242,60,97,be.cs("My network storage"),62,122,246,60,62,122,248,60,62,62);a.rE=f4.f5(j2);}iP.z(a,b);iP.rF=true;if(lc){iP.lc=lc;}console.log("Halo/S startup successful");};haloS["createBasicDeviceKey"]=function(a){var b=a+"/basic";var end=be.cv(be.cn(b));end.unshift(end.length-1);while(end.length<32){end.push(255);}console.log("end:"+end);var i6=new gj.i6(256,end);return {name:be.cn(b+"/key"),i6:i6};};haloS["createDeviceKey"]=function(a,b){var c=v.R(b,32);var d=be.d2(be.cn(a),[211]);var e=new gj.i6(256,c);return {name:d,i6:e};};haloS["createNetworkKey"]=function(a,b,c,d){if((d==null)||(d===2)||(d===1)){var e=v.aX(v.aK(a))&32767;}else{var e=v.aY(v.aK(a))&2147483647;}var f="/company/paragonrobotics.com/"+e+"/internal/key";var g=c?c:"";var i6=gj.q_(f,b,1,g);return {_type:"/type/security/key/"+d,name:be.cn(f),i6:i6};};haloS["generateNewKeyPair"]=function(a,b){ks.q2(a,b);};haloS["loadKeyPair"]=function(a,b,c,d){return ks.q7(a,b,c,d);};haloS["isGateway"]=function(a){return (a.search("container")!=-1)&&(a.search("container/8/")==-1)&&(a.search("container/18/")==-1);};haloS["sign"]=function(a,b,c,d,e){ks.rd(a,b,c,d,e);};haloS["verify"]=function(a,b,c,d){ks.rc(a,b,c,d);};haloS.Ij.Ik=function(a,b){var c={"name":{_response:a["title"]},"status":{_response:a["status"]?a["status"]._response:"New"},"message":{},"people":{_response:a["people"]},"type":{_response:a["type"]},"description":{_response:a["description"]},"activity":a["activity"],"generate":{_response:a["generate"]},"sourceDate":{_response:a["sourceDate"]},"currentVersion":{_response:a["currentVersion"]},"id":{_response:a["sourceId"]},"time":{_response:v.ba(a["timeOfCompletion"],"N/A")},"internal":{}};for(var cI in a["label"]){c["message"][cI]=a["label"][cI];}for(var cI in a["tag"]){c["internal"][cI]=a["tag"][cI];}var cp=new Date();var dW=cp.getTime();if(!c["name"]._response){c["name"]={_response:""};}if(!c["people"]._response){c["people"]=iP.jl.Il;}var d={"id":{},"name":{_response:c["name"]._response},"type":{_response:c["type"]._response},"change":{_response:c["status"]._response?c["status"]._response:"New"},"message":{},"data":{},"people":{_response:c["people"]._response},"date":{"start":{_response:dW},"change":{_response:dW}},"time":{_response:c["time"]._response},"internal":{}};d["data"][dW]={"people":{_response:c["people"]._response},"value":{_response:d["name"]._response},"_type":"/type/issue/activity/creation"};if(c["generate"]._response){d["source"]=c["id"];d["message"]=c["message"];d["internal"]=c["internal"];dW++;if(c["description"]._response){d["data"][dW]={"people":{_response:c["people"]._response},"description":{_response:c["description"]._response},"_type":"/type/issue/activity/comment/first"};dW++;}d["data"][dW]={"people":{_response:c["people"]._response},"_type":"/type/issue/activity/type/set"};dW++;d["data"][dW]={"people":{_response:c["people"]._response},"value":{_response:d["change"]._response},"_type":"/type/issue/activity/status/set"};dW++;for(var cI in c["activity"]){if(c["activity"][cI]._type==="/type/issue/activity/label/add"||c["activity"][cI]._type==="/type/issue/activity/tag/add"){d["data"][dW]=c["activity"][cI];d["data"][dW]["people"]={_response:c["people"]._response};}else if(!c["activity"][cI]._type){d["data"][dW]={"people":{_response:c["people"]._response},"description":{_response:c["activity"][cI]["value"]._response},"_type":"/type/issue/activity/comment/generated"};}else{d["data"][dW]={"people":{_response:c["people"]._response},"description":{_response:c["activity"][cI]["value"]._response},"_type":"/type/issue/activity/comment/generated"};}dW++;}if(d["time"]._response!=="N/A"){d["data"][dW]={"people":{_response:c["people"]._response},"_type":"/type/issue/activity/estimated/time/of/completion/set"};dW++;}fF.request("writeNewIssue",[[250,d]],function(e){b(String(e["id"]._response));});}else{b(d);}};haloS.Ij.Im=function(a,b){fF.request("writeIssue",[[250,a]],b);};haloS.Ij.In=function(a,b){fF.request("readIssue",[[212,a]],b);};haloS.Ij.Io=function(a,b){fF.request("readIssues",[[250,a]],b);};haloS.Ij.Ip=function(a,b,c){haloS.Ij.In(b,function(d){var e=d;var f={"name":{_response:a["title"]},"status":{_response:a["status"]?a["status"]:"New"},"people":{_response:a["people"]},"description":{_response:a["description"]?a["description"]:false},"activity":a["activity"],"sourceDate":{_response:a["sourceDate"]},"currentVersion":{_response:a["currentVersion"]},"id":{_response:a["sourceId"]}};Object["assign"](e["message"],a["label"]);var cp=new Date();var dW=cp.getTime();e["date"]["change"]={_response:dW};if(f["name"]._response&&e["name"]._response!==f["name"]._response){e["data"][dW]={"people":{_response:f["people"]._response},"old":{_response:e["name"]._response},"new":{_response:f["name"]._response},"_type":"/type/issue/activity/title/change"};e["name"]={_response:f["name"]._response};dW++;}if(e["change"]._response!==f["status"]._response&&f["status"]._response){e["data"][dW]={"people":{_response:f["people"]._response},"old":{_response:e["change"]._response},"new":{_response:f["status"]._response},"_type":"/type/issue/activity/status/change"};e["change"]={_response:f["status"]._response};dW++;}for(var cI in f["activity"]){if(f["activity"][cI]._type==="/type/issue/activity/label/add"||f["activity"][cI]._type==="/type/issue/activity/tag/add"||f["activity"][cI]._type==="/type/issue/activity/label/remove"||f["activity"][cI]._type==="/type/issue/activity/tag/remove"){e["data"][dW]=f["activity"][cI];e["data"][dW]["people"]={_response:f["people"]._response};}else if(!f["activity"][cI]._type){e["data"][dW]={"people":{_response:f["people"]._response},"description":{_response:f["activity"][cI]["value"]._response},"_type":"/type/issue/activity/comment/generated"};}else{e["data"][dW]={"people":{_response:f["people"]._response},"description":{_response:f["activity"][cI]["value"]._response},"_type":"/type/issue/activity/comment/generated"};}dW++;}haloS.Ij.Im(e,function(){if(c){c();}});});};haloS.Ij.Iq=function(a,b){fF.request("writeItemToCalendar",[[212,a],[250,b]],function(){});};haloS["createHaloCloudKey"]=function(a,b,c,d){if(d==null){d="/company/"+haloView.fP+"/sales";}var e=d+"/internal/people/name/"+a+"/key/1";var f=gj.q_(a,b,1,"variant");var g=be.cn(e);g=be.d2(g,[194]);g=be.d2(g,be.df(f.qt));if(c==null){c="paragonrobotics.com";}var h=new aZ.hash(c+a+b,"ASCII");var i=h.a_("SHA-256","ARRAY");var j={name:g,i6:new gj.i6(256,i)};return j;};haloS["createKeyFromNameAndArray"]=function(a,b){var i6=new gj.i6(256,b);var c=be.cn(a);return {name:c,i6:i6};};haloS.Ir=function(a,b,c){if(a>=b.length){c(true);return;}haloS["wakeDeviceUpTemporarily"](b[a].bV,b[a].i6,function(){haloS.Ir(a+1,b,c);});};haloS["wakeDeviceUpTemporarilyList"]=function(a,b){haloS.Ir(0,a,b);};haloS["wakeDeviceUpTemporarily"]=function(a,b){var c=a+"/network/temporary";haloS["readValue"](c,b);};haloS.Is=function(a,b,c){if(a>=b.length){c(true);return;}var d=b[a].bV+"/network/start";haloS["readValue"](d,function(e){haloS.Is(a+1,b,c);});};haloS["restartNetworksList"]=function(a,b){haloS.Is(0,a,b);};haloS["forcefulNetworkRestart"]=function(a,b){var c=a+"/network/error";haloS["readValue"](c,b);};haloS["setPowerButtonLockout"]=function(a,b,c){var d=a+"/network/change";var e=b?0:1;haloS["writeValue"](d,e,c);};haloS.It=function(a,b,c){var d=cP.cQ.c1();d.dI([236],b);d.eO([160],a,cP.eP,function(){d.destroy(c);});};haloS["createChild"]=function(a,b,c){var d=be.cn(a);var e=cP.cQ.c1();e.dH=haloS["messageKey"];e.cX(d,be.cn(b),function(f,g){e.destroy(function(h,i){c(h,i);});});};haloS["createChildNextNumber"]=function(a,b){var c=cP.cQ.c1();c.dH=haloS["messageKey"];c.oP(be.cn(a),function(d,e){c.destroy(function(){if(d==null){b();return;}b(be.bf(d),e);});});};haloS["createChildRecursive"]=function(a,b,c,d){if(b>=c.length){d(true,null);return;}haloS["createChild"](a,c[b],function(e,f){if(f){d(false,f);return;}var g=a+"/"+c[b];haloS["createChildRecursive"](g,b+1,c,d);});};haloS["removeExternalSensor"]=function(a,b,c,d){var e=a+"/machine";haloS["readTreeWithoutRecursion"](e,function(f){var g=false;var h=[{Iu:0,ck:2,wd:23},{Iu:1,ck:4,wd:23},{Iu:6,ck:15,wd:23},{Iu:7,ck:24,wd:23}];var i=[{Iu:10},{Iu:9},{Iu:5}];var j=[{Iu:21},{Iu:20},{Iu:14}];if((a.search("sensor/8/")!=-1)||(a.search("sensor/18/")!=-1)){var k=[0,1,6,7];}else if(a.search("sensor/14/")!=-1){var k=[10,9,5];}else if((a.search("other/1/")!=-1)||(a.search("other/2/")!=-1)){g=true;var l=["MACHINE_14.value.c[0x86]","MACHINE_14.value.c[0x8e]","MACHINE_14.value.c[0x96]","MACHINE_14.value.c[0x9e]","MACHINE_19.value.c[1]","MACHINE_19.value.c[2]","MACHINE_19.value.c[4]","MACHINE_19.value.c[8]","MACHINE_19.value.c[16]","MACHINE_19.value.c[32]"];var m=l[b-1];}else if((a.search("container/8/")!=-1)||(a.search("container/18/")!=-1)){g=true;var n=true;var o=[];var p=[];var q=d.b3;}else if((a.search("sensor/80/")!=-1)||(a.search("sensor/81/")!=-1)){g=true;var r=true;var p=[];var s=d.b3;}else if(a.search("sensor/34/")!=-1){g=true;}else{c(null,"Invalid device");return;}var t=[];if(!g){for(var cI in f){if((f[cI]._type=="/machine/sensor/external/1")||(f[cI]._type=="/machine/sensor/voltage/1")||(f[cI]._type=="/machine/sensor/capacitance/1")||(f[cI]._type=="/machine/sensor/compare/1")||(f[cI]._type=="/machine/sensor/people/button/1")||(f[cI]._type=="/machine/container/transform/1")){try{var u=k;if(f[cI]._type=="/machine/container/transform/1"){u=[21,20,14];}if(f[cI]["route"]._response==u[b-1]){t.push(cI);}}catch(Iw){continue;}}else if((f[cI]._type=="/machine/sensor/amount/1")||(f[cI]._type=="/machine/sensor/refresh/1")&&(b===1)){t.push(cI);}}}var Ix=[];for(var dz in f){try{if(f[dz]["code"]){if(m){if(f[dz]["code"]._response.indexOf(m)!=-1){Ix.push(dz);}}else if(n){var ez=f[dz]["code"]._response;var Iy=ez.search("MACHINE_");var Iz=parseInt(ez.slice(Iy+8,Iy+11),10);p.push(Iz);if(dz==q){Ix.push(dz);var IA=Iz;}}else if(r){var ez=f[dz]["code"]._response;var Iy=ez.search("MACHINE_");var Iz=parseInt(ez.slice(Iy+8,Iy+11),10);p.push(Iz);if(dz==s){Ix.push(dz);var IA=Iz;}}else{for(var IC=0;IC<t.length;IC++){if(f[dz]["code"]._response.indexOf("MACHINE_"+t[IC])!=-1){Ix.push(dz);}}}}}catch(Iw){continue;}}t=t.concat(Ix);if(n){var ID=0;for(var dz=0;dz<p.length;dz++){if(p[dz]==IA){ID++;}}if(ID<2){t=t.concat(IA);}}else if(r){var ID=0;for(var dz=0;dz<p.length;dz++){if(p[dz]==IA){ID++;}}if(ID<2){t=t.concat(IA);}}else if(a.search("sensor/34/")!=-1){t=[6];}if(!t.length){c(null,"No matching sensors were found on the device");return;}haloS["destroyMachineChildRecursive"](a,0,t,function(IE,IF){haloS["readTreeWithoutRecursion"](e,function(IG){c(IE,IF);});});});};haloS["getDeviceDescription"]=function(a,b){if(Array.isArray(a)){a=be.bf(a);}if(b==null){return (be.ek(be.cn(a)));}var c=b.data["device"];for(var su in c){if(c[su]._type==a){if(c[su]["description"]._response!=null){if(c[su]["description"]._response.length>0){return c[su]["description"]._response;}}return (be.ek(be.cn(a)));}}};haloS["getSensorDescription"]=function(a,b,c,d){var e=haloS["getDeviceDescription"](a,b);haloS.dv.dA({path:a,Iv:true},function(f){var g=cP.de(f["data"]);for(var dz in g["machine"]){var zh=g["machine"][dz];if((a+"/machine/"+dz)==c){d(e+" - "+zh["description"]._response);return;}}d(e+" - Unknown");});};haloS["addExternalSensor"]=function(a,b,c){var dD=(b["description"])?b["description"]:"External sensor";var b_=(b["resolution"])?b["resolution"]:0.5;var b$=(b["refresh"])?b["refresh"]:60;if(b["category"]&&b["type"]&&b["deviceType"]){var dD=b["description"];}else{c(false,"Missing parameters");return;}var d=a+"/machine";haloS["readTreeWithoutRecursion"](d,function(e){var f=(b["jack"])?b["jack"]:1;var g=[{Iu:0,ck:2,wd:23},{Iu:1,ck:4,wd:23},{Iu:6,ck:15,wd:23},{Iu:7,ck:24,wd:23}];var h=[{Iu:10},{Iu:9},{Iu:5}];var i=[{Iu:21},{Iu:20},{Iu:14}];var j=[];if((a.search("sensor/8/")!=-1)||(a.search("sensor/18/")!=-1)){var k=[0,1,6,7];}else if(a.search("sensor/14/")!=-1){var k=[10,9,5];}else if((a.search("other/1/")!=-1)||(a.search("other/2/")!=-1)||(a.search("sensor/80/")!=-1)||(a.search("sensor/81/")!=-1)){var l=true;}else if((a.search("container/8/")!=-1)||(a.search("container/18/")!=-1)){l=true;var m=true;var n=[];}else if(a.search("sensor/34/")!=-1){var l=true;if(e["6"]){j.push(6);}}else if((a.search("sensor/80/")!=-1)||(a.search("sensor/81/")!=-1)){l=true;var o=true;}else{c(false,"Invalid device");return;}var p=[];for(var cI in e){if((cI=="_type")||(cI=="_other")||(cI=="_runner")){continue;}p.push(parseInt(cI,10));if((e[cI]._type=="/machine/sensor/external/1")||(e[cI]._type=="/machine/sensor/voltage/1")||(e[cI]._type=="/machine/sensor/capacitance/1")||(e[cI]._type=="/machine/sensor/compare/1")||(e[cI]._type=="/machine/sensor/people/button/1")||(e[cI]._type=="/machine/container/transform/1")){try{if(!l){var q=k;if(e[cI]._type=="/machine/container/transform/1"){q=[21,20,14];}if(e[cI].c8._response==q[f-1]){j.push(cI);}}}catch(r){}}else if((e[cI]._type=="/machine/sensor/amount/1")||(e[cI]._type=="/machine/sensor/refresh/1")&&(f===1)){j.push(cI);}else if(e[cI]._type=="/machine/network/b/1"){if(m){var s=v.aK(e[cI]["target"]._response);var t=e[cI]["number"]._response;var u=e[cI]["larger"]._response;if((b["port"]==t)&&(b["endian"]==u)&&(v.D(b["ip"],s))){var Iw=true;var Ix=cI;}}}else if(e[cI]._type=="/machine/control/message/1"){if(o){var Iy=true;var Ix=cI;}}}if(j.length){c(false,"Jack already in use");return;}var Iz=haloS.IB(p);p.pop();if((Iz<=4)&&(a.search("container/8/")==-1)&&(a.search("container/18/")==-1)){c(false,"Error reading device tree");return;}if(b["category"]=="preset"){var IA=b["preset"];if(IA==null){c(false,"Invalid preset type");return;}var IC=IA["calibrationType"];var ID=IA["scalar"];var ct=IA["equation"];cI=IA["unit"];var type=IA["type"];}else if(b["category"]=="custom"){try{var type=b["type"];var Bz=(b["range"])?b["range"]:"0-3.3V";var yE=(b["form"])?b["form"]:"form A";var IC=(b["scalar"])?"scalar":"equation";var ID=(b["scalar"])?b["scalar"]:1;var ct=(b["equation"])?b["equation"]:"return(X);";}catch(r){c(false,"Invalid parameter");return;}if((type!="digital out")&&(type!="instant digital")){for(var cI=0;cI<rk.ru.length;cI++){if(b["unit"]==rk.ru[cI].name){break;}}if(cI==rk.ru.length){c(false,"Invalid unit");return;}}}else{c(false,"Invalid category");return;}if((type=="digital out")||(type=="instant digital")){var IE=be.cn("/type/boolean");}else{IE=be.cn("/type/"+rk.ru[cI].rv);}var IF=[];var Iz=0;if((type=="adc")||(type=="digital out")||(type=="instant digital")){if(b["jack"]){Iz=Math.floor(b["jack"]-1);Iz=(Iz>3)?3:Iz;Iz=(Iz<0)?0:Iz;}else{c(false,"Must specify jack");return;}}if(type=="adc"){if(b["deviceType"]=="SC18"){IF=IF.concat(60,101,be.cn("/machine/sensor/external/1"));IF=IF.concat(122,175,60,97,be.cj(g[Iz].Iu),62);IF=IF.concat(122,197,60,97,be.cj(g[Iz].ck),62);IF=IF.concat(122,198,60,97,be.cj(g[Iz].wd),62);}else if(b["deviceType"]=="SC14"){if(Bz=="AGND-VREF"){IF=IF.concat(60,101,be.cn("/machine/sensor/voltage/1"));IF=IF.concat(122,175,60,97,be.cj(h[Iz].Iu),62);IF=IF.concat(122,236,60,97,be.cj(2),62);}else if(Bz=="0-1.65V"){IF=IF.concat(60,101,be.cn("/machine/sensor/voltage/1"));IF=IF.concat(122,175,60,97,be.cj(h[Iz].Iu),62);IF=IF.concat(122,236,60,97,1,0,62);}else if(Bz=="0-3.3V"){IF=IF.concat(60,101,be.cn("/machine/sensor/voltage/1"));IF=IF.concat(122,175,60,97,be.cj(h[Iz].Iu),62);IF=IF.concat(122,236,60,97,be.cj(1),62);}else{c(false,"Invalid range");return;}}}else if(type=="pulse"){try{var IG=Math.log(Math.floor(b["sampleRate"]/250))/Math.log(2);IG=(IG>3)?3:IG;var IH=Math.floor(b["debounceHigh"],10);IH=(IH>256)?256:IH;IH=(IH<=0)?0:IH;var II=Math.floor(b["debounceLow"],10);II=(II>256)?256:II;II=(II<=0)?0:II;}catch(r){c(false,"Missing parameters");return;}if(yE.search("form A")!=-1){var IJ=0;}else if(yE.search("form C")!=-1){var IJ=1;}else{c(false,"Invalid custom type");return;}var IK=(Bz.search("dual")!=-1)?1:0;IF=IF.concat(60,101,be.cn("/machine/sensor/amount/1"));IF=IF.concat(122,157,60,97,be.cj(IJ),62);IF=IF.concat(122,152,60,97,be.cj(IG),62);IF=IF.concat(122,163,60,97,be.cj(IH),62);IF=IF.concat(122,164,60,97,be.cj(IH),62);IF=IF.concat(122,194,60,97,be.cj(IK),62);}else if(type=="digital out"){IF=IF.concat(60,101,be.cn("/machine/container/transform/1"));IF=IF.concat(122,149,60,97,1,0,62);IF=IF.concat(122,157,60,97,be.cn("/type/boolean"),62);IF=IF.concat(122,171,60,97,1,0,62);IF=IF.concat(122,175,60,97,be.cj(i[Iz].Iu),62);IF=IF.concat(122,178,60,97,1,0,62);IF=IF.concat(122,184,60,62);IF=IF.concat(122,214,60,62);IF=IF.concat(122,236,60,97,be.cj(242),62);IF=IF.concat(122,242,60,97,be.cs(dD),62);}else if(type=="instant digital"){IF=IF.concat(60,101,be.cn("/machine/sensor/boolean/1"));IF=IF.concat(122,149,60,97,1,0,62);IF=IF.concat(122,157,60,97,be.cn("/type/boolean"),62);IF=IF.concat(122,175,60,97,be.cj(i[Iz].Iu),62);IF=IF.concat(122,184,60,62);IF=IF.concat(122,214,60,62);IF=IF.concat(122,236,60,97,be.cj(242),62);IF=IF.concat(122,242,60,97,be.cs(dD),62);}else if(type=="analog out"){}else if(type=="small voltage"){}else if(type=="modbus"){if(!Iw){IF=IF.concat(60,101,be.cn("/machine/network/b/1"));IF=IF.concat(122,159,60,97,be.cj(b["port"]),62);IF=IF.concat(122,163,60,97,be.cj(b["endian"]),62);IF=IF.concat(122,212,60,97,be.df(b["ip"]),62);}}else if(type=="serial"){if(!Iy){IF=IF.concat(60,101,be.cn("/machine/control/message/1"));IF=IF.concat(122,152,60,97,be.cj(b["baud"]),62);IF=IF.concat(122,154,60,97,be.cs(b["delimiter"]),62);IF=IF.concat(122,194,60,97,be.cj(b["nineBit"]?1:0),62);IF=IF.concat(122,242,60,97,be.cs("UART"),62);}}else{c(false,"Invalid type");return;}IF.push(62);var Bq=be.cn(a);var IL=be.d2(Bq,[248]);if(!Iw&&!Iy){var Ix=haloS.IB(p);}var IM=Ix+"";try{if(IC=="scalar"){var IN="return("+ID+"*MACHINE_"+IM+");";var IO={"type":"scale","value":ID,"equation":IN};}else if(IC=="equation"){var IN=ct.replace("X","MACHINE_"+IM);var IO={"type":"equation","equation":IN};}var IP="//"+JSON.stringify(IO)+"\n"+IN;if(IN.search("haloS.writeValueSync")==-1){var IQ=r4.sM(IN,30);}else{IQ=r4.sV(IN,30);}}catch(r){c(false,r,null,true);return;}var I6=function(IR){if(IF.length===1){p.pop();IR();return;}haloS["createChild"](be.bf(IL),Ix+"",function(IS){if(IS==null){c(false,"Could not create new target",null,true);return;}IS=be.d2(IL,be.cj(Ix));haloS["writeTreeRaw"](be.bf(IS),IF,function(IT,JK){haloS.It(IL,be.cj(Ix),function(JL,JM){if((type=="digital out")||(type=="instant digital")){c(Ix,null,IE);return;}IR();});});});};I6(function(){if(Bz){var IR=((b["deviceType"]=="SC18")&&(Bz.search("form C")!=-1));}if(typeof g[Iz].ck!="undefined"){var ck=g[Iz].ck;}else{var ck=null;}if(typeof g[Iz].ck!="undefined"){var wd=g[Iz].wd;}else{var wd=null;}haloS.IU(IR,ck,wd,Bq,p,function(IS){if(!IS){c(false,"Could not create new target",null,true);return;}var IT=[];if((type=="pulse")&&(b["time"])){IT=IT.concat(60,101,be.cn("/machine/sensor/basic/1"),122,149,60,97,1,0,62,122,157,60,97,IE,62,122,161,60,97,be.cj(b_),62,122,181,60,97,be.cs(IP),62,122,184,60,62,122,189,60,97,be.cj(b["time"]),62,122,196,60,97,be.cj(b$),62,122,223,IQ,122,236,60,97,be.cj(242),62,122,242,60,97,be.cs(dD),62,62);}else if(type!="analog out"){IT=IT.concat(60,101,be.cn("/machine/sensor/basic/1"),122,149,60,97,1,0,62,122,157,60,97,IE,62,122,161,60,97,be.cj(b_),62,122,181,60,97,be.cs(IP),62,122,184,60,62,122,196,60,97,be.cj(b$),62,122,223,IQ,122,236,60,97,be.cj(242),62,122,242,60,97,be.cs(dD),62,62);}else{IT=IT.concat(60,101,be.cn("/machine/control/basic/1"),122,149,60,97,1,0,62,122,157,60,97,IE,62,122,161,60,97,be.cj(b_),62,122,181,60,97,be.cs(IP),62,122,184,60,62,122,197,60,97,1,0,62,122,212,IQ,122,236,60,97,be.cj(242),62,122,242,60,97,be.cs(dD),62,62);}Ix=haloS.IB(p);haloS["createChild"](be.bf(IL),Ix+"",function(JK){if(JK==null){c(false,"Could not create new target",null,true);return;}JK=be.d2(IL,be.cj(Ix));haloS["writeTreeRaw"](be.bf(JK),IT,function(JL,JM){if(JL==null){c(false,"Could not create new target",null,true);return;}haloS.It(IL,be.cj(Ix),function(JN,JO){if(JN==null){c(false,"Could not create new target",null,true);return;}haloS.dv.dA({path:a,Iv:true},function(JP){var JQ=cP.de(JP["data"]);JQ["machine"][Ix]["value"]=NaN;JQ["machine"][Ix]["queue"]=NaN;var data=cP.c7(JQ);JP["data"]=Uint8Array["from"](data);haloS.dv.dw(JP,function(){var of={"path":a+"/machine/"+Ix+"/value","data":[0],"item":"machine/"+Ix+"/value"};haloS.dv.dw(of,function(){var of={"path":a+"/machine/"+Ix+"/queue","data":[0],"item":"machine/"+Ix+"/queue"};haloS.dv.dw(of,function(){c(Ix,null,IE);});});});});});});});});});});};haloS.IB=function(a){var b=1;for(var c=0;c<a.length;c++){if(a[c]==b){c=-1;b++;}}a.push(b);return b;};haloS.IU=function(a,b,c,d,e,f){if(!a){f(true);return;}var g=10;var h=[];h=h.concat(60,101,be.cn("/machine/container/transform/1"));h=h.concat(122,171,60,97,be.cj(1),62);h=h.concat(122,175,60,97,be.cj(b),62);h=h.concat(122,178,60,97,be.cj(1),62);h.push(62);var i=be.d2(d,[248]);var j=haloS.IB(e);cP.cQ.cX(i,j+"",function(k){if(k==null){f(false);return;}k=be.d2(i,be.cj(j));cP.cQ.cZ(k,h,function(l,m){haloS.It(i,be.cj(j),function(n,o){var h=[];h=h.concat(60,101,be.cn("/machine/container/transform/1"));h=h.concat(122,171,60,97,be.cj(1),62);h=h.concat(122,175,60,97,be.cj(c),62);h=h.concat(122,178,60,97,be.cj(1),62);h.push(62);var i=be.d2(d,[248]);j=haloS.IB(e);cP.cQ.cX(i,j+"",function(p){if(p==null){f(false);return;}p=be.d2(i,be.cj(j));cP.cQ.cZ(p,h,function(q,r){if(q==null){f(false);return;}haloS.It(i,be.cj(j),function(s,t){f(s);});},false);});});},false);});};haloS["changeCalibration"]=function(a,b,c){var d=a+"/code";var e=a+"/value";var f="//{\\\"type\\\":\\\"equation\\\",\\\"equation\\\":\\\""+b+"\\\"}\n"+b;try{var g=r4.sM(b,15);}catch(h){c(null,h);return;}haloS["writeTreeRaw"](e,g,function(i){haloS["writeValue"](d,f,function(j){c(j,false);});});};haloS["changeSearchModeList"]=function(a,b,c,d,e){if(a>=d.length){e(true);return;}if(b){var f=d[a].bV+"/network/security/pause";}else if(c){var f=d[a].bV+"/network/security/smaller";}else{f=d[a].bV+"/network/security/start";}haloS["readValue"](f,function(g){haloS["changeSearchModeList"](a+1,b,c,d,e);});};haloS["enableSearchMode"]=function(a,b,c){if(c==null){c=b;var d=false;}else{d=b["quiet"];}haloS["changeSearchMode"](true,a,d,c);};haloS["disableSearchMode"]=function(a,b,c){if(c==null){c=b;}haloS["changeSearchMode"](false,a,false,c);};haloS["changeSearchMode"]=function(a,b,c,d){haloS["getDeviceList"](function(e){var f=[];if(b==null){for(var cI=0;cI<e.length;cI++){if(haloS["isGateway"](e[cI]["device"])){f.push({bV:e[cI]["device"]});}}}else{f.push({bV:b});}haloS["changeSearchModeList"](0,a,c,f,d);});};haloS["enableSearchModeList"]=function(a,b,c){if(c==null){c=b;var d=false;}else{d=b["quiet"];}haloS["changeSearchModeList"](0,true,d,a,c);};haloS["disableSearchModeList"]=function(a,b,c){if(c==null){c=b;}haloS["changeSearchModeList"](0,false,false,a,c);};haloS["configureGatewayHaloCloud"]=function(a,b,c,d,e,f,g){var h=be.cn(a);var i=cP.cQ.c1();i.kN=false;i.cw=[214];i.target=[be.cn("network/key/external")];if(e){var ke=e.name;var j=[];j=j.concat(60,97,be.df(ke),62);}else{var j=[60,62];}i.dI([60,214,250,62],j);if(g){var k={gK:g};}else{var k=haloS.vI(h);}if(!k){f(false);return;}var l=b?b.name:null;var rg=b?b.i6:null;k.gK.gL(i,h,l,rg,function(m){if(m.g1.gF==null){f(false);return;}if(e==null){f(true);return;}var i=cP.cQ.c1();i.kN=false;i.cw=[214];i.target=[be.cn("network/register")];var ke=e.name;var j=[];if(c.search(/\b\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}\b/)!=-1){var n=be.df(haloS.IV(c));}else{n=be.cs(c);}j=j.concat(60,122,159,60,97,be.cj(80),62,122,212,60,97,n,62,122,223,60,97,be.cn(d),62,62);i.dI([60,214,250,62],j);k.gK.gL(i,h,l,rg,function(o){i.destroy(function(){f(true);});});});};haloS["setupHaloCloudDomain"]=function(a,b,c){haloS["writeTree"](a+"/network/register/system",{_responseTarget:b},function(d,e){console.log("HaloCloud writetree: "+d+".."+e);haloS["writeValue"](a+"/network/start",1,function(f,g){console.log("HaloCloud restart: "+f+".."+g);v.setTimeout(function(){console.log("done waiting");c(f,g);},4000);});});};haloS["whitelistKey"]=function(a,b,c){var d=cP.cQ.c1();d.dI([175],be.cn(b));d.dH=haloS["messageKey"];d.eO([162],be.cn(a+"/network/add/key"),cP.nw,function(e,f){d.destroy(function(){c(e,f);});});};haloS["configureGatewayNetwork"]=function(a,b,c,d){var e=be.cn(a);var f=cP.cQ.c1();f.kN=false;f.cw=[214];f.target=[be.cn("network/key/internal")];var ke=b.name;var g=[];g=g.concat(60,97,ke,62);f.dI([60,214,250,62],g);if(d){var h={gK:d};}else{var h=haloS.vI(e);}if(!h){c(false);return;}var i=b.name;var rg=b.i6;h.gK.gL(f,e,i,rg,function(j){if(j.g1.gF==null){c(false);return;}var f=cP.cQ.c1();f.kN=false;f.cw=[162];f.target=[be.cn("network/start")];h.gK.gL(f,e,i,rg,function(k){if(k.g1.gF==null){c(false);return;}c(true);});});};haloS["sendSharedMessage"]=function(a,b,c,d,e){var f=haloS.vI(be.cn(a),true);if(f==null){e();return;}var g=gG.jB(be.cn(b),cP.c7(c));if(d){f.gK.kP(g,be.cn(a),d.name,d.i6);}else{f.gK.kP(g,be.cn(a));}v.setTimeout(function(){e(true);},250);};haloS.IW=function(a,b,c,d,e){if(a>=b.length){e(true);return;}var f=b[a];var g=haloS.vI(be.cn(f.bV),true);if(g==null){haloS.IW(a+1,b,c,d,e);return;}if(f.i6){var qw=c.i6.qw?c.i6.qw():ks.qw(c);var h=gG.jB(c.name,qw);g.gK.kP(h,be.cn(f.bV),f.i6.name,f.i6.i6);}var i=(f.i6==null)?c.name:f.i6.name;var rg=(f.i6==null)?c.i6:f.i6.i6;if(d){v.setTimeout(function(){var j=d.name.slice(0,d.name.length-36).concat(62);var qw=d.i6.qw?d.i6.qw():ks.qw(d);var h=gG.jB(j,qw);g.gK.kP(h,be.cn(f.bV),i,rg);},300);}v.setTimeout(function(){haloS.IW(a+1,b,c,d,e);},d?600:300);};haloS["writeKeysToDevices"]=function(a,b,c,d){haloS["getDeviceList"](function(e){var f=[];var g=[];for(var cI=0;cI<a.length;cI++){if(haloS["isGateway"](a[cI].bV)){f.push(a[cI]);}else{g.push(a[cI]);}}for(var cI=0;cI<e.length;cI++){if(haloS["isGateway"](e[cI].bV)){var h=false;for(var dz=0;dz<f.length;dz++){if(e[cI].bV==f[dz].bV){h=true;}}if(!h){f.push(e[cI]);}}}haloS["enableSearchModeList"](f,function(){v.setTimeout(function(){haloS["wakeDeviceUpTemporarilyList"](g,function(){haloS.IW(0,g,b,null,function(){haloS["disableSearchModeList"](f,function(){haloS["restartNetworksList"](f,function(){v.setTimeout(function(){d(true);},2000);});});});});},8000);});});};haloS["writeDescription"]=function(a,b,c,d){if(c&&(c.length>0)){var location=be.d2(be.cn(a),[242]);haloS["writeValue"](be.bf(location),c,d);}else{d(false);}};haloS["readDescription"]=function(a,b){var location=be.d2(be.cn(a),[242]);haloS["readValue"](be.bf(location),b);};haloS["callFunction"]=function(a,b,c){haloS["callFunction"](a,b,c);};haloS["callFunction"]=function(a,b,c){var d=be.cn(a);var e=cP.cQ.c1();if(b){for(var cI in b){var f=be.du(b[cI]);if(f==null){c();return;}e.dI(be.cn(cI),f);}}e.dH=haloS["messageKey"];e.eO([162],d,cP.nw,function(g,h){e.destroy(function(){c(g,h);});});};haloS["callFunctionSync"]=function(a,b){throw new Error("haloS.callFunctionSync is only usable in embedded code."+" Please use callFunction instead.");};haloS.IX=function(a,b,c,d,e,f){console.log("validating key run");if(e.cN){var g=f?2:10;if(e.IY++>=g){d(false);return;}var h=a+"/description";var i=be.cn(h);var j=cP.cQ.c1();j.dH=c;j.dJ(i,function(k,l){j.destroy(function(){if(e.cN){console.log("coming back:"+k+".."+l);if((l!=null)&&(l[0]===182)){d(false);return;}if(k!=null){d(true);return;}var timeout=v.setTimeout(function(){if(e.cN){d(null,e);haloS.IX(a,b,c,d,e,f);}},2500);}});});}};haloS["writeHaloCloudKey"]=function(a,b,c,d){if(c==null){d(true);return;}var e=c.name.slice(0,c.name.length-36).concat(62);var f={name:e,i6:c.i6};haloS["writeNetworkKey"](a,b,f,d,true);};haloS["checkNetworkKeyIsConfigured"]=function(a,b,c){var d=a+"/description";var e=be.cn(d);var f=cP.cQ.c1();f.dH=b;f.dJ(e,function(g,h){c(g!=null);});};haloS["writeNetworkKey"]=function(a,b,c,d,e,f){var BA={cN:true,IY:0};d(null,BA);var g=(a.search("/transform/")!=-1);var h=(b!=null);if(g){haloS.IZ(a,b,c,d,e,f,BA,h);return;}var i=a+"/description";var j=be.cn(i);var k=cP.cQ.c1();if(!g){k.dH=c;}k.dI([170,153],be.cj(Date.now()+1000*60*60*60));k.dJ(j,function(l,m){console.log("rrr"+l+".."+m);if(l!=null){d(true);return;}if(!g){var n=haloS["createBasicDeviceKey"](a);haloS["setMessageKey"](n);}var location=be.d2(be.cn(a),[242]);haloS["readValueForce"](be.bf(location),function(o,p){haloS["setMessageKey"]();if((p&&(p[0]===211))&&(!e)){d(false,BA,"Preconfigured");return;}if(b==null){b=haloS["createBasicDeviceKey"](a);}haloS.IZ(a,b,c,d,e,f,BA,h);});});};haloS["writeExtraKey"]=function(a,b,c,d){var qw=(b.i6&&b.i6.qw)?b.i6.qw():ks.qw(b);var e=gG.jB(b.name,qw);var kl=be.cv(be.cn(a));var iR=iP.rL();var f=false;for(var cI=0;cI<iR.length;cI++){if(be.dQ(iR[cI].target,kl)){var g=be.bf(kl);if(c){iR[cI].bV.gK.kP(e,iR[cI].target,c.name,c.i6);}else{iR[cI].bV.gK.kP(e,iR[cI].target);}v.setTimeout(function(){d(true);},(g.search("container/1")!=-1)?5400:400);f=true;break;}}if(!f){d(false);}};haloS.IZ=function(a,b,c,d,e,f,g,h){var qw=(c.i6&&c.i6.qw)?c.i6.qw():ks.qw(c);var i=gG.jB(c.name,qw);var j=(a.search("/transform/")!=-1);if(haloS.dv){gG.gH(a,function(k){console.log("open device route channel for key write:"+k);if(k){if(j){k.kP(i,be.cn(a));}else{k.kP(i,be.cn(a),b.name,b.i6);}v.setTimeout(function(){if(f){d(true);return;}if(j){d(true);}else{haloS.IX(a,b,c,d,g,h);}},(a.search("container/1")!=-1)?5400:400);}else{d(false);}});}else{var kl=be.cv(be.cn(a));var iR=iP.rL();var k=false;for(var cI=0;cI<iR.length;cI++){if(be.dQ(iR[cI].target,kl)){if(j){iR[cI].bV.gK.kP(i,iR[cI].target);}else{iR[cI].bV.gK.kP(i,iR[cI].target,b.name,b.i6);}var l=be.bf(kl);v.setTimeout(function(){if(f){d(true);return;}if(j){d(true);}else{haloS.IX(a,b,c,d,g,h);}},(l.search("container/1")!=-1)?5400:400);k=true;break;}}if(!k){d(false);}}};haloS["evaluateSoftwareDependencies"]=function(a,b,c){r4.sA(a,b,c);};haloS["compareWithInstalledSoftware"]=function(a,b,c){r4.tW(a,b,c);};haloS["installSoftwareGroup"]=function(a,b,c,d,e){r4.st(a,b,c,d,e);};haloS["software"]=function(a){if(a){this["name"]=a["name"];this["target"]=a["target"];this["product"]=a["product"];this["data"]=a["data"];this["fast"]=a["fast"];}var b=cP.de(v.aK(this["data"]));if(b["code"]["html"]){var c="";}else{var c=b["code"]["software"]?b["code"]["software"]._response:"";}var d=r4.so(b["code"]["code"]._response,c);this.tU=cP.de(d.sq);if((this["product"]==null)&&(b["product"])){this["product"]=b["product"]._responseTarget;}this["option"]=this.tU["option"];if(a&&a["option"]){this["option"]=(a["option"]);}this["output"]=this.tU["output"];};haloS["software"].prototype["getOptions"]=function(){return this["option"];};haloS["software"].prototype["setOptions"]=function(a){if(this["option"]==null){this["option"]={};}for(var cI in a){if(cI=="_type"){continue;}if(this["option"][cI]){if(a[cI]["value"]){this["option"][cI]["value"]=a[cI]["value"];}else if(a[cI]._type&&(a[cI]["target"]==null)){this["option"][cI]["target"]={_type:a[cI]._type};}else{this["option"][cI]=a[cI];}}else{this["option"][cI]=a[cI];}}};haloS["deleteSoftware"]=function(a,b){r4.tk(a,null,function(c,d){b(c);});};haloS["autoFindLocalGateways"]=function(a,b){if(!iP.rF){throw new Error("haloS must be initialized before any calls are made.\n"+"Initialize it by calling 'haloS.initialize();'");}var cS=(a=="tcp")?mo:(a=="http")?mn:mp;cS.lt([],function(c,d){if(d){var e=[];for(var cI=0;cI<c.length;cI++){e.push({bV:be.bf(c[cI].target),jg:c[cI].gK.gJ.iU});}b(e);}});};haloS["connectToSpecificGateway"]=function(a,b,c,d,e,f){if(typeof a=="object"){d=b;var options=a;a=options["type"];b=options["address"];var nb=options["authenticationAddress"];c=options["key"];var nc=options["privateKey"];var nd=options["clientCert"];e=options["returnDelay"];var f=options["closeCallback"];var g=options["delay"];var s7=options["transportIsAuthorizedAndSecure"];var ni=options["mtlsPassword"];}var h=200;if(b.search(":")!=-1){var i=b.split(":");b=i[0];var j=parseInt(i[1],10);}if(a=="tcp"){var port=j?j:7239;if(e==null){e=800+h;}var k=new mo.gJ(true,b,port,false,iP.iW,c);}else if((a=="http")||(a=="https")){var port=j?j:(a=="https")?443:80;if(e==null){e=800+h;}k=new mn.gJ(true,b,port,false,iP.iW,c);}else if((a=="websocket")||(a=="ws")||(a=="wss")){var port=j?j:(a=="wss")?443:80;if(e==null){e=800+h;}k=new mp.gJ(true,b,port,false,iP.iW,c);}else if((a=="wss-mtls")){var port=j?j:443;if(e==null){e=800+h;}k=new mp.gJ(true,b,port,false,iP.iW,c,nb,nc,nd);}else if(a=="usb"){k=new mq.gJ(b,false,iP.iW,c);}else{throw new Error("Type must be one of the following: 'tcp', 'http', or 'websocket'.");}k.mx=f;if(g){k.j6=g;}if(s7){k.kr=true;if(ni){k.ni=ni;}}var l=new gG.iZ(k,iP.cQ,be.cn("network/client/"+iP.iY++),iP.iW,iP.iA,function(m){if(m&&iP.lc){k.gK.kC(iP.lc,null);}setTimeout(function(){d(m,l);},e);});iP.rH.push(l);};haloS["disconnectFromSpecificGateway"]=function(a,b,c){var util=require("util");var d=false;var s2=(a=="tcp")?7239:(a=="usb")?null:80;for(var cI=iP.rH.length-1;cI>=0;cI--){var CB=iP.rH[cI];if((CB.gJ.iU==b)&&(CB.gJ.port==s2)){CB.close();d=true;iP.rH.splice(cI,1);cI--;}}c(d);};haloS["connectToServer"]=function(a,b,c,d,e){var cL=function(f,g){if(typeof a=="object"){d=b;}if(!f){d(false);return;}iP.l5=g;var h=cP.cQ.c1();h.c2=true;var kl=g.target;var hx=g.gJ.gK.iv;h.cV(kl,hx,function(i,j){h.destroy(function(){if(d){d(true,g.gJ.gK);}});});};if(typeof a=="object"){haloS["connectToSpecificGateway"](a,cL);}else{haloS["connectToSpecificGateway"](a,b,c,cL,e);}};haloS["registerDeviceConnectedCallback"]=function(a){gG.ig(function(b){a(be.bf(b));});};haloS["unregisterDeviceConnectedCallback"]=function(a){gG.I_(function(b){a(be.bf(b));});};haloS["registerRouteTableCallback"]=function(a){gG.ih(a);};haloS["unregisterRouteTableCallback"]=function(a){gG.ii(a);};haloS["setMessageKey"]=function(a){haloS["messageKey"]=a;};haloS.IV=function(a){var b=a.split(".");var c=[];for(var cI=0;cI<b.length;cI++){c.push(parseInt(b[cI],10));}while(c.length<4){c.push(0);}if(c.length>4){c=c.slice(0,4);}for(var cI=0;cI<4;cI++){if((c[cI]<=255)&&(c[cI]>=0)){}else{c[cI]=0;}}return c;};haloS.I$=function(a){var v0="";for(var cI=0;cI<a.length;cI++){var CB=a.charCodeAt(cI);if(v0.length){v0+=".";}v0+=CB.toString();}return v0;};haloS["readGatewayEthernetSupport"]=function(a,b,c){if(a.search("/device/transform/")!=-1){var location=a+"/network/system/begin";haloS["readTree"](location,function(d,e){if((d==null)||(d["target"]==null)){c(b);return;}if(d["target"]["temporary"]._response){b["type"]="static";b["ip"]=haloS.I$(d["target"]["a"]._response);b["netmask"]=haloS.I$(d["target"]["b"]._response);b["gateway"]=haloS.I$(d["target"]["c"]._response);if(d["output"]&&d["output"]._response){b["dhcpServerDisabled"]=d["output"]._response;}}else{b["type"]="dhcp";}b["dhcpServerDisabled"]=true;if(d["output"]._response){b["dhcpServerDisabled"]=false;}b["dns"]={};if(d["name"]["temporary"]._response){b["dns"]["type"]="manual";b["dns"]["primary"]=haloS.I$(d["name"]["target"]._response);}else{b["dns"]["type"]="auto";}c(b);},null,{I0:true});}else{var location=a+"/network/begin";haloS["readTree"](location,function(d,e){if(d==null){c(b);return;}if(d["a"]&&d["a"]._response&&d["a"]._response.length){var f=haloS.I$(d["a"]._response);if(f=="0.0.0.0"){b["type"]="dhcp";b["dhcpServerDisabled"]=false;if(d["output"]&&d["output"]._response){b["dhcpServerDisabled"]=d["output"]._response;}}else{b["type"]="static";b["ip"]=haloS.I$(d["a"]._response);b["netmask"]=haloS.I$(d["b"]._response);b["gateway"]=haloS.I$(d["c"]._response);}}else{b["type"]="dhcp";b["dhcpServerDisabled"]=false;if(d["output"]&&d["output"]._response){b["dhcpServerDisabled"]=d["output"]._response;}}c(b);},null,{I0:true});}};haloS["readGatewayEthernetConfiguration"]=function(a,b,c){var location=a+"/network/value";haloS["readValueForce"](location,function(d,e){var f={};if(d!=null){if(typeof d=="string"){var d=v.aK(d);f["target"]=d[0]+"."+d[1]+"."+d[2]+"."+d[3];if(d.length>4){f["code"]=v.F(d[4],2,16)+":"+v.F(d[5],2,16)+":"+v.F(d[6],2,16)+":"+v.F(d[7],2,16)+":"+v.F(d[8],2,16)+":"+v.F(d[9],2,16);}if(d.length>10){f["container"]={"1":{"target":d[10]+"."+d[11]+"."+d[12]+"."+d[13],"code":v.F(d[14],2,16)+":"+v.F(d[15],2,16)+":"+v.F(d[16],2,16)+":"+v.F(d[17],2,16)+":"+v.F(d[18],2,16)+":"+v.F(d[19],2,16)},"2":{"target":d[20]+"."+d[21]+"."+d[22]+"."+d[23],"code":v.F(d[24],2,16)+":"+v.F(d[25],2,16)+":"+v.F(d[26],2,16)+":"+v.F(d[27],2,16)+":"+v.F(d[28],2,16)+":"+v.F(d[29],2,16)}};}}else{f["target"]=((d>>24)&255)+"."+((d>>16)&255)+"."+((d>>8)&255)+"."+((d>>0)&255);}}if(c){b(f);return;}haloS["readGatewayEthernetSupport"](a,f,b);});};haloS["writeGatewayEthernetConfiguration"]=function(a,b,c){if(a.search("/device/transform/")!=-1){var ob=cP.de([60,122,149,60,97,1,1,62,122,155,60,122,243,60,97,1,0,62,122,212,60,97,32,1,4,0,0,0,0,62,62,122,212,60,122,243,60,97,1,0,62,122,200,60,97,32,1,4,0,0,0,0,62,122,201,60,97,32,1,4,0,0,0,0,62,122,202,60,97,32,1,4,0,0,0,0,62,62,122,178,60,97,1,0,62,62]);if(b["type"]=="dhcp"){ob["target"]["temporary"]._response=0;}else{ob["target"]["temporary"]._response=1;var d=haloS.IV(b["ip"]);var e=haloS.IV(b["netmask"]);var f=haloS.IV(b["gateway"]);ob["target"]["a"]={_response:d};ob["target"]["b"]={_response:e};ob["target"]["c"]={_response:f};if(b["dhcpServerDisabled"]===false){ob["output"]={_response:1};}}if(b["dns"]["type"]=="manual"){ob["name"]["temporary"]={_response:1};var d=haloS.IV(b["dns"]["primary"]);ob["name"]["a"]={_response:f};}var jH=cP.c7(ob);haloS["writeTreeRaw"](a+"/network/system/begin",jH,c);}else{if(b["type"]=="dhcp"){var jH=[60,62];if(b["dhcpServerDisabled"]){jH=[60,122,178,60,97,1,1,62,62];}haloS["writeTreeRaw"](a+"/network/begin",jH,c);}else{var d=haloS.IV(b["ip"]);var e=haloS.IV(b["netmask"]);var f=haloS.IV(b["gateway"]);var CB={"a":{_response:d},"b":{_response:e},"c":{_response:f}};var jH=cP.c7(CB);haloS["writeTreeRaw"](a+"/network/begin",jH,c);}}};haloS["connectToHaloCloud"]=function(a,b,c,d,e,f){haloS["messageKey"]=d;haloS["connectToServer"](a,b,c,e,f);};haloS["attachLocalFileServer"]=function(a,b,c,d){var e=f4.gg(a,c);iP.cQ.oy=e;var f=be.cn(b);iP.cQ.cV(f,be.cn("/reserved"),function(g,h){d(true);});};haloS["getDeviceList"]=function(a){v.setTimeout(function(){var iR=iP.rL();var b=[];for(var cI=0;cI<iR.length;cI++){b.push({"device":be.bf(iR[cI].target),"description":iR[cI].dd});}a(b);},1500);};haloS["returnDeviceEntry"]=function(a,b,c){var d=b.data["device"];for(var cI in d){if(d[cI]._type===a){var e=d[cI];break;}}var f=a;haloView.dv.dA({path:f},function(g){if(g&&g["data"]){var h=cP.de(g["data"]);var c3=bV.d4(h["machine"],f);bV.dS(h["workspace"],c3);e.c3=c3;}haloView.dv.dA({path:f+"/network/target/power"},function(i){if(i&&i["data"]){var h=cP.de(i["data"]);if(h._response){e.ei=h._response;e.en=i["date"];}c(e);}});});};haloS["returnSensorFromAbsoluteTarget"]=function(a,b){var c=a.split("/");var d=c.slice(0,-2).join("/");haloView.dv.dA({path:d},function(e){if(e&&e["data"]){var f=cP.de(e["data"]);var c3=bV.d4(f["machine"],{},d);bV.dS(f["workspace"],c3);for(var cI=0;cI<c3.length;cI++){if(be.bf(c3[cI].target)==a){b(c3[cI]);}}}});};haloS["getDeviceListWithSensors"]=function(a){v.setTimeout(function(){iP.rP(function(b){for(var c=0;c<b.length;c++){b[c].bV.iy=true;iP.i7(b[c].target,b[c].dd,null);}iP.tv(b,0,function(){b=iP.iQ.iR;var d=[];for(var cI=0;cI<b.length;cI++){var mr={"device":be.bf(b[cI].target),"description":b[cI].dd,"machines":[]};if(b[cI].c3){var e=b[cI].c3;for(var dz=0;dz<e.length;dz++){if(e[dz].type=="sensor"){var f={"target":be.bf(e[dz].target),"description":e[dz].name,"type":e[dz].type,"unit":e[dz].ef};mr["machines"].push(f);}}}d.push(mr);}a(d);},function(){});});},1500);};haloS["readValueSync"]=function(a,b){throw new Error("haloS.readValueSync is only usable in embedded code."+" Please use readValue instead.");};haloS["checkExists"]=function(a,b){haloS["checkExists"](a,b);};haloS["checkExists"]=function(a,b){var c=cP.cQ.c1();c.dH=haloS["messageKey"];c.oQ(be.cn(a),function(d,e){c.destroy(function(){if(b){b(d,e);}});});};haloS["createNode"]=function(a,b){var c=cP.cQ.c1();c.dH=haloS["messageKey"];c.kj(be.cn(a),function(d,e){c.destroy(function(){if(b){b(d,e);}});});};haloS["readValue"]=function(a,b){var c=be.cn(a);var d=cP.cQ.c1();d.dH=haloS["messageKey"];d.dJ(c,function(e,f){d.destroy(function(){if(b){b(e,f);}});});};haloS["readValueForce"]=function(a,b){var c=be.cn(a);var d=cP.cQ.c1();d.dI([170,153],be.cj(Date.now()+1000*60*60*60));d.dH=haloS["messageKey"];d.dJ(c,function(e,f){d.destroy(function(){if(b){b(e,f);}});});};haloS["readValueAdvanced"]=function(a,b,c){var d=be.cn(a);var e=cP.cQ.c1();if(b["date"]){e.dI([60,170,153,62],be.cj(b["date"]));}e.dH=haloS["messageKey"];e.dJ(d,function(f,g){e.destroy(function(){if(c){c(f,g);}});});};haloS.vI=function(a,b){var c=be.cv(a.concat());var iR=iP.rL();var d;for(var cI=0;cI<iR.length;cI++){if((d==null)&&(iR[cI].bV&&iR[cI].bV.gK)){if(b){d={gK:iR[cI].bV.gK,bV:iR[cI].target,I1:iR[cI].target,vJ:iR[cI].bV.gK.iv};}}if(iR[cI].target&&v.D(iR[cI].target,c,iR[cI].target.length)){if(iR[cI].bV&&iR[cI].bV.gK){d=iR[cI].bV.gK;var e=be.cv(iR[cI].target.concat());c=c.slice(e.length);c=be.dh(c);d={gK:iR[cI].bV.gK,bV:iR[cI].target,I1:c,vJ:iR[cI].bV.gK.iv};break;}}}return d;};haloS["writeValueSync"]=function(a,b){throw new Error("haloS.writeValueSync is only usable in embedded code."+" Please use writeValue instead.");};haloS["writeValueAndExpectResponse"]=function(a,b,c,d){var e=be.cn(a);var f=be.dy(b);var g=d?d:cP.cQ.c1();console.log("encoded:"+f);var h=[];h=h.concat(60,f,62);g.dI([60,214,250,62],h);g.eO([214],e,cP.nw,function(i,j){if(d){c(i,j);}else{g.destroy(function(){c(i,j);});}});};haloS["writeValue"]=function(a,b,c,d){var e=be.cn(a);var f=be.dy(b);var g=d?d:cP.cQ.c1();var h=[];h=h.concat(60,f,62);g.dH=haloS["messageKey"];g.cZ(e,h,function(i,j){if(d){c(i,j);}else{g.destroy(function(){c(i,j);});}},true);};haloS["readTreeSingleTier"]=function(a,b){var c=be.cn(a);var d=cP.cQ.c1();d.dH=haloS["messageKey"];d.dN(c,function(e,f){d.destroy(function(){if(e){b(cP.de(e));}else{b(e,f);}});});};haloS["readTree"]=function(a,b,c,d){var e=be.cn(a);var f=c?c:cP.cQ.c1();if(d&&d.gO){f.gO=d.gO;}if(d&&d.I0){f.dI([170,153],be.cj(Date.now()+1000*60*60*60));}if(d&&d.I2){f.dI([170,153],be.cj(d.I2));}f.dH=haloS["messageKey"];if(d&&d["reserved/test"]){f.dI(be.cn("reserved/test"),cP.c7(d["reserved/test"]));}f.dL(e,null,function(g,h){if(c){if(g){b(cP.de(g));}else{b(g,h);}return;}f.destroy(function(){if(g){b(cP.de(g));}else{b(g,h);}});});};haloS["readTreeWithoutRecursion"]=function(a,b,c,d){var e=be.cn(a);var f=c?c:cP.cQ.c1();f.dH=haloS["messageKey"];if(d&&d["reserved/test"]){f.dI(be.cn("reserved/test"),cP.c7(d["reserved/test"]));}f.oZ(e,function(g,h){if(c){if(g){b(cP.de(g));}else{b(g,h);}return;}f.destroy(function(){if(g){b(cP.de(g));}else{b(g,h);}});});};haloS["createState"]=function(){return cP.cQ.c1();};haloS["addParameter"]=function(a,b,c){var d=be.du(c);a.dI(be.cn(b),d);};haloS["destroyState"]=function(a){a.destroy();};haloS["destroyChild"]=function(a,b,c){var d=be.cn(a);var e=cP.cQ.c1();e.dH=haloS["messageKey"];e.cW(d,be.cn(b),function(f,g){e.destroy(function(){c(f,g);});});};haloS["destroyMachineChild"]=function(a,b,c){var d=be.d2(be.cn(a),[248]);var e=cP.cQ.c1();e.dI([236],b);e.eO([161],d,cP.eP,function(f,g){e.cW(d,b,function(h,i){e.destroy(function(){c();});});});};haloS["destroyMachineChildRecursive"]=function(a,b,c,d){if(b>=c.length){d(true);return;}var e=be.cj(parseInt(c[b],10));haloS["destroyMachineChild"](a,e,function(f,g){haloS["destroyMachineChildRecursive"](a,b+1,c,d);});};haloS["writeTree"]=function(a,b,c){if(Array.isArray(b)){throw new Error("haloS.writeTree only accepts object format for value");}var d=be.cn(a);var e=cP.cQ.c1();e.dH=haloS["messageKey"];b=cP.c7(b);e.cZ(d,b,function(f,g){e.destroy(function(){if(f){c(true);}else{c(f,g);}});},false);};haloS["writeTreeRaw"]=function(a,b,c){var d=be.cn(a);var e=cP.cQ.c1();e.dH=haloS["messageKey"];e.cZ(d,b,function(f,g){e.destroy(function(){if(f){c(true);}else{c(f,g);}});},false);};haloS["shutdown"]=function(a){setTimeout(function(){for(var cI=iP.rH.length-1;cI>=0;cI--){iP.rH[cI].close(true);}cP.cQ=null;iP.rF=false;console.log("Halo/S shutdown successful");if(a){a();}},100);};haloS["returnMessageDatabaseLocation"]=function(a){var b=be.cn(a);var c=v.aX([210]);var d=[(c>>8)&255,c&255];var e=d9.fA(d,4,2,2);var f=be.d2(b,[169,184,184]);var g=be.d2(f,e[0]);var g=be.d2(g,e[1]);var h=be.d2(g,[210]);return (be.bf(h));};haloS["createMessageDatabase"]=function(a,b){var c=be.cn(a);var d=v.aX([210]);var e=[(d>>8)&255,d&255];var f=d9.fA(e,4,2,2);var g=be.d2(c,[169,184,184]);var h=haloS["returnMessageDatabaseLocation"](a);h=be.cn(h);cP.cQ.oQ(h,function(i,j){if(i){b(be.bf(h));return;}var k=cP.cQ.c1();k.oN=true;d9.fq(g,e,4,4,2,k,[210],false,function(l,m){if(m==null){b();}else{var n=[];n=n.concat(60,101,be.cn("/machine/database/measurement/1"),122,184,60,62,122,198,60,97,1,0,62,122,213,60,97,210,62,62);k.cZ(m,n,function(o,p){k.destroy(function(q){b(be.bf(m));});});}});});};haloS["sendMessage"]=function(a,b,c,d){if(c==null){c=new Date();}var e=Math.round(c.getTime()*32.768);var data=[];data=data.concat(60,101,60,128,248,184,210,176,1,1,62,122,153,60,97);data=data.concat(be.cj(e));data=data.concat(62,122,210,60,97,be.cs(b),62,62);var f=cP.cQ.c1();f.dI([153],be.cj(e));f.eZ([250],data);var g=be.cn(a);g=be.d2(g,[210]);f.eO([216],g,cP.eP,function(h,i){f.destroy(function(){d(h,i);});});};haloS.I3=function(a,b,c,d){if(a>=b.length){d();return;}var vJ=b[a];var name="/company/paragonrobotics.com/local";var e={_type:vJ};haloS["sendSharedMessage"](vJ,name,e,null,function(f){var options={"sensor":c,"storageLocation":vJ};haloS.I4(options,function(g,h,i){haloS.I3(a+1,b,c,d);});});};haloS["returnSensorDatabaseLocation"]=function(a,b,c){var d=a;var e=be.cn(d);if(c){var f=be.d2(be.cn(b),be.cn(c));}else{var f=be.cn(b);}var g=v.aX(f);var h=[(g>>8)&255,g&255];var i=d9.fA(h,4,2,2);var j=be.d2(e,[169,184,184]);var k=be.d2(j,i[0]);var k=be.d2(k,i[1]);var l=be.d2(k,f);return be.bf(l);};haloS["createSensorMessageDatabase"]=function(a,b,c){var d=haloS["returnSensorDatabaseLocation"](a,b,"message");haloS["checkExists"](d,function(e){if(e){c(true,d);return;}var f=be.cn(d);var g=be.d2(be.cn(b),be.cn("message"));var h=be.cn(a);var i=be.d2(f,[198]);var j=be.d2(h,[169,184,184]);var k=v.aX(g);var l=[(k>>8)&255,k&255];var m=cP.cQ.c1();m.oN=true;d9.fq(j,l,4,4,2,m,g,false,function(n,o){if(o==null){c(false);return;}var p=[];p=p.concat(60,101,be.cn("/machine/database/measurement/1"),122,184,60,62,122,198,60,97,1,0,62,122,213,60,97,g,62,62);m.cZ(o,p,function(q,r){m.destroy(function(s){c(true,d);});});});});};haloS["startRecorder"]=function(a,b){if(a["storageLocation"]==null){haloS.I5(a,b);}else if(Array.isArray(a["storageLocation"])){haloS.I3(0,a["storageLocation"],a["sensor"],function(){var c=haloS["returnSensorDatabaseLocation"]("/company/paragonrobotics.com/local",a["sensor"]);var d=be.cn(c);haloS.I6(d,a,function(e,f){b(e,f,d);});});}else{haloS.I7(a,b);}};haloS.I7=function(a,b){haloS.I4(a,function(c,d,e){if(c!=null){b(c,d,e);return;}haloS.I6(e,a,function(f,g){b(f,g,e);});});};haloS.I4=function(a,b){var sB=a["sensor"];var c=a["storageLocation"];var d=haloS["returnSensorDatabaseLocation"](c,a["sensor"]);var e=be.cn(d);var f=be.cn(c);var g=be.d2(e,[198]);var h=be.d2(f,[169,184,184]);var i=be.cn(a["sensor"]);var j=v.aX(i);var k=[(j>>8)&255,j&255];cP.cQ.dJ(g,function(l,m){if((l!=null)){if(a["databaseOnly"]){b(true,null,e);return;}b(null,null,e);return;}var n=cP.cQ.c1();n.oN=true;d9.fq(h,k,4,4,2,n,be.cn(sB),false,function(o,p){console.log("final path"+p);if(p==null){b(false);return;}var q=[];q=q.concat(60,101,be.cn("/machine/database/measurement/1"),122,184,60,62,122,198,60,97,1,0,62,122,213,60,97,be.cn(sB),62,62);n.cZ(p,q,function(r,s){n.destroy(function(t){console.log("results:"+t+".."+s);cP.cQ.dJ(g,function(u,Iw){if(u==null){b(false,"Could not set up database");return;}if(a["databaseOnly"]){b(true,null,p);return;}b(null,null,p);});});},false);});});};haloS.I5=function(a,b){if(a["maxQueueSize"]==null){a["maxQueueSize"]=242;}else if(a["maxQueueSize"]<0.25){a["maxQueueSize"]=64;}else if(a["maxQueueSize"]>1){a["maxQueueSize"]=242;}else{a["maxQueueSize"]=Math.floor(a["maxQueueSize"]*242);}if(a["maxTimeBetweenWrites"]>0&&a["maxTimeBetweenWrites"]<60*30){a["maxTimeBetweenWrites"]=60*30;}a["sampleRate"]=(a["sampleRate"]<0.5)?0.5:a["sampleRate"];var c={dl:a["collection"],sB:a["sensor"],ef:a["unit"],dX:a["usePackage"],I8:a["newPods"],I9:a["includePods"],Ja:a["sampleRate"]*1000||-1};var d=a["usePackage"];if(d){if(a["isInstant"]){a["resolution"]=1;var e={_type:"/software/type/basic/1","machine":{_type:"/machine/container","1":{_type:"/machine/sensor/boolean/1","run":{_response:1},"type":{_responseTarget:"/type/boolean"},"value":{_type:a["sensor"]+"/value"},"dimension":{_response:a["maxQueueSize"]},"description":{_response:"Virtual recorder"},"time":{_response:a["maxTimeBetweenWrites"]}}}};}else{var e={_type:"/software/type/basic/1","machine":{_type:"/machine/container","1":{_type:"/machine/sensor/basic/1","run":{_response:1},"type":{_responseTarget:"/type/K"},"subtract":{_response:a["resolution"]},"refresh":{_response:a["sampleRate"]},"value":{_type:a["sensor"]+"/value"},"dimension":{_response:a["maxQueueSize"]},"description":{_response:"Virtual recorder"},"time":{_response:a["maxTimeBetweenWrites"]}}}};}var su={"product":"/machine/database/refresh/1","code":{"transform":e}};if(a["storageLocation"]==null){var f=a["sensor"].search("/workspace/");var bV=a["sensor"].slice(0,f);}else{bV=a["storageLocation"];}r4.sr(be.cn(bV),su,null,null,function(g,h){if(!h){c.dY=be.bf(g.target);haloS.Jb(c,function(){b(g,h);});}else{b(g,h);}});return;}if(a["isInstant"]){a["resolution"]=1;haloS.Jc(a["sensor"],a["maxQueueSize"],c,b);return;}var g=be.d2(be.cn(a["sensor"]),[161]);cP.cQ.fy(g,be.cj(a["resolution"]),function(h,i){var j=be.d2(be.cn(a["sensor"]),[196]);cP.cQ.fy(j,be.cj(a["sampleRate"]),function(k,l){if(a["maxTimeBetweenWrites"]){var dW=a["maxTimeBetweenWrites"];if(dW<60*30){dW=60*30;}var m=be.d2(be.cn(a["sensor"]),[152]);cP.cQ.fy(m,be.cj(dW),function(n,o){haloS.Jc(a["sensor"],a["maxQueueSize"],c,b);});}else{haloS.Jc(a["sensor"],a["maxQueueSize"],c,b);}});});};haloS.I6=function(a,b,c){var d=be.d2(be.cn(b["sensor"]),[184]);var e=[];e=e.concat(60,101,a,62);cP.cQ.fr(d,e,function(f,g){haloS.I5(b,c);});};haloS.Jc=function(a,b,c,d){var e=be.d2(be.cn(a),[236]);cP.cQ.fy(e,be.cj(b),function(f,g){var e=be.d2(be.cn(a),[149]);cP.cQ.fy(e,[1,1],function(h,i){cP.cQ.eO([196],be.cn(a),cP.eP,function(){if(!i){haloS.Jb(c,function(){d(h,i);});}else{d(h,i);}});});});};haloS["stopRecorder"]=function(a,b){var sB=a["sensor"];var c=a["isPackage"];if(c){cP.cQ.eO([196],be.cn(a["loggingTarget"]+"/machine/1"),cP.eP,function(){r4.tk(a["loggingTarget"],null,function(d,e){if(!e){haloS.Jd(a["collection"],a["sensor"],function(){b(d,e);});}else{b(d,e);}});});return;}var d=be.d2(be.cn(sB),[149]);cP.cQ.fy(d,[1,0],function(e,f){cP.cQ.eO([196],be.cn(sB),cP.eP,function(){if(!f){haloS.Jd(a["collection"],a["sensor"],function(){b(e,f);});}else{b(e,f);}});});};haloS.Jb=function(a,b){var dl=a.dl;var sB=a.sB;var ef=a.ef;var dX=a.dX;var dY=a.dY;var I8=a.I8;var I9=a.I9;var Ja=a.Ja;haloS.Je(sB,ef,dX,dY,Ja,function(){haloS.Jf(I8,dl,sB,ef,dX,dY,Ja,function(){haloS.Jg(I9,dl,sB,dX,dY,Ja,function(){b();});});});};haloS.Je=function(a,b,c,d,e,f){Hq.dm(a,function(g){haloS["readDescription"](a,function(h){var i=be.ek(be.cn(a));var j=i+" - "+h;var now=Date.now();var k;if(Object.keys(g).length){k=Hq.HC(null,g);k.data["date"]["stop"]._response=-1;}else{k=Hq.HC(null,{_type:Hq.Hu.Hv,"type":{_response:b},"id":{_response:a},"name":{_response:j},"date":{"start":{_response:now},"stop":{_response:-1}},"container":{}});}k.HI(a);if(c){k.HF(d,a,e,Hq.Hr.Hs,d,now,-1);}else{k.HF(a,a,e,Hq.Hr.Hs,a,now,-1);}k.HJ("Started logging.");k.save(f);});});};haloS.Jf=function(a,b,c,d,e,f,g,h){b.dm(function(i){var j=function(k){if(k>=a.length){h();return;}var HC=a[k];var now=Date.now();var l=Hq.HC(b,{_type:Hq.Hu.Hw,"type":{_response:d},"name":{_response:HC.name},"date":{"start":{_response:now},"stop":{_response:-1}},"container":{}});if(e){l.HF(f,c,g,Hq.Hr.Hs,f,now,-1);}else{l.HF(c,c,g,Hq.Hr.Hs,c,now,-1);}l.HJ("Started logging.");l.save(function(){j(k+1);});};j(0);});};haloS.Jg=function(a,b,c,d,e,f,g){b.dm(function(h){var i=function(j,k){if(j>=k.length){g();return;}var l=k[j];var now=Date.now();if(d){l.HF(e,c,f,Hq.Hr.Hs,e,now,-1);}else{l.HF(c,c,f,Hq.Hr.Hs,c,now,-1);}l.HJ("Started logging sensor "+c+".");l.save(function(){i(j+1,k);});};var j=Object.values(h.d6).filter(function(k){return a.includes(k["id"]._response);}).map(function(k){return Hq.HC(b,k);});i(0,j);});};haloS.Jd=function(a,b,c){haloS.Jh(b,function(){haloS.Ji(a,b,function(){c();});});};haloS.Jh=function(a,b){Hq.dm(a,function(c){var now=Date.now();if(!Object.keys(c).length){b();return;}var d=Hq.HC(null,c);d.data["date"]["stop"]._response=now;var e=fQ.b6(d.data["container"]);e["date"]["stop"]._response=now;d.HJ("Stopped logging.");d.save(b);});};haloS.Ji=function(a,b,c){a.dm(function(d){var e=function(f,g){if(f>=g.length){c();return;}var h=g[f];h.HI(b);h.save(function(){e(f+1,g);});};var f=Object.values(d.d6).map(function(g){return Hq.HC(a,g);});e(0,f);});};haloS["eraseRecordedData"]=function(a,b){var c=a+"/database";haloS["readTree"](c,function(d){var Bq=d._type;var e=Bq.slice(0,-a.length);haloS["destroyChild"](e,a,function(){b();});});};haloS["readRecordingDatabase"]=function(a,b,c,d,e){haloS.Jj(a,b,c,d,true,e);};haloS["readRecordedData"]=function(a,b,c,d,e){haloS.Jj(a,b,c,d,null,e);};haloS.Jj=function(a,b,c,d,e,f){var g=be.cn(a);var h=new tG.vz({sB:be.cn(a),ve:3,vx:28,vy:4,uZ:-5,uY:50000,vB:true,vC:e,name:"Data"});haloS.Jk(a,h);h.z(function(i,j){if(!i){d();return;}h.vk(0,b,c,function(k){d({"xData":h.u5,"yData":h.u6,"database":h.da?be.bf(h.da[0]):null});});});};haloS["digestRecordedData"]=function(a,b){var c=be.cn(a);var d=new tG.vz({sB:be.cn(a),ve:3,vx:28,vy:4,uZ:-5,uY:50000,vB:true,name:"My first data recorder"});d.z(function(e,f){d.vr(function(g){b(true,1);});});};haloS["readFirmwareVersion"]=function(a,b){var c=be.d2(be.cn(a),be.cn("software/version/larger"));haloS["readValueForce"](be.bf(c),function(d){if(d!=null){var i8=d;c=be.d2(be.cn(a),be.cn("software/version/smaller"));haloS["readValueForce"](be.bf(c),function(e){if(e!=null){var i9=e;b({"major":i8,"minor":i9});}else{b();}});}else{b();}});};haloS["updateFirmware"]=function(a,b,c){var d=haloS["isGateway"](a)||(a.search("/device/transform/")!=-1);var e=(a.search("/device/transform/")!=-1);var f=[];if(b.data["smaller"]){var ez=v.aK(b.data["smaller"]._response);var g=be.d2(be.cn(a),be.cn("software/code/smaller"));}else{var h=true;var ez=v.aK(b.data["larger"]._response);var g=be.d2(be.cn(a),be.cn("software/code/larger"));}if(a.search("container/1")!=-1){var i=be.d2(be.cn(a),be.cn("software/code/temporary"));haloS.Jl(i,ez,0,function(){var f=cP.cQ.c1();haloS.Jm(b,a,f,g,[],d,h,e,c);});}else{var f=cP.cQ.c1();haloS.Jm(b,a,f,g,ez,d,h,e,c);}};haloS.Jl=function(a,b,c,d){if(c*haloS.Ig>=b.length){d();return;}var e=b.slice(c*haloS.Ig,(c+1)*haloS.Ig);var f=cP.cQ.c1();f.Jn=20000;f.dI([60,214,250,62],be.df(e));f.eO([214],a,cP.eP,function(g,h){f.destroy(function(){haloS.Jl(a,b,c+1,d);});});};haloS.Jm=function(a,b,c,d,e,f,g,h,i){if(e.length){c.eZ([60,214,250,62],e);}console.log("isNseries:"+h);gG.j6=30000;c.eO([214],d,cP.eP,function(j,k){c.destroy(function(){gG.j6=null;if(!h&&f&&g){i(true);return;}var l=h?25:g?10:1;console.log("Waiting "+l+" seconds for device to update firmware flash...");v.setTimeout(function(){if(j!==true){i(false);return;}haloS["readFirmwareVersion"](b,function(m,n){if(m==null){i(false);}else{if((m["major"]!=a["version"]["larger"]._response)||(m["minor"]!=a["version"]["smaller"]._response)){i(false);}else{i(true);}}});},l*1000);});});};haloS["reformatGatewayStorage"]=function(a,b){var target=a+"/file/transform";haloS["readValue"](target,b);};haloS.Jo=function(a){var b=[];var c=[];var d=a.length;for(var cI=0;cI<d;cI++){var name=a[cI].name;var e=name.split("/");if(e.length>1){var f="";for(var BH=0;BH<e.length-1;BH++){if(f.length){f+="/";}f+=e[BH];var g=false;for(var h=0;h<b.length;h++){if(b[h]==f){g=true;break;}}if(!g){b.push(f);c.push({name:f});}}}c.push({name:name});var i=a[cI].data.length;var j="";for(var dz=a[cI].name.length-1;dz>=0;dz--){j=a[cI].name[dz]+j;if(a[cI].name[dz]=="."){break;}}var k="text/html";if(j==".html"){k="text/html";}else if(j==".png"){k="image/png";}else if(j==".css"){k="text/css";}else if(j==".svg"){k="image/svg+xml";}else if(j==".js"){k="application/javascript";}else if(j==".jpg"){k="image/jpeg";}else if(j==".pdf"){k="application/pdf";}else if(j==".manifest"){k="text/cache-manifest";}else if(j==".gif"){k="image/gif";}else if(j==".ico"){k="image/x-icon";}else if(j==".zip"){k="application/zip";}c.push({name:a[cI].name+"/type",data:k});c.push({name:a[cI].name+"/dimension",data:i});c.push({name:a[cI].name+"/data",data:a[cI].data});a[cI].data=null;}return c;};haloS.Jp=function(a,b,c){var jX=a+"/file/file/"+b.name;haloS.o$(jX,function(d){c();});};haloS.h2=function(a,b,c){if(b.data==null){c();return;}var jX=a+"/file/file/"+b.name;haloS["writeValue"](jX,b.data,function(d){c();});};haloS["loadWebFilePackage"]=function(a,b,c,d){if(EC.EL(b)){var e=v.aK(b);var EU=new EC.EU(e,null,function(f){f=haloS.Jo(f);var jX=a+"/file/file/";haloS["writeTreeRaw"](jX,[60,62],function(){haloS.Jq(a,f,0,c,d);});});EU.FC();}else{c(false,"Input file is not a zip file");}};haloS.Jq=function(a,b,c,d,e){if(c>=b.length){d(true);return;}var f=b[c];haloS.Jp(a,f,function(){haloS.h2(a,f,function(){v.nextTick(function(){if(e){e((c+1)/b.length);}haloS.Jq(a,b,c+1,d,e);});});});};haloS["createDatabaseEntry"]=function(a,b,c){var d=be.cn(a);var e=cP.cQ.c1();e.dI([211],be.cj(b));e.o_(d,[216],function(f,g){e.destroy(function(){c(be.d2(d,f),g);});});};haloS.Jr=function(a){this.bA=a;};haloS.Jr.prototype.fE=function(a,b){var c=this;var d=be.cu(a.target);d=be.cv(d);a.cA([210],function(e,f){Js=haloS.Jt;if(d.length){try{var g=be.dj(d);var Js=haloS.Ju[g.value];}catch(h){}}if(Js){Js(e);}a.cJ([1,1]);b(a);});};haloS["subscribeToRoutingChanges"]=function(a,b){var c=iP.l5;console.log("haloSession.haloCloudOrganism:"+iP.l5);if(c){c.gJ.gK.kE(a);}gG.ig(b);};haloS["unsubscribeToRoutingChanges"]=function(a,b){};haloS["subscribeToDataChanges"]=function(a,b){};haloS["unsubscribeToDataChanges"]=function(a,b){};haloS["registerMessageHandler"]=function(a,b){var target="/message";if(b){target="/message/"+(haloS.Ih);if(haloS.Ju==null){haloS.Ju=[];}haloS.Ju[haloS.Ih]=a;haloS.Ih++;}else{haloS.Jt=a;}if(b&&(haloS.Jt==null)){cP.cQ.lN(new haloS.Jr(function(){}),be.cn("/message"));haloS.Jt=function(){};}cP.cQ.lN(new haloS.Jr(a),be.cn(target));return be.bf(iP.iW)+target;};haloS["unregisterMessageHandler"]=function(a,b){cP.cQ.lU(be.cn(a));};haloS["startInstantAlarmAdvanced"]=function(a,b,c,d){haloS.Jv(a,b,c,true,d);};haloS["startAlarmAdvanced"]=function(a,b,c,d){haloS.Jv(a,b,c,false,d);};haloS["findNseriesParent"]=function(a,b,c){var d=(b.search("/device/sensor")==-1);if(!d){c();return;}if(b.search("/device/transform")!=-1){var e=b.split("/");var f=e.slice(0,8).join("/");c(f);return;}c();};haloS["ensureFolderDevicesAreConnected"]=function(a,b){var c=0;var lX=a.data["device"];var d=[];for(var cI in lX){if(lX[cI]._type.search("/company/paragonrobotics.com/device/transform")!=-1){d.push(lX[cI]._type);}}var e=function(f,g){if(g>=f.length){if(b){b(c);}return;}haloS.dv.dA({path:f[g],"security":a.path},function(h){if(h){var mk=cP.de(h["network"]);if(mk["type"]&&mk["type"]._response==="proxy"){e(f,g+1);return;}if(mk["target"]&&mk["target"]["1"]){if(mk["target"]["1"]._type.search("/type/network/usb")===0){for(var cI=0;cI<gG.ia.length;cI++){var su=gG.ia[cI];if(su.name==f[g]){e(f,g+1);return;}}haloS["readValueForce"](f[g]+"/description",function(i,j){if(i!=null){c++;}e(f,g+1);});return;}}else{e(f,g+1);return;}}e(f,g+1);});};e(d,0);};haloS.Jv=function(a,b,c,d,e){if(a.length>1){throw new Error("Only 1 test is currently allowed by startAlarmAdvanced");}var f=be.cn(a[0]["sensor"]);var tO=(c["minimumAlertDelay"]>(10*60))?c["minimumAlertDelay"]:10*60;if(c["refresh"]>28800){c["refresh"]=28800;}var g={_type:"/route/container/smaller"};var h={_type:"/route/container/smaller"};for(var cI=0;cI<b.length;cI++){var dz=b[cI];if(dz.type=="email"){var i="/company/"+haloView.fP+"/external/code/message/"+dz["email"];g[(cI+1)]={_type:i,"message":{_response:dz["message"]}};h[(cI+1)]={_type:i,"message":{_response:dz["message"]+" OFF"}};}else if(dz.type=="local"){var target=dz["target"]?dz["target"]:"/company/"+haloView.fP+"/software/1";var i=be.cn(target);i=be.d2(i,[210]);g[(cI+1)]={_type:be.bf(i),"message":{_response:dz["message"]}};h[(cI+1)]={_type:be.bf(i),"message":{_response:dz["message"]+" OFF"}};}else if(dz.type=="control"){var value=(dz["value"]!=null)?dz["value"]:1;var j=0;g[(cI+1)]={_type:"/route/change/response","target":{_responseTarget:dz["target"]+"/value"},"value":{_response:value}};h[(cI+1)]={_type:"/route/change/response","target":{_responseTarget:dz["target"]+"/value"},"value":{_response:j}};}else if(dz.type=="screen"){var i=dz["target"]+"/message";var k=dz["message"];if(dz["message"].search("ALARM:")!==0){k="ALARM:"+dz["message"];}g[(cI+1)]={_type:i,"message":{_response:k}};h[(cI+1)]={_type:i,"message":{_response:k+" OFF"}};}else if(dz.type=="database"){var i=dz["database"]+"/message";g[(cI+1)]={_type:i,"message":{_response:"ALARM:"+dz["message"]}};h[(cI+1)]={_type:i,"message":{_response:"ALARM:"+dz["message"]+" OFF"}};}else if(dz.type=="system"){var i="/company/"+haloView.fP+"/external/code/sendNetworkMessage";g[(cI+1)]={_type:i,"message":v.ac(dz.message)};if(dz.message["document"]&&dz.message["document"]["message"]){dz.message["document"]["message"]._response.replace("triggered","OFF");}h[(cI+1)]={_type:i,"message":dz.message};}}var eO=b[0]["message"]?b[0]["message"]:"Alarm";var bV=c["targetDevice"]?c["targetDevice"]:haloS.Jw(a[0]["sensor"]);if(d){var l=0;if(a&&a[0]&&(a[0]["reverse"]!=null)){l=a[0]["reverse"];}var sn=r4.tN(f,g,eO,c.type,l,h,c["refresh"],a[0]["high"],a[0]["low"],a[0]["buffer"],tO,bV);}else{var sn=r4.tP(c["refresh"],a[0]["high"],a[0]["low"],tO,f,g,eO,c.type,c.reverse,a[0]["buffer"],h,bV);}r4.sr(be.cn(bV),sn,null,null,function(m,n){e(m,n);});};haloS["startAlarm"]=function(a,b,c,d,e,f,g,h){var i=be.cn(e+"/value");var j=be.cn("/company/"+haloView.fP+"/sales/external/code/message/"+f);d=(d>(10*60))?d:10*60;var sn=r4.tQ(a,b,c,d,i,j,g);var bV=haloS.Jw(e);r4.sr(be.cn(bV),sn,null,null,function(k,l){h(k,l);});};haloS["stopAlarm"]=function(a,b){var sB=a["target"];var bV=a["targetDevice"]?a["targetDevice"]:haloS.Jw(sB);var c=be.cn(sB);r4.tg(be.cn(bV),c,function(d,e){b(true);});};haloS["stopSpecificAlarm"]=function(a,b){r4.tk(a,null,function(){b(true);});};haloS.Jw=function(a){var bw=0;for(var cI=0;cI<a.length;cI++){if(a[cI]=="/"){bw++;}if(bw===8){return a.slice(0,cI);}}};haloS["returnFullDatabaseTarget"]=function(a,b){if(a[a.length-1]=="/"){a=a.slice(0,-1);}for(var cI=a.length-1;cI>0;cI--){if(a[cI]=="/"){var f_=a.slice(0,cI+1);var b6=a.slice(cI+1);break;}}var c=parseInt(b6,10);var d=be.d2([184],be.cj((Math.floor(c/Math.pow(2,32)))&4095));d=be.d2(d,be.cj((c>>28)&15));d=be.d2(d,be.cj((c>>24)&15));d=be.d2(d,be.cj((c>>20)&15));d=be.d2(d,be.cj(c));return f_+be.bf(d);};haloS["adjustGatewayClockSpeed"]=function(a,b,c){var d=a+"/network/date/value";var e=1/32768;var dU=Math.ceil(e/b);var dT=(b<0)?254:2;var value=dU*256+dT;haloS["writeValue"](d,value,function(f){c(f);});};haloS["adjustGatewayWirelessParameters"]=function(a,b,c){var d=a+"/network/program/value";haloS["readValue"](d,function(e){var f=e.concat();f[4]=(b["seed"]>>8)&255;f[5]=(b["seed"])&255;f[8]=(b["offset"]>>8)&255;f[9]=(b["offset"])&255;f[10]=(b["index"])&255;f[11]=(b["shift"])&255;haloS["writeValue"](d,f,function(g){c(g);});});};haloS["synchronizeGatewayPiconets"]=function(a,b,c){var d=function(e,f,g){if(f>=e.length){g();return;}var b={"seed":0,"offset":0,"index":0};haloS["adjustGatewayWirelessParameters"](e[f].vJ,e[f].Jx,function(h,i){d(e,f+1,g);});};var e=Math.floor(Math.random()*256*256);var f=Math.floor(Math.random()*256*256);var g=Math.floor(25/a.length);var h=0;var i=[];for(var cI=0;cI<a.length;cI++){var mr={vJ:a[cI],Jx:{"seed":e,"offset":f,"index":0,"shift":h}};h+=g;i.push(mr);}d(i,0,function(){c({"seed":e,"offset":f});});};haloS["updateGatewayPiconetSynchronize"]=function(a,b,c){var d=vJ+"/network/date/value";var e=function(f,g,h){if(g>=f.length){h();return;}var d=f[g].vJ+"/network/program/value";haloS["readValue"](d,function(i){var j=i[8]*256+i[9];var jN=(j-f[g].bU)/Jy;haloS["adjustGatewayClockSpeed"](f[g].vJ,-jN*2,function(k,l){e(f,g+1,h);});});};var Jy=(new Date()).getTime()-b["start"].getTime();var f=[];for(var cI=0;cI<a.length;cI++){var mr={vJ:a[cI],bU:(b["offset"]!=null)?b["offset"]:32768};f.push(mr);}e(f,0,function(){c(true);});};haloS["WIRELESS_MODE"]={"NORMAL_915":0,"LONG_RANGE_915":1};haloS["changeGatewayWirelessMode"]=function(a,b,c){var d=a+"/network/control";var e=(b===0)?8:4;var f=a+"/network/data";var g=(b===0)?30:3;haloS["writeValue"](d,e,function(h){haloS["writeValue"](f,g,function(i){haloS["readValue"](a+"/network/start",function(j){c(j);});});});};haloS["returnAreaNameFromPath"]=function(a){var yj="/reserved/system/data/";var b=haloS.jS;a=a.slice(yj.length);if(a.length){var c=a.split("/");while(c.length){b=b[c[0]];if(b==null){return;}c.splice(0,1);}}return b["name"]._response;};haloS["simulatedDevice"]=function(a,b){return new bV.cm(a,b);};haloS.r7=function(a){var b=[];if(a.c3){for(var dz=0;dz<a.c3.length;dz++){var sB=a.c3[dz];b.push(sB);}}if(a.cO){for(var c in a.cO){var sn=a.cO[c];if(sn.c3){for(var BH=0;BH<sn.c3.length;BH++){var sB=sn.c3[BH];b.push(sB);}}}}return b;};haloS["getTypes"]=function(a){var d_=[];if(a._type){d_.push(a._type);}if(a.d5){for(var cI=0;cI<a.d5.length;cI++){d_.push(a.d5[cI]);}}return d_;};haloS.hI={};haloS["returnFolderFromPath"]=function(a,b){if(haloS.hI[a]){return haloS.hI[a];}else{if(b==null){b={};}b["path"]=a;var c=new H0(b);haloS.hI[a]=c;return c;}};haloS.Jz=function(a,b){var mm=function(c){if(c>=a.length){b();return;}if((a[c].target.search("/device/transform/")==-1)&&(a[c].target.search("/device/refresh/")==-1)&&(a[c].target.search("/device/temperature/")==-1)){mm(c+1);return;}var d;var mk;var cL=function(){haloS["readValue"](a[c].target+"/description",function(e,f){if((e!=null)||(f&&f.length&&(f[0]!==184))){a[c].JA=true;}else{a[c].JA=false;}if(haloS.dv){if(mk["date"]==null){mk["date"]={};}if(mk["date"]["network"]==null){mk["date"]["network"]={};}mk["date"]["network"]={_response:Date.now()*32.768};d["network"]=cP.dx(mk);haloS.dv.dw(d,function(){mm(c+1);});}else{mm(c+1);}});};if(haloS.dv){haloS.dv.dA({path:a[c].target},function(e){d=e;mk=cP.de(e["network"]);if(mk["date"]&&mk["date"]["network"]&&mk["date"]["share"]&&mk["date"]["share"]._response&&(mk["date"]["share"]._response<mk["date"]["network"]._response)){a[c].JA=false;mm(c+1);return;}cL();});}else{cL();}};mm(0);};haloS.Jk=function(a,b){var c=a;if(iP.te){b.v2=be.bf(iP.l5.gJ.gK.iv);b.da=[be.cn(c+"/database")];return;}if(c.search("/device/transform")!=-1){var d=false;for(var cI=0;cI<iP.iA.lY.length;cI++){if(iP.iA.lY[cI].ju){var bV=be.bf(iP.iA.lY[cI].iW);if(c.search(bV)!=-1){var jx=iP.iA.lY[cI].jx;if(jx){var e=cP.de(jx);var f=e["target"]._type;if(f.search("/device/transform")!=-1){b.v2=f;b.da=[be.cn(c+"/database")];d=true;}}}}}if(!d){var f=c.split("/").slice(0,8).join("/");b.v2=f;b.da=[be.cn(c+"/database")];}}else if((c.search("/device/refresh")!=-1)||(c.search("/device/temperature")!=-1)){for(var cI=0;cI<iP.iA.lY.length;cI++){if(iP.iA.lY[cI].ju){var bV=be.bf(iP.iA.lY[cI].iW);if(c.search(bV)!=-1){var jx=iP.iA.lY[cI].jx;if(jx){var e=cP.de(jx);var f=e["target"]._type;b.v2=f;b.da=[be.cn(c+"/database")];}}}}}};haloS.v3=function(a,b,c,d,e,f){var g=cP.cQ.c1();if(b){g.dI([153],be.cj(Math.floor(b*32.768)));}if(c){g.dI([186],be.cn(c));}g.dI([210],[162]);g.dI([212],be.cn(a));g.o_(be.cn(d),144,function(h,i){if(h){var j=cP.de(h);delete e[a];if((j["data"]!=null)&&j["data"]["date"]){var k=cP.dx(j["data"]["data"]);var l={"path":a,"data":k,"date":Math.floor(j["data"]["date"]._response/32.768),"refresh":Date.now(),"network":cP.dx(j["data"]["network"])};if(iP.dv){iP.dv.dw(l,function(m){f(l);},true);}else{f(l);}}else{f();}}else{e[a]=Date.now();f();}g.destroy();});};haloS.JB=function(a,b,c,d,e){return new Promise(function(f,g){haloS.v3(a,b,c,d,e,f);});};haloS.JC=function(a,b,c,d,e,f){var g=a["date"]?a["date"]:Date.now();g=Math.floor(g*32.768);if(d){var h=cP.cQ.c1();h.dI([153],be.cj(g));if(a["previous"]){h.dI([240],be.cj(Math.floor(a["previous"]*32.768)));}h.dI([210],[171]);if(b&&b.length){h.dI([242],be.cs(b));}var i=Array["from"](a["data"]);h.dI([250],i);h.o_(be.cn(a["path"]),170,function(j,k){if(j&&v.D(j,[60,122,183,60,97,240,62,62])){if(iP.JD){iP.JD(a["path"],k);}}h.destroy();f();});}else if(a["security"]){var h=cP.cQ.c1();h.dI([153],be.cj(g));if(a["previous"]){h.dI([240],be.cj(Math.floor(a["previous"]*32.768)));}h.dI([186],be.cn(a["security"]));h.dI([210],[171]);h.dI([212],be.cn(a["path"]));if(a["network"]){h.dI([182],be.df(Array["from"](a["network"])));}var i=Array["from"](a["data"]);var j=[60];j=j.concat(122,153,60,97,be.cj(g),62);if(a["network"]){j=j.concat(122,182,(Array["from"](a["network"])));}j=j.concat(122,250,i,62);h.dI([250],j);delete e[a["path"]];h.o_(be.cn(c),144,function(k,l){if(k&&v.D(k,[60,122,183,60,97,240,62,62])){if(iP.JD){iP.JD(a["path"],l);}}h.destroy();f();});}else{console.log("share write to "+a["path"]+" was ignored, as no security path was specified");f();}};haloS.JE=function(a,b){var c=function(){JF(a+"target",function(){JG(a+"target",function(){JF(a+"sender",function(){JG(a+"sender",function(){JH(JI,function(){b(jZ);});});});});});};var JF=function(d,e){var f=function(g,h,i,j,k){if(i>=h.length){k();return;}haloView.dv.dA({path:g+"/"+h[i]},function(l){if(j===4){f(g,h,i+1,j,k);return;}if(l==null){f(g,h,i+1,j,k);return;}else{var jH=cP.de(l["data"]);var m=[];for(var cI in jH){m.push(cI);}f(g+"/"+h[i],m,0,j+1,function(){f(g,h,i+1,j,k);});}},null,true);};haloView.dv.dA({path:d},function(g){if(g==null){e();return;}var jH=cP.de(g["data"]);haloView.dv.dA({path:d+"/database"},function(h){if(h==null){e();return;}var jH=cP.de(h["data"]);var i=[];for(var cI in jH){i.push(cI);}f(d+"/database",i,0,1,e);},null,true);},null,true);};var JG=function(d,e){var f=function(g,h,i,j,k,l){if(i>=h.length){l();return;}haloView.dv.dA({path:g+"/"+h[i]},function(m){if(k===5){var message=cP.de(m["data"]);message["path"]=g+"/"+h[i];JI.push(message);var n=message["route"]["share"]._response;var o=message["route"]["date"]._response?message["route"]["date"]._response:message["route"]["date"]["1"]["date"]._response;if(o>j["date"]["refresh"]._response){j["date"]["refresh"]._response=o;if(j["option"]["number"][n]==null){j["option"]["number"][n]={};}cP.dF(j["option"]["number"][n],{"number":{_response:o}});}f(g,h,i+1,j,k,l);return;}if(m==null){f(g,h,i+1,j,k,l);}else{var zf=cP.de(m["data"]);var p=[];for(var cI in zf){p.push(cI);}f(g+"/"+h[i],p,0,j,k+1,function(){f(g,h,i+1,j,k,l);});}});};haloView.dv.dA({path:d+"/workspace"},function(g){if(g==null){var jH={};g={path:d+"/workspace"};}else{var jH=cP.de(g["data"]);}if(jH["date"]==null){jH["date"]={"refresh":{_response:0}};}if(jH["option"]==null){jH["option"]={"number":{}};}haloView.dv.dA({path:d+"/database"},function(h){if(h==null){e();return;}var zf=cP.de(h["data"]);var i=[];for(var cI in zf){i.push(cI);}f(d+"/database",i,0,jH,1,function(){g["data"]=cP.c7(jH);haloView.dv.dw(g,function(){e();});});});});};var JH=function(d,e){d["forEach"](function(f){var g=false;var h;var send;if(f["document"]._type==="/message/type/alarm/1"||f["document"]._type==="/message/type/alarm-event/1"){g=true;}if(f["path"].search("/database/sender/")!==-1){return;}var i=f["route"]["share"]._response;var j=f["route"]["date"]._response?f["route"]["date"]._response:f["route"]["date"]["1"]["date"]._response;var k=f["route"]["subject"]?f["route"]["subject"]._response:String(i);var l="0";if(f["route"]["date"]._response==null){for(var i6 in f["route"]["date"]){if(f["route"]["date"][i6]["eventType"]._response==="read"&&f["route"]["date"][i6]["by"]._response===iP.jl.JJ){l=f["route"]["date"][i6]["date"]._response;break;}}}for(var cI in jZ){for(var dz in jZ[cI]["messages"]){if(jZ[cI]["messages"][dz]["header"]["message_id"]===j){return;}}}if(g){h=f["document"]["document"]["container"][1].value._response;}else{h=f["document"]["container"][1].value._response;}var send=f["route"]["sender"]._type.split("/")[7];var iW=be.ek(be.cn(f["route"]["sender"]._type));if(iW!=="Server"){send=iW;}else{send=f["route"]["sender"]._type.split("/")[7];}var m=f["route"]["target"];var n={};for(var i6 in m){var name=m[i6].target._type.split("/")[7];n[name]={"name":name};}var data={"header":{"thread_id":i,"message_id":j,"replied_message_id":"0","date_sent":j,"html":false,"subject":k,"sender":send,"source":g?"Alarm":"Message","to":n,"senderTarget":f["route"]["sender"]},"path":f["path"],"body":{"message":h},"footer":{"date_read":l}};if(f["document"]["container"]&&f["document"]["container"][2]!=null&&(f["document"]["container"][2]._type==null||f["document"]["container"][2]._type.search("report")===-1)){data["header"]["attachment"]={_type:f["document"]["container"][2]._type,"name":{_response:f["document"]["container"][2].name._response},"data":{_response:f["document"]["container"][2].value._response}};}else if(f["document"]["container"]&&f["document"]["container"][2]!=null&&f["document"]["container"][2]._type.search("report")!==-1){data["header"]["attachment"]={_type:f["document"]["container"][2]._type,"data":{_response:f["document"]["container"][2].value._response}};}if(!jZ[i]){jZ[i]={"messages":{}};}if(g){var o=f["document"]["document"]["alarmID"]._response;data["header"]["alarmID"]=o;data["header"]["status"]=f["document"]["document"]["state"]._response;if(!jZ[i]["alarms"]){jZ[i]["alarms"]={};jZ[i]["alarms"][o]={};}if(jZ[i]["alarms"][o]){cP.dF(jZ[i]["alarms"][o],data);data["header"]["originatingDevice"]=jZ[i]["alarms"][o][1]["header"]["senderTarget"]._type;}}cP.dF(jZ[i]["messages"],data);});e();};var JI=[];var jZ={};c();};